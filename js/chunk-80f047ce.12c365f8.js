(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-80f047ce","chunk-00b02611"],{"0dfa":function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return i})),a.d(t,"e",(function(){return s}));var n=a("8188"),r=a("5996"),l=a("9786");async function u(e){const t=e.spatialReference;if(t.isWGS84)return e.clone();if(t.isWebMercator)return Object(l["e"])(e);const a=r["a"].WGS84;return await Object(n["f"])(t,a),Object(n["j"])(e,a)}function c(e,t){if(!i(e,t)){const a=e.typeKeywords;a?a.push(t):e.typeKeywords=[t]}}function i(e,t){var a;return!(null==(a=e.typeKeywords)||!a.includes(t))}function s(e,t){const a=e.typeKeywords;if(a){const e=a.indexOf(t);e>-1&&a.splice(e,1)}}async function o(e){const t=e.clone().normalize();let a;if(t.length>1)for(const n of t)a?n.width>a.width&&(a=n):a=n;else a=t[0];return u(a)}const d={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table"}},"15ec":function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return u}));var n=a("e041"),r=a("0224");function l(e){return{origin:"portal-item",url:Object(n["M"])(e.itemUrl),portal:e.portal||r["a"].getDefault(),portalItem:e,readResourcePaths:[]}}function u(e){return{origin:"portal-item",messages:[],writtenProperties:[],url:e.itemUrl?Object(n["M"])(e.itemUrl):null,portal:e.portal||r["a"].getDefault(),portalItem:e}}},"3b92":function(e,t,a){"use strict";a.r(t),a.d(t,"getFirstLayerOrTableId",(function(){return L})),a.d(t,"getNumLayersAndTables",(function(){return I})),a.d(t,"load",(function(){return s})),a.d(t,"preprocessFSItemData",(function(){return m}));var n=a("ce50"),r=a("a0b4"),l=a("0224"),u=a("15ec"),c=a("60ec"),i=a("a0aa");async function s(e,t){const a=e.instance.portalItem;if(a&&a.id)return await a.load(t),o(e),d(e,t)}function o(e){const t=e.instance.portalItem;if(!e.supportedTypes.includes(t.type))throw new n["a"]("portal:invalid-layer-item-type","Invalid layer item type '${type}', expected '${expectedType}'",{type:t.type,expectedType:e.supportedTypes.join(", ")})}async function d(e,t){const a=e.instance,n=a.portalItem,{url:r,title:l}=n,i=Object(u["a"])(n);if("group"===a.type)return a.read({title:l},i),y(a,e);r&&a.read({url:r},i);const s=await b(e,t);return s&&a.read(s,i),a.resourceReferences={portalItem:n,paths:i.readResourcePaths},a.read({title:l},i),Object(c["a"])(a,i)}function y(e,t){let a;const l=e.portalItem.type;switch(l){case"Feature Service":case"Feature Collection":a=r["a"].FeatureLayer;break;case"Stream Service":a=r["a"].StreamLayer;break;case"Scene Service":a=r["a"].SceneLayer;break;default:throw new n["a"]("portal:unsupported-item-type-as-group",`The item type '${l}' is not supported as a 'IGroupLayer'`)}let u;return a().then(e=>(u=e,b(t))).then(async t=>"Feature Service"===l?(t=await m(t,e.portalItem.url),p(e,u,t)):I(t)>0?p(e,u,t):f(e,u))}function f(e,t){return e.portalItem.url?Object(i["a"])(e.portalItem.url).then(a=>{var n,r;function l(e){return{id:e.id,name:e.name}}a&&p(e,t,{layers:null==(n=a.layers)?void 0:n.map(l),tables:null==(r=a.tables)?void 0:r.map(l)})}):Promise.resolve()}function p(e,t,a){let n=a.layers||[];const r=a.tables||[];"Feature Collection"===e.portalItem.type&&(n.forEach(e=>{var t;"Table"===(null==e||null==(t=e.layerDefinition)?void 0:t.type)&&r.push(e)}),n=n.filter(e=>{var t;return"Table"!==(null==e||null==(t=e.layerDefinition)?void 0:t.type)})),n.reverse().forEach(n=>{const r=h(e,t,a,n);e.add(r)}),r.reverse().forEach(n=>{const r=h(e,t,a,n);e.tables.add(r)})}function h(e,t,a,n){const r=new t({portalItem:e.portalItem.clone(),layerId:n.id,sublayerTitleMode:"service-name"});if("Feature Collection"===e.portalItem.type){const t={origin:"portal-item",portal:e.portalItem.portal||l["a"].getDefault()};r.read(n,t);const u=a.showLegend;null!=u&&r.read({showLegend:u},t)}return r}function b(e,t){if(!1===e.supportsData)return Promise.resolve(void 0);const a=e.instance;return a.portalItem.fetchData("json",t).catch(()=>null).then(async e=>{if(S(a)){let t,n=!0;return e&&I(e)>0&&(null==a.layerId&&(a.layerId=L(e)),t=w(e,a.layerId),t&&(1===I(e)&&(n=!1),null!=e.showLegend&&(t.showLegend=e.showLegend))),n&&"service-name"!==a.sublayerTitleMode&&(a.sublayerTitleMode="item-title-and-service-name"),t}return e})}async function m(e,t){var a,n;if(null==(null==(a=e)?void 0:a.layers)||null==(null==(n=e)?void 0:n.tables)){const a=await Object(i["a"])(t);(e=e||{}).layers=e.layers||(null==a?void 0:a.layers),e.tables=e.tables||(null==a?void 0:a.tables)}return e}function L(e){const t=e.layers;if(t&&t.length)return t[0].id;const a=e.tables;return a&&a.length?a[0].id:null}function w(e,t){const a=e.layers;if(a)for(let r=0;r<a.length;r++)if(a[r].id===t)return a[r];const n=e.tables;if(n)for(let r=0;r<n.length;r++)if(n[r].id===t)return n[r];return null}function I(e){var t,a,n,r;return(null!=(t=null==e||null==(a=e.layers)?void 0:a.length)?t:0)+(null!=(n=null==e||null==(r=e.tables)?void 0:r.length)?n:0)}function S(e){return"stream"!==e.type&&"layerId"in e}},"5c92":function(e,t,a){"use strict";a.r(t),a.d(t,"fromItem",(function(){return s})),a.d(t,"selectLayerClassPath",(function(){return d}));var n=a("ce50"),r=a("a0b4"),l=a("a7e1"),u=a("3b92"),c=a("0dfa"),i=a("a0aa");function s(e){return!e.portalItem||e.portalItem instanceof l["default"]||(e={...e,portalItem:new l["default"](e.portalItem)}),o(e.portalItem).then(t=>{const a={portalItem:e.portalItem,...t.properties};return new(0,t.constructor)(a)})}function o(e){return e.load().then(d).then(y)}function d(e){switch(e.type){case"Map Service":return f(e);case"Feature Service":return p(e);case"Feature Collection":return b(e);case"Scene Service":return h(e);case"Image Service":return m(e);case"Stream Service":return L();case"Vector Tile Service":return w();case"KML":return I();case"WFS":return S();case"WMTS":return g();case"WMS":return v();case"Feed":return k();default:return Promise.reject(new n["a"]("portal:unknown-item-type","Unknown item type '${type}'",{type:e.type}))}}function y(e){return(0,r["a"][e.className])().then(t=>({constructor:t,properties:e.properties}))}function f(e){return T(e).then(e=>e?{className:"TileLayer"}:{className:"MapImageLayer"})}function p(e){return N(e).then(e=>{if("object"==typeof e){const t={};return null!=e.id&&(t.layerId=e.id),{className:"FeatureLayer",properties:t}}return{className:"GroupLayer"}})}function h(e){return N(e).then(t=>{if("object"==typeof t){const a={};let n;if(null!=t.id?(a.layerId=t.id,n=`${e.url}/layers/${t.id}`):n=e.url,Array.isArray(e.typeKeywords)&&e.typeKeywords.length>0){const t={IntegratedMesh:"IntegratedMeshLayer","3DObject":"SceneLayer",Point:"SceneLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};for(const a of Object.keys(t))if(e.typeKeywords.includes(a))return{className:t[a]}}return Object(i["a"])(n).then(e=>{let t="SceneLayer";const n={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};return e&&e.layerType&&n[e.layerType]&&(t=n[e.layerType]),{className:t,properties:a}})}return!1===t?Object(i["a"])(e.url).then(e=>"Voxel"===(null==e?void 0:e.layerType)?{className:"VoxelLayer"}:{className:"GroupLayer"}):{className:"GroupLayer"}})}async function b(e){if(await e.load(),Object(c["d"])(e,"Map Notes"))return{className:"MapNotesLayer"};if(Object(c["d"])(e,"Route Layer"))return{className:"RouteLayer"};const t=await e.fetchData();return 1===Object(u["getNumLayersAndTables"])(t)?{className:"FeatureLayer"}:{className:"GroupLayer"}}async function m(e){var t,a,n,r;await e.load();const l=null!=(t=null==(a=e.typeKeywords)?void 0:a.map(e=>e.toLowerCase()))?t:[];if(l.includes("elevation 3d layer"))return{className:"ElevationLayer"};if(l.includes("tiled imagery"))return{className:"ImageryTileLayer"};const u=null==(n=await e.fetchData())?void 0:n.layerType;if("ArcGISTiledImageServiceLayer"===u)return{className:"ImageryTileLayer"};if("ArcGISImageServiceLayer"===u)return{className:"ImageryLayer"};const c=null==(r=(await Object(i["a"])(e.url)).cacheType)?void 0:r.toLowerCase();return"map"===c?{className:"ImageryTileLayer"}:{className:"ImageryLayer"}}function L(){return{className:"StreamLayer"}}function w(){return{className:"VectorTileLayer"}}function I(){return{className:"KMLLayer"}}function S(){return{className:"WFSLayer"}}function v(){return{className:"WMSLayer"}}function g(){return{className:"WMTSLayer"}}function k(){return{className:"StreamLayer"}}function T(e){return Object(i["a"])(e.url).then(e=>e.tileInfo)}function N(e){return!e.url||e.url.match(/\/\d+$/)?Promise.resolve({}):e.load().then(()=>e.fetchData()).then(async t=>"Feature Service"===e.type?j(t=await Object(u["preprocessFSItemData"])(t,e.url)):Object(u["getNumLayersAndTables"])(t)>0?j(t):Object(i["a"])(e.url).then(j))}function j(e){return 1===Object(u["getNumLayersAndTables"])(e)&&{id:Object(u["getFirstLayerOrTableId"])(e)}}},a0aa:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("2eab");async function r(e){const{data:t}=await Object(n["default"])(e,{responseType:"json",query:{f:"json"}});return t}},a0b4:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n={BingMapsLayer:async()=>(await a.e("chunk-2d0a4f14").then(a.bind(null,"091f"))).default,BuildingSceneLayer:async()=>(await Promise.all([a.e("chunk-895bcebe"),a.e("chunk-2d0cc264")]).then(a.bind(null,"4d64"))).default,CSVLayer:async()=>(await a.e("chunk-e4fd0ad0").then(a.bind(null,"2a7d"))).default,ElevationLayer:async()=>(await a.e("chunk-c6435564").then(a.bind(null,"f20e"))).default,FeatureLayer:async()=>(await Promise.resolve().then(a.bind(null,"5bd5"))).default,GroupLayer:async()=>(await a.e("chunk-2d0c8892").then(a.bind(null,"54fc"))).default,GeoRSSLayer:async()=>(await a.e("chunk-2d0a33b6").then(a.bind(null,"00ff"))).default,GeoJSONLayer:async()=>(await a.e("chunk-1f92628b").then(a.bind(null,"785c"))).default,ImageryLayer:async()=>(await Promise.all([a.e("chunk-4dec1432"),a.e("chunk-039414a1"),a.e("chunk-91c026ee")]).then(a.bind(null,"fc65"))).default,ImageryTileLayer:async()=>(await Promise.all([a.e("chunk-4dec1432"),a.e("chunk-039414a1"),a.e("chunk-d35ed61a"),a.e("chunk-1b354235")]).then(a.bind(null,"9917"))).default,IntegratedMeshLayer:async()=>(await a.e("chunk-69b3b5db").then(a.bind(null,"cafc"))).default,KMLLayer:async()=>(await a.e("chunk-161078e6").then(a.bind(null,"f5fc"))).default,LineOfSightLayer:async()=>(await a.e("chunk-ea65f93c").then(a.bind(null,"8790"))).default,MapImageLayer:async()=>(await Promise.resolve().then(a.bind(null,"53f8"))).default,MapNotesLayer:async()=>(await a.e("chunk-6b3eda79").then(a.bind(null,"5afa"))).default,OGCFeatureLayer:async()=>(await a.e("chunk-ef0d75d0").then(a.bind(null,"1f69"))).default,OpenStreetMapLayer:async()=>(await a.e("chunk-88f92b30").then(a.bind(null,"8c58"))).default,PointCloudLayer:async()=>(await a.e("chunk-155a9198").then(a.bind(null,"44bb"))).default,RouteLayer:async()=>(await a.e("chunk-49b5cf15").then(a.bind(null,"b285"))).default,SceneLayer:async()=>(await Promise.all([a.e("chunk-895bcebe"),a.e("chunk-550e06f3")]).then(a.bind(null,"d321"))).default,StreamLayer:async()=>(await a.e("chunk-2d21a92d").then(a.bind(null,"bba8"))).default,TileLayer:async()=>(await a.e("chunk-20e837a3").then(a.bind(null,"2650"))).default,UnknownLayer:async()=>(await a.e("chunk-2d209b4c").then(a.bind(null,"a9ca"))).default,UnsupportedLayer:async()=>(await a.e("chunk-2d0ac5dd").then(a.bind(null,"18dd"))).default,VectorTileLayer:async()=>(await Promise.all([a.e("chunk-17e51360"),a.e("chunk-2c6f5d07")]).then(a.bind(null,"173c"))).default,VoxelLayer:async()=>(await a.e("chunk-2df33656").then(a.bind(null,"a347"))).default,WebTileLayer:async()=>(await a.e("chunk-06ad9dad").then(a.bind(null,"9dc3"))).default,WFSLayer:async()=>(await a.e("chunk-41b20229").then(a.bind(null,"fa4e"))).default,WMSLayer:async()=>(await a.e("chunk-067a25e7").then(a.bind(null,"8760"))).default,WMTSLayer:async()=>(await a.e("chunk-6490f072").then(a.bind(null,"b039"))).default}}}]);
//# sourceMappingURL=chunk-80f047ce.12c365f8.js.map