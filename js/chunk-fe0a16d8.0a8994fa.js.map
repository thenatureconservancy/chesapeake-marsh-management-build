{"version":3,"sources":["webpack:///./node_modules/@arcgis/core/views/draw/support/Reshape.js","webpack:///./node_modules/@arcgis/core/core/ObjectStack.js","webpack:///./node_modules/@arcgis/core/geometry/support/Axis.js","webpack:///./node_modules/@arcgis/core/views/3d/support/mathUtils.js","webpack:///./node_modules/@arcgis/core/geometry/support/plane.js","webpack:///./node_modules/@arcgis/core/core/VectorStack.js","webpack:///./node_modules/@arcgis/core/geometry/support/vectorStacks.js","webpack:///./node_modules/@arcgis/core/geometry/support/vector.js","webpack:///./node_modules/@arcgis/core/chunks/mat4f64.js","webpack:///./node_modules/@arcgis/core/chunks/quatf64.js","webpack:///./node_modules/@arcgis/core/geometry/support/ray.js","webpack:///./node_modules/@arcgis/core/chunks/mat3f64.js","webpack:///./node_modules/@arcgis/core/chunks/sphere.js"],"names":["A","constructor","e","t","i","this","graphic","mover","selected","type","U","T","D","dx","dy","F","z","L","added","P","removed","K","s","oldGraphic","vertices","N","q","E","reshapeGraphics","B","default","G","style","size","vertex","color","outline","outlineColor","width","hover","hoverSize","hoverColor","hoverOutlineColor","midpoints","midpoint","J","Q","n","getLogger","W","r","EventedAccessor","super","_activeOperationInfo","_editGeometryOperations","_handles","o","_graphicAttributes","esriSketchTool","_mover","_snappingTask","_stagedVertex","_viewHandles","callbacks","onReshapeStart","onReshape","onReshapeStop","onMoveStart","onMove","onMoveStop","onGraphicClick","enableMidpoints","enableMovement","enableVertices","layer","midpointGraphics","midpointSymbol","selectedVertices","snappingManager","vertexGraphics","view","initialize","_highlightHelper","S","_setup","add","m","ready","k","on","_keyDownHandler","I","TOOL","once","initial","v","refresh","_clearSelection","_resetGraphics","destroy","_reset","a","removeAll","_set","_setUpHighlights","get","isUIGraphic","push","concat","items","length","includes","reset","clearSelection","removeSelectedVertices","_removeVertices","h","geometry","g","_setupGraphics","_setupMover","_logGeometryTypeError","highlightsEnabled","_setUpGeometryHelper","j","paths","points","spatialReference","C","fromGeometry","b","Local","_saveSnappingContextForHandle","_snappingGraphicsLayer","f","listMode","internal","title","map","layers","_snappingContext","R","editGeometryOperations","elevationInfo","mode","offset","pointer","viewEvent","pointerType","excludeFeature","visualizer","V","vertexHandle","_getVertexFromEditGeometry","_resetSnappingStateVars","cursor","c","doneSnapping","remove","p","_removeMidpointGraphics","_removeVertexGraphics","removeMany","forEach","_getCoordinatesForUI","u","clone","pop","_setUpMidpointGraphics","_setUpVertexGraphics","_createMidpointGraphics","addMany","_createVertexGraphics","_storeRelatedVertexIndices","symbols","H","x","y","symbol","attributes","pathIndex","pointIndex","d","l","pointIndexStart","pointIndexEnd","relatedGraphicIndices","w","enableMoveAllGraphics","indicatorsEnabled","graphics","_onGraphicClickCallback","onGraphicMoveStart","_onGraphicMoveStartCallback","onGraphicMove","_onGraphicMoveCallback","onGraphicMoveStop","_onGraphicMoveStopCallback","onGraphicPointerOver","_onGraphicPointerOverCallback","onGraphicPointerOut","_onGraphicPointerOutCallback","stopPropagation","emit","_isMidpoint","button","_createVertexFromMidpoint","_emitVertexAddEvent","_isVertex","native","shiftKey","_removeFromSelection","_addToSelection","_setUpOperation","target","operationType","totalDx","totalDy","_emitMoveStartEvent","data","_onHandleMove","_emitMoveEvent","_emitReshapeStartEvent","_emitReshapeEvent","_emitMoveStopEvent","_emitReshapeStopEvent","_updateMidpointGraphicLocations","_getIndicesForVertexGraphic","components","update","_syncGeometryAfterVertexMove","async","snap","valid","apply","_moveRelatedCoordinates","_moveSelectedHandleCoordinates","pos","moveVertices","updateGeometry","indexOf","getItemAt","M","_isSelected","_updateHoverCursor","splice","coordinates","componentIndex","vertexIndex","_emitSelectEvent","set","_emitDeselectEvent","O","delete","key","repeat","Number","filter","rings","_emitVertexRemoveEvent","onVertexSelect","onVertexDeselect","onVertexAdd","onVertexRemove","error","prototype","value","readOnly","_","X","allocator","_items","_itemsPtr","_grow","Math","min","max","Y","Z","sqrt","abs","$","count","getVec","nt","origin","direction","rt","vector","tt","NONE","CLAMP","ray","c1","c0","INFINITE_MIN","INFINITE_MAX","itemByteSize","itemCreate","_buffers","Array","_itemsPerBuffer","ceil","floor","ArrayBuffer","KILOBYTES","createVec2f64","createVec3f64","createVec4f64","createMat3f64","createMat4f64","createQuatf64","PI","Float64Array","Object","freeze","defineProperty","__proto__","create","fromValues","createView","IDENTITY","Symbol","toStringTag","sin","cos","copy","fromCenterAndRadius","wrap","clear","fromRadius","getRadius","getCenter","elevate","setExtent","intersectRay","intersectsRay","intersectRayClosestSilhouette","closestPointOnSilhouette","closestPoint","projectPoint","distanceToSilhouette","angleToSilhouette","axisAt","altitudeAt","setAltitudeAt","containsPoint","tmpSphere"],"mappings":"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","file":"js/chunk-fe0a16d8.0a8994fa.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import t from\"../../../Graphic.js\";import i from\"../../../core/Collection.js\";import s from\"../../../core/Error.js\";import r from\"../../../core/Evented.js\";import o from\"../../../core/Handles.js\";import n from\"../../../core/Logger.js\";import{destroyMaybe as a,isNone as h,isSome as c,abortMaybe as p,get as l}from\"../../../core/maybe.js\";import{createTask as d}from\"../../../core/promiseUtils.js\";import{when as m,pausable as v}from\"../../../core/reactiveUtils.js\";import{property as y}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as _}from\"../../../core/accessorSupport/decorators/subclass.js\";import{closeRingsAndFixWinding as g,geometryToCoordinates as u,getMidpoint as x}from\"../../../geometry/support/coordsUtils.js\";import f from\"../../../layers/GraphicsLayer.js\";import G from\"../../../symbols/SimpleMarkerSymbol.js\";import{ViewingMode as b}from\"../../ViewingMode.js\";import{SnappingVisualizer2D as V}from\"../../2d/interactive/SnappingVisualizer2D.js\";import{cloneMove as M}from\"./drawUtils.js\";import w from\"./GraphicMover.js\";import S from\"./HighlightHelper.js\";import{addUniqueLayer as k}from\"./layerUtils.js\";import{settings as E}from\"./settings.js\";import{ViewEventPriorities as I}from\"../../input/InputManager.js\";import{SKETCH_KEYS as O}from\"../../interactive/keybindings.js\";import{EditGeometryOperations as C}from\"../../interactive/editGeometry/EditGeometryOperations.js\";import{SnappingContext as R}from\"../../interactive/snapping/SnappingContext.js\";import j from\"../../../geometry/Polyline.js\";import H from\"../../../geometry/Point.js\";class A{constructor(e,t,i){this.graphic=e,this.mover=t,this.selected=i,this.type=\"reshape-start\"}}class U{constructor(e,t,i){this.graphic=e,this.mover=t,this.selected=i,this.type=\"reshape\"}}class T{constructor(e,t,i){this.graphic=e,this.mover=t,this.selected=i,this.type=\"reshape-stop\"}}class D{constructor(e,t,i){this.mover=e,this.dx=t,this.dy=i,this.type=\"move-start\"}}class F{constructor(e,t,i){this.mover=e,this.dx=t,this.dy=i,this.type=\"move\"}}class z{constructor(e,t,i){this.mover=e,this.dx=t,this.dy=i,this.type=\"move-stop\"}}class L{constructor(e){this.added=e,this.type=\"vertex-select\"}}class P{constructor(e){this.removed=e,this.type=\"vertex-deselect\"}}class K{constructor(e,t,i,s){this.added=e,this.graphic=t,this.oldGraphic=i,this.vertices=s,this.type=\"vertex-add\"}}class N{constructor(e,t,i,s){this.removed=e,this.graphic=t,this.oldGraphic=i,this.vertices=s,this.type=\"vertex-remove\"}}const q=E.reshapeGraphics,B={vertices:{default:new G({style:\"circle\",size:q.vertex.size,color:q.vertex.color,outline:{color:q.vertex.outlineColor,width:1}}),hover:new G({style:\"circle\",size:q.vertex.hoverSize,color:q.vertex.hoverColor,outline:{color:q.vertex.hoverOutlineColor,width:1}}),selected:new G({style:\"circle\",size:q.selected.size,color:q.selected.color,outline:{color:q.selected.outlineColor,width:1}})},midpoints:{default:new G({style:\"circle\",size:q.midpoint.size,color:q.midpoint.color,outline:{color:q.midpoint.outlineColor,width:1}}),hover:new G({style:\"circle\",size:q.midpoint.size,color:q.midpoint.color,outline:{color:q.midpoint.outlineColor,width:1}})}},J=\"esri.views.draw.support.Reshape\",Q=n.getLogger(J);let W=class extends r.EventedAccessor{constructor(e){super(e),this._activeOperationInfo=null,this._editGeometryOperations=null,this._handles=new o,this._graphicAttributes={esriSketchTool:\"box\"},this._mover=null,this._snappingTask=null,this._stagedVertex=null,this._viewHandles=new o,this.callbacks={onReshapeStart(){},onReshape(){},onReshapeStop(){},onMoveStart(){},onMove(){},onMoveStop(){},onGraphicClick(){}},this.enableMidpoints=!0,this.enableMovement=!0,this.enableVertices=!0,this.graphic=null,this.layer=null,this.midpointGraphics=new i,this.midpointSymbol=new G({style:\"circle\",size:6,color:[200,200,200],outline:{color:[100,100,100],width:1}}),this.selectedVertices=[],this.snappingManager=null,this.type=\"reshape\",this.vertexGraphics=new i,this.view=null}initialize(){this._highlightHelper=new S({view:this.view}),this._setup(),this._handles.add([m((()=>this.view?.ready),(()=>{const{layer:e,view:t}=this;k(t,e),this._viewHandles.add(t.on(\"key-down\",(e=>this._keyDownHandler(e)),I.TOOL))}),{once:!0,initial:!0}),v((()=>this.graphic),(()=>this.refresh())),v((()=>this.layer),((e,t)=>{t&&(this._clearSelection(),this._resetGraphics(t)),this.refresh()})),v((()=>this.enableMidpoints),(()=>this.refresh()))])}destroy(){this._reset(),this._mover?.destroy(),this._mover=null,this._handles=a(this._handles),this._viewHandles=a(this._viewHandles)}set highlightsEnabled(e){this._highlightHelper?.removeAll(),this._set(\"highlightsEnabled\",e),this._setUpHighlights()}get state(){const e=!!this.get(\"view.ready\"),t=!(!this.get(\"graphic\")||!this.get(\"layer\"));return e&&t?\"active\":e?\"ready\":\"disabled\"}set symbols(e){const{midpoints:t=B.midpoints,vertices:i=B.vertices}=e||{};this._set(\"symbols\",{midpoints:t,vertices:i})}isUIGraphic(e){const t=[];return this.graphic&&t.push(this.graphic),t.concat(this.vertexGraphics.items,this.midpointGraphics.items),t.length&&t.includes(e)}refresh(){this._reset(),this._setup()}reset(){this.graphic=null}clearSelection(){this._clearSelection()}removeSelectedVertices(){this.selectedVertices.length&&this._removeVertices(this.selectedVertices)}_setup(){const{graphic:e,layer:t}=this;if(!t||!e||h(e.geometry))return;const i=e.geometry;\"mesh\"!==i.type&&\"extent\"!==i.type?(\"polygon\"===i.type&&g(i),this._setUpHighlights(),this._setupGraphics(),this._setupMover()):this._logGeometryTypeError()}_setUpHighlights(){this.highlightsEnabled&&this.graphic&&this._highlightHelper.add(this.graphic)}_setUpGeometryHelper(){const e=this.graphic.geometry;if(h(e)||\"mesh\"===e.type||\"extent\"===e.type)return void this._logGeometryTypeError();const t=\"multipoint\"===e.type?new j({paths:e.points,spatialReference:e.spatialReference}):e;this._editGeometryOperations=C.fromGeometry(t,b.Local)}_saveSnappingContextForHandle(e,t){this._snappingGraphicsLayer=new f({listMode:\"hide\",internal:!0,title:\"Reshape snapping layer\"}),this.view.map.layers.add(this._snappingGraphicsLayer),this._snappingContext=new R({editGeometryOperations:this._editGeometryOperations,elevationInfo:{mode:\"on-the-ground\",offset:0},pointer:t.viewEvent?.pointerType||\"mouse\",excludeFeature:this.graphic,visualizer:new V(this._snappingGraphicsLayer),vertexHandle:this._getVertexFromEditGeometry(e)})}_reset(){this._clearSelection(),this._highlightHelper.removeAll(),this._resetGraphics(),this._resetSnappingStateVars(),this._activeOperationInfo=null,this._mover&&this._mover.destroy(),this._mover=null,this.view.cursor=\"default\"}_resetSnappingStateVars(){c(this.snappingManager)&&this.snappingManager.doneSnapping(),c(this._snappingGraphicsLayer)&&(this.view.map.layers.remove(this._snappingGraphicsLayer),this._snappingGraphicsLayer.destroy()),this._editGeometryOperations=a(this._editGeometryOperations),this._snappingTask=p(this._snappingTask),this._snappingTask=null,this._snappingContext=null,this._stagedVertex=null}_resetGraphics(e){this._removeMidpointGraphics(e),this._removeVertexGraphics(e),this._set(\"selectedVertices\",[])}_removeMidpointGraphics(e){const t=e||this.layer;t&&t.removeMany(this.midpointGraphics.items),this.midpointGraphics.items.forEach((e=>e.destroy())),this.midpointGraphics.removeAll()}_removeVertexGraphics(e){const t=e||this.layer;t&&t.removeMany(this.vertexGraphics.items),this.vertexGraphics.items.forEach((e=>e.destroy())),this.vertexGraphics.removeAll()}_getCoordinatesForUI(e){const t=u(e.clone());if(\"polygon\"===e.type)for(const i of t){const e=i[i.length-1];i[0][0]===e[0]&&i[0][1]===e[1]&&i.length>2&&i.pop()}return t}_setupGraphics(){const e=this.graphic.geometry;if(c(e)&&(\"polyline\"===e.type||\"polygon\"===e.type)){const t=this._getCoordinatesForUI(e);this.enableMidpoints&&this._setUpMidpointGraphics(t),this.enableVertices&&this._setUpVertexGraphics(t)}}_setUpMidpointGraphics(e){this._removeMidpointGraphics();const t=this._createMidpointGraphics(e);this.midpointGraphics.addMany(t),this.layer.addMany(t)}_setUpVertexGraphics(e){this._removeVertexGraphics();const t=this._createVertexGraphics(e);this.vertexGraphics.addMany(t),this._storeRelatedVertexIndices(),this.layer.addMany(t)}_createVertexGraphics(e){const{_graphicAttributes:i,symbols:s,view:{spatialReference:r}}=this,o=[];return e?.forEach(((e,n)=>{e.forEach(((e,a)=>{const[h,c]=e;o.push(new t({geometry:new H({x:h,y:c,spatialReference:r}),symbol:s?.vertices?.default,attributes:{...i,pathIndex:n,pointIndex:a}}))}))})),o}_createMidpointGraphics(e){const{_graphicAttributes:i,symbols:s,view:{spatialReference:r}}=this,o=[];return e?.forEach(((e,n)=>{e.forEach(((a,h)=>{const[c,p]=a,d=e[h+1]?h+1:0;if(\"polygon\"===l(this.graphic.geometry,\"type\")||0!==d){const[a,l]=e[d],[m,v]=x([c,p],[a,l]);o.push(new t({geometry:new H({x:m,y:v,spatialReference:r}),symbol:s.midpoints.default,attributes:{...i,pathIndex:n,pointIndexStart:h,pointIndexEnd:d}}))}}))})),o}_storeRelatedVertexIndices(){const e=this.vertexGraphics.items;if(!e)return;const t=e.map((({geometry:e})=>({x:e.x,y:e.y})));for(let i=0;i<t.length;i++){const s=[];for(let e=0;e<t.length;e++){if(i===e)continue;const r=t[i],o=t[e];r.x===o.x&&r.y===o.y&&s.push(e)}e[i].attributes.relatedGraphicIndices=s}}_setupMover(){const{enableMovement:e,graphic:t,midpointGraphics:i,vertexGraphics:s,view:r}=this,o=s.concat(i).items;e&&o.push(t),this._mover=new w({enableMoveAllGraphics:!1,highlightsEnabled:!1,indicatorsEnabled:!1,graphics:o,view:r,callbacks:{onGraphicClick:e=>this._onGraphicClickCallback(e),onGraphicMoveStart:e=>this._onGraphicMoveStartCallback(e),onGraphicMove:e=>this._onGraphicMoveCallback(e),onGraphicMoveStop:e=>this._onGraphicMoveStopCallback(e),onGraphicPointerOver:e=>this._onGraphicPointerOverCallback(e),onGraphicPointerOut:e=>this._onGraphicPointerOutCallback(e)}})}_onGraphicClickCallback(e){e.viewEvent.stopPropagation();const t=e.graphic;if(t===this.graphic)this.clearSelection(),this.emit(\"graphic-click\",e),this.callbacks.onGraphicClick&&this.callbacks.onGraphicClick(e);else if(this._isMidpoint(t)){if(2===e.viewEvent.button)return;const i=this.graphic.clone(),s=this._createVertexFromMidpoint(t);this.refresh(),this._emitVertexAddEvent([t],i,s)}else if(this._isVertex(t))if(e.viewEvent.stopPropagation(),2===e.viewEvent.button)this._removeVertices(t);else{e.viewEvent.native.shiftKey||this._clearSelection(),this.selectedVertices.includes(t)?this._removeFromSelection(t,!0):this._addToSelection(t)}}_setUpOperation(e){const{graphic:t,dx:i,dy:s}=e,r=t===this.graphic;this._resetSnappingStateVars(),this._setUpGeometryHelper(),this._saveSnappingContextForHandle(t,e),this._activeOperationInfo={target:this.graphic,mover:t,operationType:r?\"move\":\"reshape\",totalDx:i,totalDy:s}}_onGraphicMoveStartCallback(e){const t=e.graphic,{dx:i,dy:s}=e;if(t===this.graphic)return this._clearSelection(),this._resetGraphics(),this._setUpOperation(e),this._emitMoveStartEvent(i,s),void(\"point\"===this._editGeometryOperations.data.type&&this._onHandleMove(t,i,s,e,(()=>this._emitMoveEvent(i,s))));if(!this.selectedVertices.includes(t)){if(this._clearSelection(),this._isMidpoint(t)){const e=this.graphic.clone(),i=this._createVertexFromMidpoint(t);this._emitVertexAddEvent([t],e,i)}this._addToSelection(t)}this._setUpOperation(e),this._emitReshapeStartEvent(t),this._onHandleMove(t,i,s,e,(()=>this._emitReshapeEvent(t)))}_onGraphicMoveCallback(e){const{graphic:t,dx:i,dy:s}=e;this._activeOperationInfo.totalDx+=i,this._activeOperationInfo.totalDy+=s;const{operationType:r}=this._activeOperationInfo;\"move\"===r?\"point\"===this._editGeometryOperations.data.type?this._onHandleMove(t,i,s,e,(()=>this._emitMoveEvent(i,s))):this._emitMoveEvent(i,s):this._onHandleMove(t,i,s,e,(()=>this._emitReshapeEvent(t)))}_onGraphicMoveStopCallback(e){const{graphic:t,dx:i,dy:s}=e,r=t===this.graphic,o=\"point\"!==this._editGeometryOperations.data.type;this._activeOperationInfo.totalDx+=i,this._activeOperationInfo.totalDy+=s,this._onHandleMove(t,i,s,e,(()=>r?this._emitMoveStopEvent():this._emitReshapeStopEvent(t))),r&&o||this._isMidpoint(t)?this.refresh():(this._resetSnappingStateVars(),this._activeOperationInfo=null)}_updateMidpointGraphicLocations(e){for(const t of this.midpointGraphics){const{pathIndex:i,pointIndexStart:s,pointIndexEnd:r}=t.attributes,[o,n]=e[i][s],[a,h]=e[i][r],[c,p]=x([o,n],[a,h]);t.geometry=new H({x:c,y:p,spatialReference:this.view.spatialReference})}}_getIndicesForVertexGraphic({attributes:e}){return[e?.pathIndex||0,e?.pointIndex||0]}_getVertexFromEditGeometry(e){const[t,i]=this._getIndicesForVertexGraphic(e);return this._editGeometryOperations.data.components[t].vertices[i]}_onHandleMove(e,t,i,s,r){if(p(this._snappingTask),!this._snappingContext)return;const o=e.geometry,n=\"graphic-move-stop\"===s.type;if(c(this.snappingManager)&&this.selectedVertices.length<2&&!n){const s=this.snappingManager;this._stagedVertex=s.update(o,this._snappingContext),this._syncGeometryAfterVertexMove(e,new H(this._stagedVertex),t,i,n),r(),this._snappingTask=d((async a=>{const h=await s.snap(o,this._snappingContext,a);h.valid&&(this._stagedVertex=h.apply(),this._syncGeometryAfterVertexMove(e,new H(this._stagedVertex),t,i,n),r())}))}else{const s=c(this._stagedVertex)?new H(this._stagedVertex):o;this._syncGeometryAfterVertexMove(e,s,t,i,n),r()}}async _syncGeometryAfterVertexMove(e,t,i,s,r=!1){const o=this._editGeometryOperations.data.geometry;if(\"point\"===o.type)e.geometry=t;else{const{x:n,y:a}=t,[h,c]=this._getIndicesForVertexGraphic(e);let p=u(o);const l=p[h].length-1;p[h][c]=[n,a],\"polygon\"===o.type&&(0===c?p[h][l]=[n,a]:c===l&&(p[h][0]=[n,a])),this._isVertex(e)&&(p=this._moveRelatedCoordinates(p,e,n,a),p=this._moveSelectedHandleCoordinates(p,e,i,s,\"polygon\"===o.type),this._updateMidpointGraphicLocations(p)),this.graphic.geometry=o.clone();const d=this._getVertexFromEditGeometry(e),m=n-d.pos[0],v=a-d.pos[1];this._editGeometryOperations.moveVertices([d],m,v,0),r&&(this._mover?this._mover.updateGeometry(this._mover.graphics.indexOf(e),t):e.geometry=t)}}_moveRelatedCoordinates(e,t,i,s){const{relatedGraphicIndices:r}=t.attributes;for(const o of r){const r=this.vertexGraphics.getItemAt(o),{pathIndex:n,pointIndex:a}=r.attributes;e[n][a]=[i,s],r.geometry=t.geometry}return e}_moveSelectedHandleCoordinates(e,t,i,s,r){for(const o of this.selectedVertices)if(o!==t){const{pathIndex:t,pointIndex:n,relatedGraphicIndices:a}=o.attributes,h=M(o.geometry,i,s,this.view),c=e[t].length-1;e[t][n]=[h.x,h.y],o.geometry=h,r&&(0===n?e[t][c]=[h.x,h.y]:n===c&&(e[t][0]=[h.x,h.y]));for(const i of a){const t=this.vertexGraphics.getItemAt(i),{pathIndex:s,pointIndex:r}=t.attributes;e[s][r]=[h.x,h.y],t.geometry=h}}return e}_onGraphicPointerOverCallback(e){const t=e.graphic;this._isVertex(t)&&!this._isSelected(t)&&(t.symbol=this.symbols.vertices.hover),this._updateHoverCursor(t)}_onGraphicPointerOutCallback(e){const t=e.graphic;this._isVertex(t)&&!this._isSelected(t)&&(t.symbol=this.symbols.vertices.default),this.view.cursor=\"default\"}_createVertexFromMidpoint(e){const{_graphicAttributes:t,graphic:i}=this,s=i.geometry;if(h(s)||\"polygon\"!==s.type&&\"polyline\"!==s.type)return[];const r=s.clone(),o=[],{pathIndex:n,pointIndexStart:a,pointIndexEnd:c}=e.attributes,{x:p,y:l}=e.geometry,d=0===c?a+1:c,m=u(r);return m[n].splice(d,0,[p,l]),e.attributes={...t,pathIndex:n,pointIndex:d,relatedGraphicIndices:[]},o.push({coordinates:m[n][d],componentIndex:n,vertexIndex:d}),this.graphic.geometry=r,o}_addToSelection(e){e instanceof t&&(e=[e]);for(const t of e)t.symbol=this.symbols.vertices.selected;this._set(\"selectedVertices\",this.selectedVertices.concat(e)),this._emitSelectEvent(e)}_removeFromSelection(e,i){const{vertices:s}=this.symbols,r=i?s.hover:s.default;e instanceof t&&(e=[e]);for(const t of e)this.selectedVertices.splice(this.selectedVertices.indexOf(t),1),this._set(\"selectedVertices\",this.selectedVertices),t.set(\"symbol\",r);this._emitDeselectEvent(e)}_clearSelection(){if(this.selectedVertices.length){const e=this.selectedVertices;for(const t of this.selectedVertices)t.set(\"symbol\",this.symbols.vertices.default);this._set(\"selectedVertices\",[]),this._emitDeselectEvent(e)}}_keyDownHandler(e){O.delete.includes(e.key)&&!e.repeat&&this.selectedVertices.length&&this._removeVertices(this.selectedVertices)}_removeVertices(e){const i=this.graphic.geometry;if(h(i)||\"polygon\"!==i.type&&\"polyline\"!==i.type)return;if(\"polygon\"===i.type&&this.vertexGraphics.length<4||this.vertexGraphics.length<3)return;e instanceof t&&(e=[e]);const s=this.graphic.clone(),r=i.clone();let o=u(r);const n=[];e instanceof t&&(e=[e]);for(const t of e){const{x:e,y:i}=t.geometry;for(let t=0;t<o.length;t++){const s=o[t];for(let r=0;r<s.length;r++){const[a,h]=s[r];e===a&&i===h&&(n.push({coordinates:o[t][r],componentIndex:t,vertexIndex:r}),o[t].splice(Number(r),1))}}}if(\"polygon\"===r.type)o=o.filter((e=>{if(e.length<2)return!1;const[t,i]=e[0],[s,r]=e[e.length-1];return(2!==e.length||t!==s||i!==r)&&(t===s&&i===r||e.push(e[0]),!0)})),r.rings=o;else{for(const e of o)1===e.length&&o.splice(o.indexOf(e),1);r.paths=o}this.graphic.geometry=r,this.refresh(),this._emitVertexRemoveEvent(e,s,n)}_isVertex(e){return this.vertexGraphics.includes(e)}_isSelected(e){return this._isVertex(e)&&this.selectedVertices.includes(e)}_isMidpoint(e){return this.midpointGraphics.includes(e)}_updateHoverCursor(e){this.view.cursor=this._isMidpoint(e)?\"copy\":\"move\"}_emitMoveStartEvent(e,t){const i=new D(this.graphic,e,t);this.emit(\"move-start\",i),this.callbacks.onMoveStart&&this.callbacks.onMoveStart(i)}_emitMoveEvent(e,t){const i=new F(this.graphic,e,t);this.emit(\"move\",i),this.callbacks.onMove&&this.callbacks.onMove(i)}_emitMoveStopEvent(){const{totalDx:e,totalDy:t}=this._activeOperationInfo,i=new z(this.graphic,e,t);this.emit(\"move-stop\",i),this.callbacks.onMoveStop&&this.callbacks.onMoveStop(i)}_emitReshapeStartEvent(e){const t=new A(this.graphic,e,this.selectedVertices);this.emit(\"reshape-start\",t),this.callbacks.onReshapeStart&&this.callbacks.onReshapeStart(t)}_emitReshapeEvent(e){const t=new U(this.graphic,e,this.selectedVertices);this.emit(\"reshape\",t),this.callbacks.onReshape&&this.callbacks.onReshape(t)}_emitReshapeStopEvent(e){const t=new T(this.graphic,e,this.selectedVertices);this.emit(\"reshape-stop\",t),this.callbacks.onReshapeStop&&this.callbacks.onReshapeStop(t)}_emitSelectEvent(e){const t=new L(e);this.emit(\"select\",t),this.callbacks.onVertexSelect&&this.callbacks.onVertexSelect(t)}_emitDeselectEvent(e){const t=new P(e);this.emit(\"deselect\",t),this.callbacks.onVertexDeselect&&this.callbacks.onVertexDeselect(t)}_emitVertexAddEvent(e,t,i){const s=new K(e,this.graphic,t,i);this.emit(\"vertex-add\",s),this.callbacks.onVertexAdd&&this.callbacks.onVertexAdd(s)}_emitVertexRemoveEvent(e,t,i){const s=new N(e,this.graphic,t,i);this.emit(\"vertex-remove\",s),this.callbacks.onVertexRemove&&this.callbacks.onVertexRemove(s)}_logGeometryTypeError(){Q.error(new s(\"reshape:invalid-geometry\",\"Reshape operation not supported for the provided graphic. The geometry type is not supported.\"))}};e([y()],W.prototype,\"callbacks\",void 0),e([y()],W.prototype,\"enableMidpoints\",void 0),e([y()],W.prototype,\"enableMovement\",void 0),e([y()],W.prototype,\"enableVertices\",void 0),e([y()],W.prototype,\"graphic\",void 0),e([y({value:!0})],W.prototype,\"highlightsEnabled\",null),e([y()],W.prototype,\"layer\",void 0),e([y({readOnly:!0})],W.prototype,\"midpointGraphics\",void 0),e([y()],W.prototype,\"midpointSymbol\",void 0),e([y({readOnly:!0})],W.prototype,\"selectedVertices\",void 0),e([y()],W.prototype,\"snappingManager\",void 0),e([y({readOnly:!0})],W.prototype,\"state\",null),e([y({value:B})],W.prototype,\"symbols\",null),e([y({readOnly:!0})],W.prototype,\"type\",void 0),e([y({readOnly:!0})],W.prototype,\"vertexGraphics\",void 0),e([y()],W.prototype,\"view\",void 0),W=e([_(J)],W);const X=W;export{X as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{nextTick as t}from\"./nextTick.js\";class s{constructor(t){this.allocator=t,this._items=[],this._itemsPtr=0,this._grow()}get(){return 0===this._itemsPtr&&t((()=>this._reset())),this._itemsPtr===this._items.length&&this._grow(),this._items[this._itemsPtr++]}_reset(){const t=Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3*i);this._items.length=Math.min(t,this._items.length),this._itemsPtr=0}_grow(){for(let t=0;t<Math.max(8,Math.min(this._items.length,i));t++)this._items.push(this.allocator())}}const i=1024;export{s as ObjectStack};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nvar n;!function(n){n[n.X=0]=\"X\",n[n.Y=1]=\"Y\",n[n.Z=2]=\"Z\"}(n||(n={}));export{n as Axis};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{acosClamped as t}from\"../../../core/mathUtils.js\";import{s as n,e as s,n as r,f as a,l as o,g as c,a as u,h as i,b as h}from\"../../../chunks/vec3.js\";import{c as f}from\"../../../chunks/vec3f64.js\";function e(t,n){return t>n?Math.cos(n):Math.cos(t)}function M(t,n,s){return 2*Math.atan(s*Math.tan(.5*t)/n)}function m(t,n,s){return 2*Math.atan(n*Math.tan(.5*t)/s)}function l(t){const n=t[0]*t[0]+t[4]*t[4]+t[8]*t[8],s=t[1]*t[1]+t[5]*t[5]+t[9]*t[9],r=t[2]*t[2]+t[6]*t[6]+t[10]*t[10];return Math.sqrt(Math.max(n,s,r))}function p(t,s){const r=Math.sqrt(s[0]*s[0]+s[4]*s[4]+s[8]*s[8]),a=Math.sqrt(s[1]*s[1]+s[5]*s[5]+s[9]*s[9]),o=Math.sqrt(s[2]*s[2]+s[6]*s[6]+s[10]*s[10]);return n(t,r,a,o),t}function q(t,a,o){o=o||t;const c=s(t,a);n(o,t[0]-c*a[0],t[1]-c*a[1],t[2]-c*a[2]),r(o,o)}function b(t,s,o){Math.abs(t[0])>Math.abs(t[1])?n(s,0,1,0):n(s,1,0,0),a(o,t,s),r(s,s),a(s,o,t),r(o,o)}function j(t,n){return(t%n+n)%n}function g(t,n,s,r,a,o){const c=t+(n-t)*a;return c+(s+(r-s)*a-c)*o}function k(t,n,r,a=f()){const h=o(t),e=o(n),M=s(t,n)/(h*e);if(M<.9999999999999999){const s=Math.acos(M),o=((1-r)*h+r*e)/Math.sin(s),i=o/h*Math.sin((1-r)*s),f=o/e*Math.sin(r*s);return c(A,t,i),c(B,n,f),u(a,A,B)}return i(a,t,n,r)}function v(t,n,a,e=f(),M=f()){const m=o(t),l=o(n),p=s(t,n)/(m*l);if(p<.9999999999999999){const s=Math.acos(p),r=Math.sin(s),o=Math.sin(a*s),i=Math.sin((1-a)*s),h=(1-a)*m+a*l;{const s=h/r,a=s/l*o;c(A,t,s/m*i),c(B,n,a),u(e,A,B)}{const f=1/m*(-Math.cos((1-a)*s)*s*h+i*(-m+l));c(A,t,f);const e=1/l*(Math.cos(a*s)*s*h+o*(-m+l));c(B,n,e),u(M,A,B),c(M,M,1/r)}return M}return i(e,t,n,a),h(M,n,t),r(M,M),M}function x(n,o,c){n=r(A,n),o=r(B,o);const u=t(s(n,o));if(c){const t=a(z,n,o);if(s(t,c)<0)return-u}return u}function U(t){const n=t.length;return s=>{if(s<=t[0][0])return t[0][1];if(s>=t[n-1][0])return t[n-1][1];let r=1;for(;s>t[r][0];)r++;const a=t[r-1][0],o=t[r][0],c=(o-s)/(o-a);return c*t[r-1][1]+(1-c)*t[r][1]}}function d(t,n,o,c){h(w,n,t),h(y,o,t),a(c,w,y),r(c,c),c[3]=-s(t,c)}const w=f(),y=f(),z=f(),A=f(),B=f();export{x as angle,g as bilerp,e as cosCapped,M as fovx2fovy,m as fovy2fovx,q as makeOrthonormal,U as makePiecewiseLinearFunction,l as maxScale,j as moduloPositive,d as planeFromPoints,p as scaleFromMatrix,k as slerp,v as slerpTangent,b as tangentFrame};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../core/mathUtils.js\";import{isSome as n}from\"../../core/maybe.js\";import{c as r,k as o,b as c,n as e,e as u,f as i,g as f,a as s,s as a}from\"../../chunks/vec3.js\";import{c as I}from\"../../chunks/vec3f64.js\";import{g as N}from\"../../chunks/sphere.js\";import{projectPointSignedLength as m}from\"./vector.js\";import{sv4d as M,sv3d as g}from\"./vectorStacks.js\";import{tangentFrame as h}from\"../../views/3d/support/mathUtils.js\";function p(t=$){return[t[0],t[1],t[2],t[3]]}function E(t=$[0],n=$[1],r=$[2],o=$[3]){return F(t,n,r,o,M.get())}function A(t,n){return F(n[0],n[1],n[2],n[3],t)}function F(t,n,r,o,c=p()){return c[0]=t,c[1]=n,c[2]=r,c[3]=o,c}function T(t,n,o){return r(o,t),o[3]=n,o}function _(t,n,r){const o=n[0]*n[0]+n[1]*n[1]+n[2]*n[2],c=Math.abs(o-1)>1e-5&&o>1e-12?1/Math.sqrt(o):1;return r[0]=n[0]*c,r[1]=n[1]*c,r[2]=n[2]*c,r[3]=-(r[0]*t[0]+r[1]*t[1]+r[2]*t[2]),r}function j(t,n,r,o=p()){const c=r[0]-n[0],e=r[1]-n[1],u=r[2]-n[2],i=t[0]-n[0],f=t[1]-n[1],s=t[2]-n[2],a=e*s-u*f,I=u*i-c*s,N=c*f-e*i,m=a*a+I*I+N*N,M=Math.abs(m-1)>1e-5&&m>1e-12?1/Math.sqrt(m):1;return o[0]=a*M,o[1]=I*M,o[2]=N*M,o[3]=-(o[0]*t[0]+o[1]*t[1]+o[2]*t[2]),o}function v(t,n){return b(t,n,0,1,2)}function b(t,n,r,i,f){if(t.count<3)return!1;t.getVec(r,y);let s=i,a=!1;for(;s<t.count-1&&!a;)t.getVec(s,X),s++,a=!o(y,X);if(!a)return!1;for(s=Math.max(s,f),a=!1;s<t.count&&!a;)t.getVec(s,d),s++,c(l,y,X),e(l,l),c(C,X,d),e(C,C),a=!o(y,d)&&!o(X,d)&&Math.abs(u(l,C))<k;return a?(j(y,X,d,n),!0):(0!==r||1!==i||2!==f)&&b(t,n,0,1,2)}const k=.99619469809,y=I(),X=I(),d=I(),l=I(),C=I();function L(t,n,r){return n!==t&&A(t,n),t[3]=-u(Z(t),r),t}function P(t,n){return n[0]=-t[0],n[1]=-t[1],n[2]=-t[2],n[3]=-t[3],n}function O(t,n,r,o){return i(d,n,t),_(r,d,o)}function V(t,n,r,o){return Y(t,n,c(g.get(),r,n),nt,o)}function q(t,r,o){return!!n(r)&&Y(t,r.origin,r.direction,rt,o)}function x(t,n,r){return Y(t,n.origin,n.vector,tt.NONE,r)}function U(t,n,r){return Y(t,n.origin,n.vector,tt.CLAMP,r)}function w(t,n){return W(t,N(n))-n[3]>=0}function S(t,n){return W(t,N(n))+n[3]<0}function z(t,n){return W(t,n)>=0}function B(t,n){return W(t,n)<0}function D(t,n){const r=n[0],o=n[1],c=n[2],e=n[3],u=n[4],i=n[5];return t[0]*(t[0]>0?r:e)+t[1]*(t[1]>0?o:u)+t[2]*(t[2]>0?c:i)+t[3]>=0}function G(t,n){const r=u(Z(t),n.ray.direction),o=-W(t,n.ray.origin);if(o<0&&r>=0)return!1;if(r>-1e-6&&r<1e-6)return o>0;if((o<0||r<0)&&!(o<0&&r<0))return!0;const c=o/r;return r>0?c<n.c1&&(n.c1=c):c>n.c0&&(n.c0=c),n.c0<=n.c1}function H(t,n){const r=u(Z(t),n.ray.direction),o=-W(t,n.ray.origin);if(r>-1e-6&&r<1e-6)return o>0;const c=o/r;return r>0?c<n.c1&&(n.c1=c):c>n.c0&&(n.c0=c),n.c0<=n.c1}function J(t,n,r){const o=f(g.get(),Z(t),-t[3]),e=Q(t,c(g.get(),n,o),g.get());return s(r,e,o),r}function K(t,n,r,o){const e=Z(t),u=g.get(),i=g.get();h(e,u,i);const f=c(g.get(),r,n),s=m(u,f),I=m(i,f),N=m(e,f);return a(o,s,I,N)}function Q(t,n,r){const o=f(g.get(),Z(t),u(Z(t),n));return c(r,n,o),r}function R(t,n){return Math.abs(W(t,n))}function W(t,n){return u(Z(t),n)+t[3]}function Y(n,r,o,c,e){const i=u(Z(n),o);if(0===i)return!1;let a=-(u(Z(n),r)+n[3])/i;return c&tt.CLAMP&&(a=t(a,0,1)),!(!(c&tt.INFINITE_MIN)&&a<0||!(c&tt.INFINITE_MAX)&&a>1)&&(s(e,r,f(e,o,a)),!0)}function Z(t){return t}const $=[0,0,1,0];var tt;!function(t){t[t.NONE=0]=\"NONE\",t[t.CLAMP=1]=\"CLAMP\",t[t.INFINITE_MIN=4]=\"INFINITE_MIN\",t[t.INFINITE_MAX=8]=\"INFINITE_MAX\"}(tt||(tt={}));const nt=tt.INFINITE_MIN|tt.INFINITE_MAX,rt=tt.INFINITE_MAX;export{$ as UP,G as clip,H as clipInfinite,A as copy,p as create,R as distance,v as fromManyPoints,b as fromManyPointsSampleAt,T as fromNormalAndOffset,j as fromPoints,_ as fromPositionAndNormal,F as fromValues,O as fromVectorsAndPoint,V as intersectLine,x as intersectLineSegment,U as intersectLineSegmentClamp,q as intersectRay,D as isAABBFullyInside,z as isPointInside,B as isPointOutside,w as isSphereFullyInside,S as isSphereFullyOutside,P as negate,Z as normal,J as projectPoint,K as projectPointLocal,Q as projectVector,L as setOffsetFromPoint,W as signedDistance,E as wrap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{ByteSizeUnit as t}from\"./byteSizeEstimations.js\";import{nextTick as e}from\"./nextTick.js\";import{a as s}from\"../chunks/mat3f64.js\";import{a as r}from\"../chunks/mat4f64.js\";import{c as i}from\"../chunks/quatf64.js\";import{c as f}from\"../chunks/vec2f64.js\";import{b as h}from\"../chunks/vec3f64.js\";import{a as m}from\"../chunks/vec4f64.js\";class a{constructor(t,e,s){this.itemByteSize=t,this.itemCreate=e,this._buffers=new Array,this._items=new Array,this._itemsPtr=0,this._itemsPerBuffer=Math.ceil(s/this.itemByteSize)}get(){0===this._itemsPtr&&e((()=>this._reset()));const t=Math.floor(this._itemsPtr/this._itemsPerBuffer);for(;this._buffers.length<=t;){const t=new ArrayBuffer(this._itemsPerBuffer*this.itemByteSize);for(let e=0;e<this._itemsPerBuffer;++e)this._items.push(this.itemCreate(t,e*this.itemByteSize));this._buffers.push(t)}return this._items[this._itemsPtr++]}_reset(){const t=2*(Math.floor(this._itemsPtr/this._itemsPerBuffer)+1);for(;this._buffers.length>t;)this._buffers.pop(),this._items.length=this._buffers.length*this._itemsPerBuffer;this._itemsPtr=0}static createVec2f64(t=c){return new a(16,f,t)}static createVec3f64(t=c){return new a(24,h,t)}static createVec4f64(t=c){return new a(32,m,t)}static createMat3f64(t=c){return new a(72,s,t)}static createMat4f64(t=c){return new a(128,r,t)}static createQuatf64(t=c){return new a(32,i,t)}get test(){return{size:this._buffers.length*this._itemsPerBuffer*this.itemByteSize}}}const c=4*t.KILOBYTES;export{a as VectorStack};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{VectorStack as e}from\"../../core/VectorStack.js\";const t=e.createVec2f64(),c=e.createVec3f64(),r=e.createVec4f64(),a=e.createMat3f64(),f=e.createMat4f64(),o=e.createQuatf64();export{a as sm3d,f as sm4d,o as sq4d,t as sv2d,c as sv3d,r as sv4d};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{acosClamped as n}from\"../../core/mathUtils.js\";import{e as t,g as o,l as r,n as s,f as c}from\"../../chunks/vec3.js\";import{c as u}from\"../../chunks/vec3f64.js\";function e(n,r,s){const c=t(n,r)/t(n,n);return o(s,n,c)}function f(n,o){return t(n,o)/r(n)}function a(o,s){const c=t(o,s)/(r(o)*r(s));return-n(c)}function i(o,r,u){s(m,o),s(h,r);const e=t(m,h),f=n(e),a=c(m,m,h);return t(a,u)<0?2*Math.PI-f:f}const m=u(),h=u();export{a as angle,i as angleAroundAxis,e as projectPoint,f as projectPointSignedLength};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nfunction e(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function r(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]}function t(e,r,t,n,o,a,u,c,f,l,s,i,b,_,m,p){return[e,r,t,n,o,a,u,c,f,l,s,i,b,_,m,p]}function n(e,r){return new Float64Array(e,r,16)}const o=e(),a=Object.freeze(Object.defineProperty({__proto__:null,create:e,clone:r,fromValues:t,createView:n,IDENTITY:o},Symbol.toStringTag,{value:\"Module\"}));export{o as I,n as a,r as b,e as c,t as f,a as m};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nfunction e(){return[0,0,0,1]}function r(e){return[e[0],e[1],e[2],e[3]]}function t(e,r,t,n){return[e,r,t,n]}function n(e,r){return new Float64Array(e,r,4)}const o=e(),a=Object.freeze(Object.defineProperty({__proto__:null,create:e,clone:r,fromValues:t,createView:n,IDENTITY:o},Symbol.toStringTag,{value:\"Module\"}));export{o as I,e as a,r as b,n as c,t as f,a as q};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{equals as i}from\"../../core/arrayUtils.js\";import{ObjectStack as n}from\"../../core/ObjectStack.js\";import{c as r,b as o,f as t,n as c,e,a as s,g as u}from\"../../chunks/vec3.js\";import{a,c as g}from\"../../chunks/vec3f64.js\";import{sv3d as f}from\"./vectorStacks.js\";function d(i){return i?{origin:a(i.origin),direction:a(i.direction)}:{origin:g(),direction:g()}}function m(n,r){return i(n.origin,r.origin)&&i(n.direction,r.direction)}function j(i,n){const r=S.get();return r.origin=i,r.direction=n,r}function l(i,n=d()){return k(i.origin,i.direction,n)}function p(i,n,t=d()){return r(t.origin,i),o(t.direction,n,i),t}function k(i,n,o=d()){return r(o.origin,i),r(o.direction,n),o}function h(i,n){const r=t(f.get(),c(f.get(),i.direction),o(f.get(),n,i.origin));return e(r,r)}function v(i,n){return Math.sqrt(h(i,n))}function b(i,n,r){const t=e(i.direction,o(r,n,i.origin));return s(r,i.origin,u(r,i.direction,t)),r}function q(){return{origin:null,direction:null}}const S=new n(q);export{b as closestPoint,l as copy,d as create,v as distance,h as distance2,m as equals,p as fromPoints,k as fromValues,j as wrap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nfunction e(){return[1,0,0,0,1,0,0,0,1]}function r(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]}function t(e,r,t,n,o,a,u,c,f){return[e,r,t,n,o,a,u,c,f]}function n(e,r){return new Float64Array(e,r,9)}const o=Object.freeze(Object.defineProperty({__proto__:null,create:e,clone:r,fromValues:t,createView:n},Symbol.toStringTag,{value:\"Module\"}));export{n as a,r as b,e as c,t as f,o as m};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport\"../core/has.js\";import t from\"../core/Logger.js\";import{acosClamped as r,cartesianToSpherical as n}from\"../core/mathUtils.js\";import{isNone as o}from\"../core/maybe.js\";import{d as e}from\"./mat4.js\";import{c as s,a as i,g as a,i as c,l as u,f,m,b as p,p as g,n as l,s as h,d}from\"./vec3.js\";import{c as j}from\"./vec3f64.js\";import{c as y}from\"./vec4.js\";import{c as M,f as v}from\"./vec4f64.js\";import{Axis as b}from\"../geometry/support/Axis.js\";import{closestPoint as S}from\"../geometry/support/ray.js\";import{angle as x}from\"../geometry/support/vector.js\";import{sv3d as A,sm4d as P}from\"../geometry/support/vectorStacks.js\";const R=t.getLogger(\"esri.geometry.support.sphere\");function _(){return M()}function q(t,r=_()){return y(r,t)}function w(t,r){return v(t[0],t[1],t[2],r)}function C(t){return t}function O(t){t[0]=t[1]=t[2]=t[3]=0}function T(t,r){return t[0]=t[1]=t[2]=0,t[3]=r,t}function k(t){return t[3]}function E(t){return t}function L(t,r,n,o){return v(t,r,n,o)}function Z(t,r,n){return t!==n&&s(n,t),n[3]=t[3]+r,n}function z(t,r,n){return R.error(\"sphere.setExtent is not yet supported\"),t===n?n:q(t,n)}function U(t,r,n){if(o(r))return!1;const{origin:e,direction:s}=r,i=V;i[0]=e[0]-t[0],i[1]=e[1]-t[1],i[2]=e[2]-t[2];const a=s[0]*s[0]+s[1]*s[1]+s[2]*s[2],c=2*(s[0]*i[0]+s[1]*i[1]+s[2]*i[2]),u=c*c-4*a*(i[0]*i[0]+i[1]*i[1]+i[2]*i[2]-t[3]*t[3]);if(u<0)return!1;const f=Math.sqrt(u);let m=(-c-f)/(2*a);const p=(-c+f)/(2*a);return(m<0||p<m&&p>0)&&(m=p),!(m<0)&&(n&&(n[0]=e[0]+s[0]*m,n[1]=e[1]+s[1]*m,n[2]=e[2]+s[2]*m),!0)}const V=j();function X(t,r){return U(t,r,null)}function Y(t,r,n){if(U(t,r,n))return n;const o=B(t,r,A.get());return i(n,r.origin,a(A.get(),r.direction,c(r.origin,o)/u(r.direction))),n}function B(t,r,n){const o=A.get(),s=P.get();f(o,r.origin,r.direction);const i=k(t);f(n,o,r.origin),a(n,n,1/u(n)*i);const c=H(t,r.origin),p=x(r.origin,n);return e(s,p+c,o),m(n,n,s),n}function D(t,r,n){return U(t,r,n)?n:(S(r,E(t),n),F(t,n,n))}function F(t,r,n){const o=p(A.get(),r,E(t)),e=a(A.get(),o,t[3]/u(o));return i(n,e,E(t))}function G(t,r){const n=p(A.get(),r,E(t)),o=g(n),e=t[3]*t[3];return Math.sqrt(Math.abs(o-e))}function H(t,n){const o=p(A.get(),n,E(t)),e=u(o),s=k(t),i=s+Math.abs(s-e);return r(s/i)}const I=j();function J(t,r,o,e){const s=p(I,r,E(t));switch(o){case b.X:{const t=n(s,I)[2];return h(e,-Math.sin(t),Math.cos(t),0)}case b.Y:{const t=n(s,I),r=t[1],o=t[2],i=Math.sin(r);return h(e,-i*Math.cos(o),-i*Math.sin(o),Math.cos(r))}case b.Z:return l(e,s);default:return}}function K(t,r){const n=p(W,r,E(t));return u(n)-t[3]}function N(t,r,n,o){const e=K(t,r),s=J(t,r,b.Z,W),c=a(W,s,n-e);return i(o,r,c)}function Q(t,r){const n=d(E(t),r),o=k(t);return n<=o*o}const W=j(),$=_(),tt=Object.freeze(Object.defineProperty({__proto__:null,create:_,copy:q,fromCenterAndRadius:w,wrap:C,clear:O,fromRadius:T,getRadius:k,getCenter:E,fromValues:L,elevate:Z,setExtent:z,intersectRay:U,intersectsRay:X,intersectRayClosestSilhouette:Y,closestPointOnSilhouette:B,closestPoint:D,projectPoint:F,distanceToSilhouette:G,angleToSilhouette:H,axisAt:J,altitudeAt:K,setAltitudeAt:N,containsPoint:Q,tmpSphere:$},Symbol.toStringTag,{value:\"Module\"}));export{O as a,q as b,_ as c,k as d,G as e,L as f,E as g,U as h,X as i,B as j,T as k,w as l,Q as m,Z as n,z as o,Y as p,D as q,F as r,tt as s,$ as t,H as u,J as v,C as w,K as x,N as y};\n"],"sourceRoot":""}