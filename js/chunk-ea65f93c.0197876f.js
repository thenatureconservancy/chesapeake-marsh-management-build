(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ea65f93c"],{2698:function(e,t,n){"use strict";function i(e){return e&&"getAtOrigin"in e&&"originOf"in e}n.d(t,"a",(function(){return i}))},8790:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return N}));var i=n("a4ee"),r=n("dabc"),o=n("b2b2");function s(e,t){return a(e)===a(t)}function a(e){if(Object(o["j"])(e))return null;const t=null!=e.layer?e.layer.id:"";let n=null;return n=null!=e.objectId?e.objectId:null!=e.layer&&"objectIdField"in e.layer&&null!=e.layer.objectIdField&&null!=e.attributes?e.attributes[e.layer.objectIdField]:e.uid,null==n?null:`o-${t}-${n}`}const c={json:{write:{writer:l,target:{"feature.layerId":{type:[Number,String]},"feature.objectId":{type:[Number,String]}}},origins:{"web-scene":{read:b}}}};function l(e,t){var n;Object(o["j"])(e)||null==(null==(n=e.layer)?void 0:n.objectIdField)||null==e.attributes||(t.feature={layerId:e.layer.id,objectId:e.attributes[e.layer.objectIdField]})}function b(e){if(null!=e.layerId&&null!=e.objectId)return{uid:null,layer:{id:e.layerId,objectIdField:"ObjectId"},attributes:{ObjectId:e.objectId}}}var p=n("fc29"),u=n("d3ac"),j=n("6a0e"),O=n("59b2"),y=(n("b50f"),n("c120"),n("cea0"),n("d386")),d=n("c6f7"),f=n("4ae5"),h=n("fd14");let g=class extends(Object(j["b"])(Object(u["b"])(p["a"]))){constructor(e){super(e),this.position=null,this.elevationInfo=null,this.feature=null}equals(e){return Object(o["f"])(this.position,e.position)&&Object(o["f"])(this.elevationInfo,e.elevationInfo)&&s(this.feature,e.feature)}};Object(i["a"])([Object(O["b"])({type:f["a"]}),Object(d["a"])()],g.prototype,"position",void 0),Object(i["a"])([Object(O["b"])({type:h["a"]}),Object(d["a"])()],g.prototype,"elevationInfo",void 0),Object(i["a"])([Object(O["b"])(c)],g.prototype,"feature",void 0),g=Object(i["a"])([Object(y["a"])("esri.analysis.LineOfSightAnalysisObserver")],g);const v=g;let m=class extends(Object(j["b"])(u["a"])){constructor(e){super(e),this.position=null,this.elevationInfo=null,this.feature=null}equals(e){return Object(o["f"])(this.position,e.position)&&Object(o["f"])(this.elevationInfo,e.elevationInfo)&&s(this.feature,e.feature)}};Object(i["a"])([Object(O["b"])({type:f["a"]}),Object(d["a"])()],m.prototype,"position",void 0),Object(i["a"])([Object(O["b"])({type:h["a"]}),Object(d["a"])()],m.prototype,"elevationInfo",void 0),Object(i["a"])([Object(O["b"])(c)],m.prototype,"feature",void 0),m=Object(i["a"])([Object(y["a"])("esri.analysis.LineOfSightAnalysisTarget")],m);const w=m;var I=n("2c4f"),x=n("7d7d"),k=n("477c"),E=n("8188"),S=n("4261"),F=n("f408");const R=I["a"].ofType(w);let z=class extends r["a"]{constructor(e){super(e),this.type="line-of-sight",this.observer=null,this.extent=null,this.nonEditableMessage="Assign an observer location to the analysis to allow editing."}initialize(){this.own(Object(k["f"])(()=>this._computeExtent(),e=>{(Object(o["j"])(e)||Object(o["j"])(e.pending))&&this._set("extent",Object(o["k"])(e)?e.extent:null)},k["e"]))}get targets(){return this._get("targets")||new R}set targets(e){this._set("targets",Object(x["b"])(e,this.targets,R))}get spatialReference(){return Object(o["k"])(this.observer)&&Object(o["k"])(this.observer.position)?this.observer.position.spatialReference:null}get requiredPropertiesForEditing(){return[Object(o["b"])(this.observer,e=>e.position)]}async waitComputeExtent(){const e=this._computeExtent();return Object(o["k"])(e)?Object(o["r"])(e.pending):null}_computeExtent(){const e=this.spatialReference;if(Object(o["j"])(this.observer)||Object(o["j"])(this.observer.position)||Object(o["j"])(e))return null;const t=e=>"absolute-height"===Object(F["d"])(e.position,e.elevationInfo),n=this.observer.position,i=Object(S["p"])(n.x,n.y,n.z,n.x,n.y,n.z);for(const s of this.targets)if(Object(o["k"])(s.position)){const t=Object(E["n"])(s.position,e);if(Object(o["k"])(t.pending))return{pending:t.pending,extent:null};if(Object(o["k"])(t.geometry)){const{x:e,y:n,z:r}=t.geometry;Object(S["n"])(i,[e,n,r])}}const r=Object(S["A"])(i,e);return t(this.observer)&&this.targets.every(t)||(r.zmin=null,r.zmax=null),{pending:null,extent:r}}clear(){this.observer=null,this.targets.removeAll()}};Object(i["a"])([Object(O["b"])({type:["line-of-sight"]})],z.prototype,"type",void 0),Object(i["a"])([Object(O["b"])({type:v,json:{read:!0,write:!0}})],z.prototype,"observer",void 0),Object(i["a"])([Object(O["b"])({cast:x["a"],type:R,nonNullable:!0,json:{read:!0,write:!0}})],z.prototype,"targets",null),Object(i["a"])([Object(O["b"])({value:null,readOnly:!0})],z.prototype,"extent",void 0),Object(i["a"])([Object(O["b"])({readOnly:!0})],z.prototype,"spatialReference",null),Object(i["a"])([Object(O["b"])({readOnly:!0})],z.prototype,"requiredPropertiesForEditing",null),Object(i["a"])([Object(O["b"])({readOnly:!0})],z.prototype,"nonEditableMessage",void 0),z=Object(i["a"])([Object(y["a"])("esri.analysis.LineOfSightAnalysis")],z);const A=z;var L=n("e694"),P=n("a6a3"),U=n("b911");const $=I["a"].ofType(w);let _=class extends(Object(U["a"])(Object(L["a"])(P["a"]))){constructor(e){super(e),this.type="line-of-sight",this.operationalLayerType="LineOfSightLayer",this.analysis=new A,this.opacity=1}initialize(){this.own(Object(k["f"])(()=>this.analysis,(e,t)=>{Object(o["k"])(t)&&t.parent===this&&(t.parent=null),Object(o["k"])(e)&&(e.parent=this)},k["e"]))}async load(){return Object(o["k"])(this.analysis)&&this.addResolvingPromise(this.analysis.waitComputeExtent()),this}get observer(){return Object(o["b"])(this.analysis,e=>e.observer)}set observer(e){Object(o["b"])(this.analysis,t=>t.observer=e)}get targets(){return Object(o["k"])(this.analysis)?this.analysis.targets:null}set targets(e){Object(o["b"])(this.analysis,t=>t.targets=e)}get fullExtent(){return Object(o["k"])(this.analysis)?this.analysis.extent:null}get spatialReference(){return Object(o["k"])(this.analysis)?this.analysis.spatialReference:null}removeAnalysis(e){this.analysis===e&&(this.analysis=new A)}};Object(i["a"])([Object(O["b"])({json:{read:!1},readOnly:!0})],_.prototype,"type",void 0),Object(i["a"])([Object(O["b"])({type:["LineOfSightLayer"]})],_.prototype,"operationalLayerType",void 0),Object(i["a"])([Object(O["b"])({type:v,json:{read:!0,write:{ignoreOrigin:!0}}})],_.prototype,"observer",null),Object(i["a"])([Object(O["b"])({type:$,json:{read:!0,write:{ignoreOrigin:!0}}})],_.prototype,"targets",null),Object(i["a"])([Object(O["b"])({nonNullable:!0,json:{read:!1,write:!1}})],_.prototype,"analysis",void 0),Object(i["a"])([Object(O["b"])({readOnly:!0})],_.prototype,"fullExtent",null),Object(i["a"])([Object(O["b"])({readOnly:!0})],_.prototype,"spatialReference",null),Object(i["a"])([Object(O["b"])({readOnly:!0,json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},"portal-item":{read:!1,write:!1},"web-document":{read:!1,write:!1}}}})],_.prototype,"opacity",void 0),Object(i["a"])([Object(O["b"])({type:["show","hide"]})],_.prototype,"listMode",void 0),_=Object(i["a"])([Object(y["a"])("esri.layers.LineOfSightLayer")],_);const N=_},c6f7:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("b2b2"),r=n("2698"),o=n("e041"),s=n("8eed"),a=n("7af8"),c=n("92ef"),l=n("59b2");function b(e){return j[p(e)]||y}function p(e){return e instanceof Blob?e.type:u(e.url)}function u(e){const t=Object(o["p"])(e);return d[t]||O}const j={},O="text/plain",y=j[O],d={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip"};for(const R in d)j[d[R]]=R;var f=n("fcf2");function h(e){const t=Object(i["k"])(e)&&e.origins?e.origins:[void 0];return(n,i)=>{const r=g(e,n,i);for(const e of t){const t=Object(l["c"])(n,e,i);for(const e in r)t[e]=r[e]}}}function g(e,t,n){if(Object(i["k"])(e)&&"resource"===e.type)return v(e,t,n);switch(Object(i["k"])(e)&&e.type?e.type:"other"){case"other":return{read:!0,write:!0};case"url":{const{read:e,write:t}=f["e"];return{read:e,write:t}}}}function v(e,t,n){const s=Object(a["b"])(t,n);return{type:String,read:(e,t,n)=>{const i=Object(f["f"])(e,t,n);return s.type===String?i:"function"==typeof s.type?new s.type({url:i}):void 0},write:{writer(t,a,l,b){if(!b||!b.resources)return"string"==typeof t?void(a[l]=Object(f["g"])(t,b)):void(a[l]=t.write({},b));const p=S(t),u=p?Object(f["g"])(p,{...b,verifyItemRelativeUrls:b&&b.verifyItemRelativeUrls?{writtenUrls:b.verifyItemRelativeUrls.writtenUrls,rootPath:null}:null},f["a"].NO):null,j=s.type!==String&&(!Object(r["a"])(this)||b&&b.origin&&this.originIdOf(n)>Object(c["e"])(b.origin));b&&b.portalItem&&Object(i["k"])(u)&&!Object(o["u"])(u)?j?w(this,n,t,u,a,l,b,e):I(u,a,l,b):b&&b.portalItem&&(Object(i["j"])(u)||Object(i["k"])(Object(f["d"])(u))||Object(o["v"])(u)||j)?m(this,n,t,u,a,l,b,e):a[l]=u}}}}function m(e,t,n,r,a,c,l,p){const u=Object(s["a"])(),j=k(n,r,l),O=Object(o["B"])(Object(i["i"])(p,"prefix"),u),y=`${O}.${b(j)}`,d=l.portalItem.resourceFromPath(y);Object(o["v"])(r)&&l.resources.pendingOperations.push(E(r).then(e=>{d.path=`${O}.${b(e)}`,a[c]=d.itemRelativeUrl}).catch(()=>{})),x(e,t,d,j,l.resources.toAdd),a[c]=d.itemRelativeUrl}function w(e,t,n,i,r,s,a,c){const l=a.portalItem.resourceFromPath(i),p=k(n,i,a);b(p)===Object(o["p"])(l.path)?(x(e,t,l,p,a.resources.toUpdate),r[s]=i):m(e,t,n,i,r,s,a,c)}function I(e,t,n,i){i.resources.toKeep.push({resource:i.portalItem.resourceFromPath(e)}),t[n]=e}function x(e,t,n,i,r){r.push({resource:n,content:i,finish:n=>{F(e,t,n)}})}function k(e,t,n){return"string"==typeof e?{url:t}:new Blob([JSON.stringify(e.toJSON(n))],{type:"application/json"})}async function E(e){const t=(await Promise.resolve().then(n.bind(null,"2eab"))).default,{data:i}=await t(e,{responseType:"blob"});return i}function S(e){return Object(i["j"])(e)?null:"string"==typeof e?e:e.url}function F(e,t,n){"string"==typeof e[t]?e[t]=n.url:e[t].url=n.url}},dabc:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var i=n("a4ee"),r=n("fc29"),o=n("d3ac"),s=n("a5d8"),a=n("6a0e"),c=n("b2b2"),l=n("59b2"),b=(n("b50f"),n("c120"),n("cea0"),n("d386"));let p=0,u=class extends(Object(a["b"])(Object(o["b"])(Object(s["a"])(r["a"])))){constructor(e){super(e),this.id=`${Date.now().toString(16)}-analysis-${p++}`,this.title=null}get parent(){return this._get("parent")}set parent(e){const t=this.parent;if(Object(c["k"])(t))switch(t.type){case"line-of-sight":t.removeAnalysis(this);break;case"2d":case"3d":t.analyses.includes(this)&&t.analyses.remove(this)}this._set("parent",e)}get isEditable(){return this.requiredPropertiesForEditing.every(c["k"])}};Object(i["a"])([Object(l["b"])({type:String,constructOnly:!0,clonable:!1})],u.prototype,"id",void 0),Object(i["a"])([Object(l["b"])({type:String})],u.prototype,"title",void 0),Object(i["a"])([Object(l["b"])({constructOnly:!0})],u.prototype,"type",void 0),Object(i["a"])([Object(l["b"])({clonable:!1,value:null})],u.prototype,"parent",null),Object(i["a"])([Object(l["b"])({readOnly:!0})],u.prototype,"extent",void 0),Object(i["a"])([Object(l["b"])({readOnly:!0})],u.prototype,"isEditable",null),Object(i["a"])([Object(l["b"])({readOnly:!0})],u.prototype,"requiredPropertiesForEditing",void 0),Object(i["a"])([Object(l["b"])({readOnly:!0})],u.prototype,"nonEditableMessage",void 0),u=Object(i["a"])([Object(b["a"])("esri.analysis.Analysis")],u);const j=u}}]);
//# sourceMappingURL=chunk-ea65f93c.0197876f.js.map