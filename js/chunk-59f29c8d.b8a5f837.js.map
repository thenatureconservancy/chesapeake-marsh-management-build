{"version":3,"sources":["webpack:///./node_modules/@arcgis/core/layers/support/arcgisLayers.js","webpack:///./node_modules/@arcgis/core/layers/support/lazyLayerLoader.js"],"names":["async","y","e","r","properties","customParameters","a","f","url","t","sublayerIds","layerOrTableId","layerId","sourceJSON","Constructor","s","default","title","parsedUrl","c","i","find","id","n","sublayerTitleMode","forEach","sublayerInfos","add","tableIds","tableInfos","tables","l","d","serverType","sublayer","o","u","FeatureServer","StreamServer","VectorTileServer","w","then","h","tileInfo","format","toUpperCase","cacheType","toLowerCase","path","layerType","layers","Array","isArray","length","Point","IntegratedMesh","PointCloud","Building","FeatureLayer","SceneLayer","m","p","layerInfos","layerIds","S","type","hasOwnProperty","name","serviceUrl","b","layersJSON","serviceJSON","map","reverse","I","filter","currentVersion","responseType","query","token","apiKey","data","BingMapsLayer","BuildingSceneLayer","CSVLayer","ElevationLayer","GroupLayer","GeoRSSLayer","GeoJSONLayer","ImageryLayer","ImageryTileLayer","IntegratedMeshLayer","KMLLayer","LineOfSightLayer","MapImageLayer","MapNotesLayer","OGCFeatureLayer","OpenStreetMapLayer","PointCloudLayer","RouteLayer","StreamLayer","TileLayer","UnknownLayer","UnsupportedLayer","VectorTileLayer","VoxelLayer","WebTileLayer","WFSLayer","WMSLayer","WMTSLayer"],"mappings":"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","file":"js/chunk-59f29c8d.b8a5f837.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import r from\"../../core/Error.js\";import{isNone as a,isSome as t}from\"../../core/maybe.js\";import{getFilename as s,urlToObject as n}from\"../../core/urlUtils.js\";import{parse as l,parseNonStandardSublayerUrl as o}from\"./arcgisLayerUrl.js\";import{layerLookupMap as u}from\"./lazyLayerLoader.js\";async function y(e){const r=e.properties?.customParameters,a=await f(e.url,r),t={...e.properties,url:e.url};if(!a.sublayerIds)return null!=a.layerOrTableId&&(t.layerId=a.layerOrTableId,t.sourceJSON=a.sourceJSON),new a.Constructor(t);const s=new(0,(await import(\"../GroupLayer.js\")).default)({title:a.parsedUrl.title});return c(s,a,t),s}function i(e,r){return e?e.find((e=>e.id===r)):null}function c(e,r,a){function s(e,s){const n={...a,layerId:e,sublayerTitleMode:\"service-name\"};return t(s)&&(n.sourceJSON=s),new r.Constructor(n)}r.sublayerIds.forEach((a=>{const t=s(a,i(r.sublayerInfos,a));e.add(t)})),r.tableIds.forEach((a=>{const t=s(a,i(r.tableInfos,a));e.tables.add(t)}))}async function f(e,t){let s=l(e);if(a(s)&&(s=await d(e,t)),a(s))throw new r(\"arcgis-layers:url-mismatch\",\"The url '${url}' is not a valid arcgis resource\",{url:e});const{serverType:n,sublayer:o}=s;let u;const y={FeatureServer:\"FeatureLayer\",StreamServer:\"StreamLayer\",VectorTileServer:\"VectorTileLayer\"};switch(n){case\"MapServer\":u=null!=o?\"FeatureLayer\":w(e,t).then((e=>e?\"TileLayer\":\"MapImageLayer\"));break;case\"ImageServer\":u=h(e,{customParameters:t}).then((e=>{const r=e.tileInfo&&e.tileInfo.format;return e.tileInfo?\"LERC\"!==r?.toUpperCase()||e.cacheType&&\"elevation\"!==e.cacheType.toLowerCase()?\"ImageryTileLayer\":\"ElevationLayer\":\"ImageryLayer\"}));break;case\"SceneServer\":u=h(s.url.path,{customParameters:t}).then((e=>{if(e){if(\"Voxel\"===e?.layerType)return\"VoxelLayer\";if(e?.layers&&Array.isArray(e.layers)&&e.layers.length>0){const r={Point:\"SceneLayer\",\"3DObject\":\"SceneLayer\",IntegratedMesh:\"IntegratedMeshLayer\",PointCloud:\"PointCloudLayer\",Building:\"BuildingSceneLayer\"},a=e.layers[0]?.layerType;if(null!=r[a])return r[a]}}return\"SceneLayer\"}));break;default:u=y[n]}const i={FeatureLayer:!0,SceneLayer:!0},c=\"FeatureServer\"===n,f={parsedUrl:s,Constructor:null,layerOrTableId:c?o:null,sublayerIds:null,tableIds:null},m=await u;if(i[m]&&null==o){const r=await p(e,n,t);c&&(f.sublayerInfos=r.layerInfos,f.tableInfos=r.tableInfos);1!==r.layerIds.length+r.tableIds.length?(f.sublayerIds=r.layerIds,f.tableIds=r.tableIds):c&&(f.layerOrTableId=r.layerIds[0]??r.tableIds[0],f.sourceJSON=r.layerInfos[0]??r.tableInfos[0])}return f.Constructor=await S(m),f}async function d(e,r){const a=await h(e,{customParameters:r});let l=null,u=null;const y=a.type;if(\"Feature Layer\"===y||\"Table\"===y?(l=\"FeatureServer\",u=a.id):\"indexedVector\"===y?l=\"VectorTileServer\":a.hasOwnProperty(\"mapName\")?l=\"MapServer\":a.hasOwnProperty(\"bandCount\")&&a.hasOwnProperty(\"pixelSizeX\")?l=\"ImageServer\":a.hasOwnProperty(\"maxRecordCount\")&&a.hasOwnProperty(\"allowGeometryUpdates\")?l=\"FeatureServer\":a.hasOwnProperty(\"streamUrls\")?l=\"StreamServer\":m(a)?(l=\"SceneServer\",u=a.id):a.hasOwnProperty(\"layers\")&&m(a.layers?.[0])&&(l=\"SceneServer\"),!l)return null;const i=null!=u?o(e):null;return{title:t(i)&&a.name||s(e),serverType:l,sublayer:u,url:{path:t(i)?i.serviceUrl:n(e).path}}}function m(e){return e?.hasOwnProperty(\"store\")&&e.hasOwnProperty(\"id\")&&\"number\"==typeof e.id}async function p(e,r,a){let t,s=!1;if(\"FeatureServer\"===r){const r=await b(e,{customParameters:a});s=!!r.layersJSON,t=r.layersJSON||r.serviceJSON}else t=await h(e,{customParameters:a});const n=t?.layers,l=t?.tables;return{layerIds:n?.map((e=>e.id)).reverse()||[],tableIds:l?.map((e=>e.id)).reverse()||[],layerInfos:s?n:[],tableInfos:s?l:[]}}function I(e){return!e.type||\"Feature Layer\"===e.type}async function b(e,r){let a=await h(e,r);a=a||{},a.layers=a.layers?.filter(I)||[];const t={serviceJSON:a};if(a.currentVersion<10.5)return t;const s=await h(e+\"/layers\",r);return t.layersJSON={layers:s?.layers?.filter(I)||[],tables:s?.tables||[]},t}async function S(e){return(0,u[e])()}async function w(e,r){return(await h(e,{customParameters:r})).tileInfo}async function h(r,a){return(await e(r,{responseType:\"json\",query:{f:\"json\",...a?.customParameters,token:a?.apiKey}})).data}export{b as fetchFeatureService,y as fromUrl};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nconst a={BingMapsLayer:async()=>(await import(\"../BingMapsLayer.js\")).default,BuildingSceneLayer:async()=>(await import(\"../BuildingSceneLayer.js\")).default,CSVLayer:async()=>(await import(\"../CSVLayer.js\")).default,ElevationLayer:async()=>(await import(\"../ElevationLayer.js\")).default,FeatureLayer:async()=>(await import(\"../FeatureLayer.js\")).default,GroupLayer:async()=>(await import(\"../GroupLayer.js\")).default,GeoRSSLayer:async()=>(await import(\"../GeoRSSLayer.js\")).default,GeoJSONLayer:async()=>(await import(\"../GeoJSONLayer.js\")).default,ImageryLayer:async()=>(await import(\"../ImageryLayer.js\")).default,ImageryTileLayer:async()=>(await import(\"../ImageryTileLayer.js\")).default,IntegratedMeshLayer:async()=>(await import(\"../IntegratedMeshLayer.js\")).default,KMLLayer:async()=>(await import(\"../KMLLayer.js\")).default,LineOfSightLayer:async()=>(await import(\"../LineOfSightLayer.js\")).default,MapImageLayer:async()=>(await import(\"../MapImageLayer.js\")).default,MapNotesLayer:async()=>(await import(\"../MapNotesLayer.js\")).default,OGCFeatureLayer:async()=>(await import(\"../OGCFeatureLayer.js\")).default,OpenStreetMapLayer:async()=>(await import(\"../OpenStreetMapLayer.js\")).default,PointCloudLayer:async()=>(await import(\"../PointCloudLayer.js\")).default,RouteLayer:async()=>(await import(\"../RouteLayer.js\")).default,SceneLayer:async()=>(await import(\"../SceneLayer.js\")).default,StreamLayer:async()=>(await import(\"../StreamLayer.js\")).default,TileLayer:async()=>(await import(\"../TileLayer.js\")).default,UnknownLayer:async()=>(await import(\"../UnknownLayer.js\")).default,UnsupportedLayer:async()=>(await import(\"../UnsupportedLayer.js\")).default,VectorTileLayer:async()=>(await import(\"../VectorTileLayer.js\")).default,VoxelLayer:async()=>(await import(\"../VoxelLayer.js\")).default,WebTileLayer:async()=>(await import(\"../WebTileLayer.js\")).default,WFSLayer:async()=>(await import(\"../WFSLayer.js\")).default,WMSLayer:async()=>(await import(\"../WMSLayer.js\")).default,WMTSLayer:async()=>(await import(\"../WMTSLayer.js\")).default};export{a as layerLookupMap};\n"],"sourceRoot":""}