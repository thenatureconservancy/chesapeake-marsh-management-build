import{aQ as Z,ap as z,av as R,aR as c,aS as g,aT as b,aU as v}from"./index-v3vBpdnQ.js";function W(a){return"declaredClass"in a}function m(a){return"declaredClass"in a}function C(a){return"declaredClass"in a}function N(a,n){return a?C(a)?a:new R({layer:n,sourceLayer:n,visible:a.visible,symbol:c(a.symbol),attributes:c(a.attributes),geometry:S(a.geometry)}):null}function S(a){return a==null?null:W(a)?a:g(A(a))}function A(a){const{wkid:n,wkt:t,wkt2:l,latestWkid:u}=a.spatialReference,i={wkid:n,wkt:t,wkt2:l,latestWkid:u};switch(a.type){case"point":{const{x:s,y:r,z:e,m:o}=a;return{x:s,y:r,z:e,m:o,spatialReference:i}}case"polygon":{const{rings:s,hasZ:r,hasM:e}=a;return{rings:f(s),hasZ:r,hasM:e,spatialReference:i}}case"polyline":{const{paths:s,hasZ:r,hasM:e}=a;return{paths:f(s),hasZ:r,hasM:e,spatialReference:i}}case"extent":{const{xmin:s,xmax:r,ymin:e,ymax:o,zmin:y,zmax:x,mmin:d,mmax:k,hasZ:w,hasM:M}=a;return{xmin:s,xmax:r,ymin:e,ymax:o,zmin:y,zmax:x,mmin:d,mmax:k,hasZ:w,hasM:M,spatialReference:i}}case"multipoint":{const{points:s,hasZ:r,hasM:e}=a;return{points:p(s)?h(s):s,hasZ:r,hasM:e,spatialReference:i}}default:return}}function f(a){return J(a)?a.map(n=>h(n)):a}function h(a){return a.map(n=>Array.from(n))}function J(a){for(const n of a)if(n.length!==0)return p(n);return!1}function p(a){return a.length>0&&(b(a[0])||v(a[0]))}function O(a,n){if(!a)return null;let t;if(m(a)){if(n==null)return a.clone();if(m(n))return n.copy(a)}return n!=null?(t=n,t.x=a.x,t.y=a.y,t.spatialReference=a.spatialReference,a.hasZ?(t.z=a.z,t.hasZ=a.hasZ):(t.z=void 0,t.hasZ=!1),a.hasM?(t.m=a.m,t.hasM=!0):(t.m=void 0,t.hasM=!1)):(t=Z(a.x,a.y,a.z,a.spatialReference),a.hasM&&(t.m=a.m,t.hasM=!0)),t}function Q(a){const{wkid:n,wkt:t,wkt2:l,latestWkid:u}=a,i={wkid:n,wkt:t,wkt2:l,latestWkid:u};return z.fromJSON(i)}export{N as c,Q as k,W as o,S as u,O as x};
