(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6be29d74"],{"661c":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c}));var a=n("38a4");function r(e,t,n=0){const r=Object(a["e"])(e,0,l);for(let a=0;a<4;a++)t[n+a]=Math.floor(256*s(r*o[a]))}function c(e,t=0){let n=0;for(let a=0;a<4;a++)n+=e[t+a]*i[a];return n}const o=[1,256,65536,16777216],i=[1/256,1/65536,1/16777216,1/4294967296],l=c(new Uint8ClampedArray([255,255,255,255]));function s(e){return e-Math.floor(e)}},"89cb":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("ce50"),r=n("e92d"),c=n("008c");function o(e,t,n,a,c){const o=e.referencesGeometry()&&c?l(t,a,c):t,i=e.repurposeFeature(o);try{return e.evaluate({...n,$feature:i})}catch(s){return r["a"].getLogger("esri.views.2d.support.arcadeOnDemand").warn("Feature arcade evaluation failed:",s),null}}const i=new Map;function l(e,t,n){const{transform:a,hasZ:r,hasM:c}=n;i.has(t)||i.set(t,s(t));const o=i.get(t)(e.geometry,a,r,c);return{...e,geometry:o}}function s(e){const t={};switch(e){case"esriGeometryPoint":return(e,n,a,r)=>Object(c["e"])(n,t,e,a,r);case"esriGeometryPolygon":return(e,n,a,r)=>Object(c["f"])(n,t,e,a,r);case"esriGeometryPolyline":return(e,n,a,r)=>Object(c["g"])(n,t,e,a,r);case"esriGeometryMultipoint":return(e,n,a,r)=>Object(c["d"])(n,t,e,a,r);default:return r["a"].getLogger("esri.views.2d.support.arcadeOnDemand").error(new a["a"]("mapview-arcade","Unable to handle geometryType: "+e)),e=>e}}},fcb9:function(e,t,n){"use strict";n.r(t),n.d(t,"previewCIMSymbol",(function(){return u}));var a=n("a915"),r=n("6b49"),c=n("d445"),o=n("2003"),i=n("4bad");const l=new r["CIMSymbolRasterizer"](null,!0),s=o["a"].maxSize;async function u(e,t={}){const{size:n,maxSize:r,node:o,opacity:u}=t,f=t.cimOptions||t,{feature:d,fieldMap:m,geometryType:y,style:p}=f,h=Object(c["c"])(e),b="number"==typeof n?n:null,w=Math.min(null!=b?b:h,null!=r?r:Object(a["h"])(s));w!==h&&(e=e.clone(),Object(c["e"])(e,w,{preserveOutlineWidth:!0}));let g=3;e&&e.data&&e.data.symbol&&"CIMPointSymbol"!==e.data.symbol.type&&(g=1);const M=await l.rasterizeCIMSymbolAsync(e,d,m,y,{scaleFactor:g,style:p}),O=document.createElement("canvas");O.width=M.imageData.width,O.height=M.imageData.height,O.getContext("2d").putImageData(M.imageData,0,0);let v=O.width/g,j=O.height/g;if(null!=n&&(null==(null==t?void 0:t.scale)||null!=t&&t.scale)){const e=v/j;v=e<=1?Math.ceil(w*e):w,j=e<=1?w:Math.ceil(w/e)}const C=new Image(v,j);C.src=O.toDataURL(),null!=u&&(C.style.opacity=""+u);let D=C;if(null!=t.effectView){const e={shape:{type:"image",x:0,y:0,width:v,height:j,src:C.src},fill:null,stroke:null,offset:[0,0]};D=Object(i["a"])([[e]],[v,j],{effectView:t.effectView})}return o&&o.appendChild(D),D}}}]);
//# sourceMappingURL=chunk-6be29d74.b0dcc6f4.js.map