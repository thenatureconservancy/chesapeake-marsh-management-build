{"version":3,"sources":["webpack:///./node_modules/@arcgis/core/geometry/support/rotate.js","webpack:///./node_modules/@arcgis/core/views/draw/support/Box.js","webpack:///./node_modules/@arcgis/core/views/draw/support/settings.js"],"names":["i","n","e","t","r","length","o","slice","push","s","x","y","c","a","f","spatialReference","m","Math","PI","cos","p","sin","center","rings","xmin","ymin","ymax","xmax","extent","paths","reverse","z","points","R","constructor","this","graphics","mover","dx","dy","type","I","C","H","angle","M","j","O","xScale","yScale","E","B","L","w","transformGraphics","Y","centerIndicator","style","size","color","fill","default","_","outline","outlineColor","join","width","active","stagedColor","handles","vertex","hover","hoverSize","hoverColor","hoverOutlineColor","rotator","rotatorLine","g","line","EventedAccessor","super","_activeHandleGraphic","_graphicAttributes","esriSketchTool","_mover","_centerGraphic","_backgroundGraphic","_vertexGraphics","_rotateHandleGraphic","_rotateGraphicOffset","_angleOfRotation","_rotateLineGraphic","_startInfo","_totalDx","_totalDy","_xScale","_yScale","callbacks","onMoveStart","onMove","onMoveStop","onScaleStart","onScale","onScaleStop","onRotateStart","onRotate","onRotateStop","onGraphicClick","enableMovement","enableRotation","enableScaling","highlightsEnabled","layer","preserveAspectRatio","showCenterGraphic","symbols","view","_getBounds","Number","POSITIVE_INFINITY","NEGATIVE_INFINITY","l","min","max","initialize","_highlightHelper","_setup","own","ready","b","once","initial","_scaleGraphic","_updateGraphics","scale","_updateRotateGraphic","_updateRotateLineGraphic","refresh","_resetGraphics","removeAll","_setUpHighlights","on","destroy","_reset","isUIGraphic","includes","move","geometry","d","emit","u","rotate","reset","state","_setupGraphics","_setupMover","_resetGraphicStateVars","cursor","removeMany","remove","concat","G","enableMoveAllGraphics","indicatorsEnabled","_onGraphicClickCallback","onGraphicMoveStart","_onGraphicMoveStartCallback","onGraphicMove","_onGraphicMoveCallback","onGraphicMoveStop","_onGraphicMoveStopCallback","onGraphicPointerOver","_onGraphicPointerOverCallback","onGraphicPointerOut","_onGraphicPointerOutCallback","_getStartInfo","_getBoxBounds","abs","h","height","centerX","centerY","startX","startY","graphicInfos","_getGraphicInfos","box","map","_getGraphicInfo","viewEvent","stopPropagation","graphic","_hideGraphicsBeforeUpdate","symbol","_rotateGraphic","_moveGraphic","rotation","index","resolution","transform","indexOf","_updateX","_updateY","v","_updateBackgroundGraphic","S","k","add","_hasExtentGraphic","addMany","_updateHandleGraphics","_updateCenterGraphic","visible","forEach","_getCoordinates","_updateXY","some","readOnly","prototype","value","cast","constructOnly","N","main","selected","selectedOutline","hoverOutline","secondary","secondaryOutline","transparent","stagedOutlineColor","midpoint","reshapeGraphics"],"mappings":"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","file":"js/chunk-2035914c.45c09423.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import n from\"../Polygon.js\";import e from\"../Polyline.js\";import t from\"../Point.js\";import r from\"../Multipoint.js\";function i(n){let e=0,t=0;const r=n.length;let i,o=n[t];for(t=0;t<r-1;t++)i=n[t+1],e+=(i[0]-o[0])*(i[1]+o[1]),o=i;return e>=0}function o(n,e,t,r){const i=[];for(const o of n){const n=o.slice(0);i.push(n);const s=e*(o[0]-r.x)-t*(o[1]-r.y)+r.x,c=t*(o[0]-r.x)+e*(o[1]-r.y)+r.y;n[0]=s,n[1]=c}return i}function s(s,c,a){const f=s.spatialReference,m=c*Math.PI/180,x=Math.cos(m),p=Math.sin(m);if(\"xmin\"in s&&(a=a??s.center,s=new n({spatialReference:f,rings:[[[s.xmin,s.ymin],[s.xmin,s.ymax],[s.xmax,s.ymax],[s.xmax,s.ymin],[s.xmin,s.ymin]]]})),\"paths\"in s){a=a??s.extent.center;const n=[];for(const e of s.paths)n.push(o(e,x,p,a));return new e({spatialReference:f,paths:n})}if(\"rings\"in s){a=a??s.extent.center;const e=[];for(const n of s.rings){const t=i(n),r=o(n,x,p,a);i(r)!==t&&r.reverse(),e.push(r)}return new n({spatialReference:f,rings:e})}if(\"x\"in s){a=a??s;const n=new t({x:x*(s.x-a.x)-p*(s.y-a.y)+a.x,y:p*(s.x-a.x)+x*(s.y-a.y)+a.y,spatialReference:f});return null!=s.z&&(n.z=s.z),null!=s.m&&(n.m=s.m),n}return\"points\"in s?(a=a??s.extent.center,new r({points:o(s.points,x,p,a),spatialReference:f})):null}export{s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import e from\"../../../Graphic.js\";import i from\"../../../core/Evented.js\";import{isSome as s}from\"../../../core/maybe.js\";import{when as r,watch as o}from\"../../../core/reactiveUtils.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as h}from\"../../../core/accessorSupport/decorators/subclass.js\";import{create as c}from\"../../../geometry/support/aaBoundingRect.js\";import{getRingsOrPathsBounds as n}from\"../../../geometry/support/boundsUtils.js\";import{geometryToCoordinates as l}from\"../../../geometry/support/coordsUtils.js\";import p from\"../../../geometry/support/rotate.js\";import _ from\"../../../symbols/SimpleFillSymbol.js\";import g from\"../../../symbols/SimpleLineSymbol.js\";import m from\"../../../symbols/SimpleMarkerSymbol.js\";import{cloneMove as d,scale as u,getScaleRatio as v,getRotationAngle as y}from\"./drawUtils.js\";import G from\"./GraphicMover.js\";import f from\"./HighlightHelper.js\";import{addUniqueLayer as b}from\"./layerUtils.js\";import{settings as w}from\"./settings.js\";import x from\"../../../geometry/Point.js\";import S from\"../../../geometry/Polygon.js\";import k from\"../../../geometry/Polyline.js\";class R{constructor(t,e,i,s){this.graphics=t,this.mover=e,this.dx=i,this.dy=s,this.type=\"move-start\"}}class I{constructor(t,e,i,s){this.graphics=t,this.mover=e,this.dx=i,this.dy=s,this.type=\"move\"}}class C{constructor(t,e,i,s){this.graphics=t,this.mover=e,this.dx=i,this.dy=s,this.type=\"move-stop\"}}class H{constructor(t,e,i){this.graphics=t,this.mover=e,this.angle=i,this.type=\"rotate-start\"}}class M{constructor(t,e,i){this.graphics=t,this.mover=e,this.angle=i,this.type=\"rotate\"}}class j{constructor(t,e,i){this.graphics=t,this.mover=e,this.angle=i,this.type=\"rotate-stop\"}}class O{constructor(t,e,i,s){this.graphics=t,this.mover=e,this.xScale=i,this.yScale=s,this.type=\"scale-start\"}}class E{constructor(t,e,i,s){this.graphics=t,this.mover=e,this.xScale=i,this.yScale=s,this.type=\"scale\"}}class B{constructor(t,e,i,s){this.graphics=t,this.mover=e,this.xScale=i,this.yScale=s,this.type=\"scale-stop\"}}const L=w.transformGraphics,Y={centerIndicator:new m({style:\"cross\",size:L.center.size,color:L.center.color}),fill:{default:new _({color:L.fill.color,outline:{color:L.fill.outlineColor,join:\"round\",width:1}}),active:new _({color:L.fill.stagedColor,outline:{color:L.fill.outlineColor,join:\"round\",style:\"dash\",width:1}})},handles:{default:new m({style:\"square\",size:L.vertex.size,color:L.vertex.color,outline:{color:L.vertex.outlineColor,width:1}}),hover:new m({style:\"square\",size:L.vertex.hoverSize,color:L.vertex.hoverColor,outline:{color:L.vertex.hoverOutlineColor,width:1}})},rotator:{default:new m({style:\"circle\",size:L.vertex.size,color:L.vertex.color,outline:{color:L.vertex.outlineColor,width:1}}),hover:new m({style:\"circle\",size:L.vertex.hoverSize,color:L.vertex.hoverColor,outline:{color:L.vertex.hoverOutlineColor,width:1}})},rotatorLine:new g({color:L.line.color,width:1})};let z=class extends i.EventedAccessor{constructor(t){super(t),this._activeHandleGraphic=null,this._graphicAttributes={esriSketchTool:\"box\"},this._mover=null,this._centerGraphic=null,this._backgroundGraphic=null,this._vertexGraphics=[],this._rotateHandleGraphic=null,this._rotateGraphicOffset=20,this._angleOfRotation=0,this._rotateLineGraphic=null,this._startInfo=null,this._totalDx=0,this._totalDy=0,this._xScale=1,this._yScale=1,this.type=\"box\",this.callbacks={onMoveStart(){},onMove(){},onMoveStop(){},onScaleStart(){},onScale(){},onScaleStop(){},onRotateStart(){},onRotate(){},onRotateStop(){},onGraphicClick(){}},this.enableMovement=!0,this.enableRotation=!0,this.enableScaling=!0,this.graphics=[],this.highlightsEnabled=!0,this.layer=null,this.preserveAspectRatio=!1,this.showCenterGraphic=!0,this.symbols=Y,this.view=null,this._getBounds=(()=>{const t=c();return(e,i)=>{e[0]=Number.POSITIVE_INFINITY,e[1]=Number.POSITIVE_INFINITY,e[2]=Number.NEGATIVE_INFINITY,e[3]=Number.NEGATIVE_INFINITY;for(const s of i){if(!s)continue;let i,r,o,a;if(\"point\"===s.type)i=o=s.x,r=a=s.y;else if(\"multipoint\"===s.type){const e=l(s);[i,r,o,a]=n(t,[e])}else if(\"extent\"===s.type)[i,r,o,a]=[s.xmin,s.ymin,s.xmax,s.ymax];else{const e=l(s);[i,r,o,a]=n(t,e)}e[0]=Math.min(i,e[0]),e[1]=Math.min(r,e[1]),e[2]=Math.max(o,e[2]),e[3]=Math.max(a,e[3])}return e}})()}initialize(){this._highlightHelper=new f({view:this.view}),this._setup(),this.own([r((()=>this.view?.ready),(()=>{const{layer:t,view:e}=this;b(e,t)}),{once:!0,initial:!0}),o((()=>this.preserveAspectRatio),(()=>{this._activeHandleGraphic&&(this._scaleGraphic(this._activeHandleGraphic),this._updateGraphics())})),o((()=>this.view?.scale),(()=>{this._updateRotateGraphic(),this._updateRotateLineGraphic()})),o((()=>this.graphics),(()=>this.refresh())),o((()=>this.layer),((t,e)=>{e&&this._resetGraphics(e),this.refresh()})),o((()=>this.highlightsEnabled),(()=>{this._highlightHelper?.removeAll(),this._setUpHighlights()})),this.on(\"move-start\",(t=>this.callbacks?.onMoveStart?.(t))),this.on(\"move\",(t=>this.callbacks?.onMove?.(t))),this.on(\"move-stop\",(t=>this.callbacks?.onMoveStop?.(t))),this.on(\"rotate-start\",(t=>this.callbacks?.onRotateStart?.(t))),this.on(\"rotate\",(t=>this.callbacks?.onRotate?.(t))),this.on(\"rotate-stop\",(t=>this.callbacks?.onRotateStop?.(t))),this.on(\"scale-start\",(t=>this.callbacks?.onScaleStart?.(t))),this.on(\"scale\",(t=>this.callbacks?.onScale?.(t))),this.on(\"scale-stop\",(t=>this.callbacks?.onScaleStop?.(t)))])}destroy(){this._reset()}get state(){const t=this.view?.ready??!1,e=this.graphics.length&&this.layer;return t&&e?\"active\":t?\"ready\":\"disabled\"}isUIGraphic(t){return this._vertexGraphics.includes(t)||t===this._backgroundGraphic||t===this._centerGraphic||t===this._rotateHandleGraphic||t===this._rotateLineGraphic}move(t,e){if(this._mover&&this.graphics.length){for(const i of this.graphics){const s=i.geometry,r=d(s,t,e,this.view);i.geometry=r}this.refresh(),this.emit(\"move-stop\",new C(this.graphics,null,t,e))}}scale(t,e){if(this._mover&&this.graphics.length){for(const i of this.graphics){const s=i.geometry,r=u(s,t,e);i.geometry=r}this.refresh(),this.emit(\"scale-stop\",new B(this.graphics,null,t,e))}}rotate(t,e){if(this._mover&&this.graphics.length){if(!e){const t=this._vertexGraphics[1].geometry.x,i=this._vertexGraphics[3].geometry.y;e=new x(t,i,this.view.spatialReference)}for(const i of this.graphics){const s=i.geometry,r=p(s,t,e);i.geometry=r}this.refresh(),this.emit(\"rotate-stop\",new j(this.graphics,null,t))}}refresh(){this._reset(),this._setup()}reset(){this.graphics=[]}_setup(){\"active\"===this.state&&(this._setUpHighlights(),this._setupGraphics(),this._setupMover(),this._updateGraphics())}_reset(){this._highlightHelper.removeAll(),this._resetGraphicStateVars(),this._resetGraphics(),this._mover&&this._mover.destroy(),this._mover=null,this.view.cursor=\"default\"}_resetGraphicStateVars(){this._startInfo=null,this._activeHandleGraphic=null,this._totalDx=0,this._totalDy=0,this._xScale=1,this._yScale=1,this._angleOfRotation=0}_resetGraphics(t){(t=t||this.layer)&&(t.removeMany(this._vertexGraphics),t.remove(this._backgroundGraphic),t.remove(this._centerGraphic),t.remove(this._rotateHandleGraphic),t.remove(this._rotateLineGraphic)),this._vertexGraphics=[],this._backgroundGraphic=null,this._centerGraphic=null,this._rotateHandleGraphic=null,this._rotateLineGraphic=null}_setupMover(){let t=[];this.enableScaling&&(t=t.concat(this._vertexGraphics)),this.enableMovement&&(t=t.concat(this.graphics,this._backgroundGraphic)),this.enableRotation&&t.push(this._rotateHandleGraphic),this.showCenterGraphic&&t.push(this._centerGraphic),this._mover=new G({enableMoveAllGraphics:!1,highlightsEnabled:!1,indicatorsEnabled:!1,view:this.view,graphics:t,callbacks:{onGraphicClick:t=>this._onGraphicClickCallback(t),onGraphicMoveStart:t=>this._onGraphicMoveStartCallback(t),onGraphicMove:t=>this._onGraphicMoveCallback(t),onGraphicMoveStop:t=>this._onGraphicMoveStopCallback(t),onGraphicPointerOver:t=>this._onGraphicPointerOverCallback(t),onGraphicPointerOut:t=>this._onGraphicPointerOutCallback(t)}})}_getStartInfo(t){const[e,i,s,r]=this._getBoxBounds(c()),o=Math.abs(s-e),a=Math.abs(r-i),h=(s+e)/2,n=(r+i)/2,{x:l,y:p}=t.geometry;return{width:o,height:a,centerX:h,centerY:n,startX:l,startY:p,graphicInfos:this._getGraphicInfos(),box:this._backgroundGraphic.geometry,rotate:this._rotateHandleGraphic.geometry}}_getGraphicInfos(){return this.graphics.map((t=>this._getGraphicInfo(t)))}_getGraphicInfo(t){const e=t.geometry,[i,s,r,o]=this._getBounds(c(),[e]);return{width:Math.abs(r-i),height:Math.abs(o-s),centerX:(r+i)/2,centerY:(o+s)/2,geometry:e}}_onGraphicClickCallback(t){t.viewEvent.stopPropagation(),this.emit(\"graphic-click\",t),this.callbacks.onGraphicClick&&this.callbacks.onGraphicClick(t)}_onGraphicMoveStartCallback(t){const{_angleOfRotation:e,_xScale:i,_yScale:s,_backgroundGraphic:r,_vertexGraphics:o,_rotateHandleGraphic:a,symbols:h}=this,c=t.graphic;this._resetGraphicStateVars(),this._hideGraphicsBeforeUpdate(),r.symbol=h.fill.active,this._startInfo=this._getStartInfo(c),c===a?(this.view.cursor=\"grabbing\",this.emit(\"rotate-start\",new H(this.graphics,c,e))):o.includes(c)?(this._activeHandleGraphic=c,this.emit(\"scale-start\",new O(this.graphics,c,i,s))):this.emit(\"move-start\",new R(this.graphics,c,t.dx,t.dy))}_onGraphicMoveCallback(t){const e=t.graphic;if(this._startInfo)if(this._vertexGraphics.includes(e))this._scaleGraphic(e),this.emit(\"scale\",new E(this.graphics,e,this._xScale,this._yScale));else if(e===this._rotateHandleGraphic)this._rotateGraphic(e),this.emit(\"rotate\",new M(this.graphics,e,this._angleOfRotation));else{const{dx:i,dy:s}=t;this._totalDx+=i,this._totalDy+=s,this._moveGraphic(e,i,s),this.emit(\"move\",new I(this.graphics,e,i,s))}}_onGraphicMoveStopCallback(t){const e=t.graphic;if(!this._startInfo)return void this.refresh();const{_angleOfRotation:i,_totalDx:s,_totalDy:r,_xScale:o,_yScale:a,_vertexGraphics:h,_rotateHandleGraphic:c}=this;this.refresh(),e===c?(this.view.cursor=\"pointer\",this.emit(\"rotate-stop\",new j(this.graphics,e,i))):h.includes(e)?this.emit(\"scale-stop\",new B(this.graphics,e,o,a)):this.emit(\"move-stop\",new C(this.graphics,e,s,r))}_onGraphicPointerOverCallback(t){const{_backgroundGraphic:e,_vertexGraphics:i,graphics:s,_rotateHandleGraphic:r,symbols:o,view:a}=this,h=t.graphic;if(h===r)return r.symbol=o.rotator.hover,void(a.cursor=\"pointer\");if(s.includes(h)||h===e)return void(a.cursor=\"move\");if(!i.includes(h))return void(a.cursor=\"pointer\");t.graphic.symbol=o.handles.hover;const c=a.rotation;let n,l=t.index;switch(l<8&&(c>=0&&c<45?l%=8:l=c>=45&&c<90?(l+1)%8:c>=90&&c<135?(l+2)%8:c>=135&&c<180?(l+3)%8:c>=180&&c<225?(l+4)%8:c>=225&&c<270?(l+5)%8:c>=270&&c<315?(l+6)%8:(l+7)%8),l){case 0:case 4:n=\"nwse-resize\";break;case 1:case 5:n=\"ns-resize\";break;case 2:case 6:n=\"nesw-resize\";break;case 3:case 7:n=\"ew-resize\";break;default:n=\"pointer\"}a.cursor=n}_onGraphicPointerOutCallback(t){const{_vertexGraphics:e,_rotateHandleGraphic:i,symbols:s,view:r}=this;t.graphic===i?i.symbol=s.rotator.default:e.includes(t.graphic)&&(t.graphic.symbol=s.handles.default),r.cursor=\"default\"}_scaleGraphic(t){const{_startInfo:e,_vertexGraphics:i,preserveAspectRatio:s,view:r}=this,{centerX:o,centerY:a,startX:h,startY:c}=e,{resolution:n,transform:l}=r.state,p=i.indexOf(t);1!==p&&5!==p||this._updateX(t,o),3!==p&&7!==p||this._updateY(t,a);const{x:_,y:g}=t.geometry,m=l[0]*_+l[2]*g+l[4],y=l[1]*_+l[3]*g+l[5],G=e.graphicInfos.map((t=>t.geometry));if(s){const t=l[0]*o+l[2]*a+l[4],e=l[1]*o+l[3]*a+l[5],i=l[0]*h+l[2]*c+l[4],s=l[1]*h+l[3]*c+l[5];this._xScale=this._yScale=v(t,e,i,s,m,y);for(const r of G){const t=G.indexOf(r);this.graphics[t].geometry=u(r,this._xScale,this._yScale,[o,a])}this._updateBackgroundGraphic()}else{const{width:t,height:i}=e;let s=_-h,l=c-g;if(1===p||5===p?s=0:3!==p&&7!==p||(l=0),0===s&&0===l)return;const m=t+(h>o?s:-1*s),v=i+(c<a?l:-1*l),y=o+s/2,f=a+l/2;this._xScale=m/t||1,this._yScale=v/i||1,1===p||5===p?this._xScale=1:3!==p&&7!==p||(this._yScale=1);const b=(y-o)/n,w=(f-a)/n,S=u(e.box,this._xScale,this._yScale);this._backgroundGraphic.geometry=d(S,b,w,r,!0);const{centerX:k,centerY:R}=this._getGraphicInfo(this._backgroundGraphic),I=(k-o)/n,C=-1*(R-a)/n;for(const e of G){const t=G.indexOf(e),i=u(e,this._xScale,this._yScale,[o,a]);this.graphics[t].geometry=d(i,I,C,r,!0)}this._centerGraphic.geometry=new x(k,R,r.spatialReference)}}_rotateGraphic(t){const{centerX:e,centerY:i,startX:s,startY:r,box:o,rotate:a}=this._startInfo,h=new x(s,r,this.view.spatialReference),c=new x(e,i,this.view.spatialReference),n=t.geometry;this._angleOfRotation=y(h,n,c);const l=this._startInfo.graphicInfos.map((t=>t.geometry));for(const _ of l){const t=l.indexOf(_),e=p(_,this._angleOfRotation,c);this.graphics[t].geometry=e}this._backgroundGraphic.geometry=p(o,this._angleOfRotation,c),this._rotateHandleGraphic.geometry=p(a,this._angleOfRotation,c)}_moveGraphic(t,e,i){if(this.graphics.includes(t)){const s=this._backgroundGraphic.geometry;this._backgroundGraphic.geometry=d(s,e,i,this.view);for(const r of this.graphics)r!==t&&(r.geometry=d(r.geometry,e,i,this.view))}else if(t===this._centerGraphic){const t=this._backgroundGraphic.geometry;this._backgroundGraphic.geometry=d(t,e,i,this.view)}if(t===this._backgroundGraphic||t===this._centerGraphic)for(const s of this.graphics)s.geometry=d(s.geometry,e,i,this.view)}_setUpHighlights(){this.highlightsEnabled&&this.graphics.length&&this._highlightHelper?.add(this.graphics)}_setupGraphics(){const{_graphicAttributes:t,symbols:i}=this;this._centerGraphic=new e(null,i.centerIndicator,t),this.showCenterGraphic&&this.layer.add(this._centerGraphic),this._backgroundGraphic=new e(null,i.fill.default,t),this.layer.add(this._backgroundGraphic),this._rotateLineGraphic=new e(null,i.rotatorLine,t),this._rotateHandleGraphic=new e(null,i.rotator.default,t),this.enableRotation&&!this._hasExtentGraphic()&&this.layer.addMany([this._rotateLineGraphic,this._rotateHandleGraphic]);for(let s=0;s<8;s++)this._vertexGraphics.push(new e(null,i.handles.default,t));this.enableScaling&&this.layer.addMany(this._vertexGraphics)}_updateGraphics(){this._updateBackgroundGraphic(),this._updateHandleGraphics(),this._updateCenterGraphic(),this._updateRotateGraphic(),this._updateRotateLineGraphic()}_hideGraphicsBeforeUpdate(){this._centerGraphic.visible=!1,this._rotateHandleGraphic.visible=!1,this._rotateLineGraphic.visible=!1,this._vertexGraphics.forEach((t=>t.visible=!1))}_updateHandleGraphics(){const t=this._getCoordinates(!0);this._vertexGraphics.forEach(((e,i)=>{const[s,r]=t[i];this._updateXY(e,s,r)}))}_updateBackgroundGraphic(){const t=this._getCoordinates();this._backgroundGraphic.geometry=new S({rings:t,spatialReference:this.view.spatialReference})}_updateCenterGraphic(){const[t,e,i,s]=this._getBoxBounds(c()),r=(i+t)/2,o=(s+e)/2;this._centerGraphic.geometry=new x(r,o,this.view.spatialReference)}_updateRotateGraphic(){if(!this._vertexGraphics.length)return;const{x:t,y:e}=this._vertexGraphics[1].geometry,i=e+this.view.state.resolution*this._rotateGraphicOffset;this._rotateHandleGraphic.geometry=new x(t,i,this.view.spatialReference)}_updateRotateLineGraphic(){if(!this._vertexGraphics.length||!this._rotateHandleGraphic||!this._rotateHandleGraphic.geometry)return;const t=this._vertexGraphics[1].geometry,e=this._rotateHandleGraphic.geometry;this._rotateLineGraphic.geometry=new k({paths:[[t.x,t.y],[e.x,e.y]],spatialReference:this.view.spatialReference})}_updateXY(t,e,i){t.geometry=new x(e,i,this.view.spatialReference)}_updateX(t,e){const i=t.geometry.y;t.geometry=new x(e,i,this.view.spatialReference)}_updateY(t,e){const i=t.geometry.x;t.geometry=new x(i,e,this.view.spatialReference)}_hasExtentGraphic(){return this.graphics.some((t=>t&&s(t.geometry)&&\"extent\"===t.geometry.type))}_getBoxBounds(t){const e=this.graphics.map((t=>t.geometry));return this._getBounds(t,e)}_getCoordinates(t){const[e,i,s,r]=this._getBoxBounds(c());if(t){const t=(e+s)/2,o=(r+i)/2;return[[e,r],[t,r],[s,r],[s,o],[s,i],[t,i],[e,i],[e,o]]}return[[e,r],[s,r],[s,i],[e,i]]}};t([a({readOnly:!0})],z.prototype,\"type\",void 0),t([a()],z.prototype,\"callbacks\",void 0),t([a()],z.prototype,\"enableMovement\",void 0),t([a()],z.prototype,\"enableRotation\",void 0),t([a()],z.prototype,\"enableScaling\",void 0),t([a()],z.prototype,\"graphics\",void 0),t([a()],z.prototype,\"highlightsEnabled\",void 0),t([a()],z.prototype,\"layer\",void 0),t([a()],z.prototype,\"preserveAspectRatio\",void 0),t([a()],z.prototype,\"showCenterGraphic\",void 0),t([a({readOnly:!0})],z.prototype,\"state\",null),t([a({value:Y,cast(t){const{centerIndicator:e=Y.centerIndicator,fill:i=Y.fill,handles:s=Y.handles,rotator:r=Y.rotator,rotatorLine:o=Y.rotatorLine}=t||{};return{centerIndicator:e,fill:i,handles:s,rotator:r,rotatorLine:o}}})],z.prototype,\"symbols\",void 0),t([a({constructOnly:!0})],z.prototype,\"view\",void 0),z=t([h(\"esri.views.draw.support.Box\")],z);const N=z;export{N as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../../Color.js\";const o={main:new e([255,127,0]),selected:new e([255,255,255]),outline:new e([0,0,0,.5]),selectedOutline:new e([255,255,255]),hoverOutline:new e([255,255,255]),secondary:new e([255,255,255]),secondaryOutline:new e([100,100,100]),transparent:new e([0,0,0,0])};function t(e,o){if(o)for(const t in o)e[t]=o[t]}class s{constructor(e){this.size=8,this.hoverSize=10,this.color=o.main,this.hoverColor=o.main,this.outlineColor=o.outline,this.hoverOutlineColor=o.hoverOutline,t(this,e)}}class n{constructor(e){this.color=o.secondary,this.hoverColor=o.main,t(this,e)}}class r{constructor(e){this.color=o.transparent,this.hoverColor=o.transparent,this.outlineColor=o.main,this.hoverOutlineColor=o.main,this.stagedColor=o.transparent,this.stagedOutlineColor=o.secondary,t(this,e)}}class i{constructor(e){this.vertex=new s,this.midpoint=new s({color:o.secondary,outlineColor:o.secondaryOutline,size:6}),this.selected=new s({color:o.selected,hoverColor:o.selected,hoverOutlineColor:o.hoverOutline}),t(this,e)}}class l{constructor(e){this.center=new s({color:o.secondaryOutline}),this.fill=new r,this.line=new n,this.vertex=new s({color:o.selected,outlineColor:o.main,hoverColor:o.selected,hoverOutlineColor:o.secondaryOutline}),t(this,e)}}class c{constructor(e){this.reshapeGraphics=new i,this.transformGraphics=new l,t(this,e)}}const h=new c;export{o as colors,h as settings};\n"],"sourceRoot":""}