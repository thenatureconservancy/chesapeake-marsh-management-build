(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d225296"],{e2e8:function(e,t,r){"use strict";r.r(t),r.d(t,"getGeometryServiceURL",(function(){return y})),r.d(t,"projectGeometry",(function(){return j}));var o=r("1325"),n=r("ce50"),a=r("0224"),i=r("2eab"),s=r("cea0"),c=r("a9ab"),l=r("bb72");function u(e,t,r){const o=Object(c["b"])(t);return e.map(e=>{const t=o.fromJSON(e);return t.spatialReference=r,t})}var f=r("a4ee"),p=r("6a0e"),m=r("59b2"),b=(r("b50f"),r("c120"),r("d386"));let d=class extends p["a"]{constructor(e){super(e),this.geometries=null,this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const e=this.geometries.map(e=>e.toJSON()),t=this.geometries[0],r={};return r.outSR=this.outSpatialReference.wkid||JSON.stringify(this.outSpatialReference.toJSON()),r.inSR=t.spatialReference.wkid||JSON.stringify(t.spatialReference.toJSON()),r.geometries=JSON.stringify({geometryType:Object(c["c"])(t),geometries:e}),this.transformation&&(r.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),null!=this.transformForward&&(r.transformForward=this.transformForward),r}};Object(f["a"])([Object(m["b"])()],d.prototype,"geometries",void 0),Object(f["a"])([Object(m["b"])({json:{read:{source:"outSR"}}})],d.prototype,"outSpatialReference",void 0),Object(f["a"])([Object(m["b"])()],d.prototype,"transformation",void 0),Object(f["a"])([Object(m["b"])()],d.prototype,"transformForward",void 0),d=Object(f["a"])([Object(b["a"])("esri.rest.support.ProjectParameters")],d);const g=d,O=Object(s["m"])(g);async function w(e,t,r){t=O(t);const o=Object(l["c"])(e),n={...o.query,f:"json",...t.toJSON()},a=t.outSpatialReference,s=Object(c["c"])(t.geometries[0]),f=Object(l["a"])(n,r);return Object(i["default"])(o.path+"/project",f).then(({data:{geometries:e}})=>u(e,s,a))}async function y(e=null,t){var r,i;if(o["a"].geometryServiceUrl)return o["a"].geometryServiceUrl;if(!e)throw new n["a"]("internal:geometry-service-url-not-configured");let s;s="portal"in e?e.portal||a["a"].getDefault():e,await s.load({signal:t});const c=null==(r=s.helperServices)||null==(i=r.geometry)?void 0:i.url;if(!c)throw new n["a"]("internal:geometry-service-url-not-configured");return c}async function j(e,t,r=null,o){const a=await y(r,o),i=new g;i.geometries=[e],i.outSpatialReference=t;const s=await w(a,i,{signal:o});if(s&&Array.isArray(s)&&1===s.length)return s[0];throw new n["a"]("internal:geometry-service-projection-failed")}}}]);
//# sourceMappingURL=chunk-2d225296.29ae317e.js.map