{"version":3,"sources":["webpack:///./node_modules/@arcgis/core/portal/support/portalItemUtils.js","webpack:///./node_modules/@arcgis/core/portal/support/jsonContext.js","webpack:///./node_modules/@arcgis/core/portal/support/layersLoader.js","webpack:///./node_modules/@arcgis/core/portal/support/portalLayers.js","webpack:///./node_modules/@arcgis/core/support/requestPresets.js","webpack:///./node_modules/@arcgis/core/layers/support/lazyLayerLoader.js"],"names":["async","n","i","spatialReference","isWGS84","clone","isWebMercator","o","s","r","WGS84","e","t","typeKeywords","push","includes","c","indexOf","splice","a","normalize","length","width","f","DEVELOPER_BASEMAP","JSAPI","METADATA","MULTI_LAYER","SINGLE_LAYER","TABLE","origin","url","itemUrl","portal","getDefault","portalItem","readResourcePaths","messages","writtenProperties","l","instance","id","load","supportedTypes","type","expectedType","join","title","read","u","d","resourceReferences","paths","FeatureLayer","StreamLayer","SceneLayer","then","p","I","name","layers","map","tables","Promise","resolve","forEach","layerDefinition","filter","reverse","y","add","layerId","sublayerTitleMode","showLegend","supportsData","fetchData","catch","b","m","h","properties","constructor","L","N","S","w","g","T","reject","className","M","j","Array","isArray","IntegratedMesh","Point","PointCloud","Building","Object","keys","layerType","toLowerCase","cacheType","tileInfo","match","v","data","responseType","query","BingMapsLayer","default","BuildingSceneLayer","CSVLayer","ElevationLayer","GroupLayer","GeoRSSLayer","GeoJSONLayer","ImageryLayer","ImageryTileLayer","IntegratedMeshLayer","KMLLayer","LineOfSightLayer","MapImageLayer","MapNotesLayer","OGCFeatureLayer","OpenStreetMapLayer","PointCloudLayer","RouteLayer","TileLayer","UnknownLayer","UnsupportedLayer","VectorTileLayer","VoxelLayer","WebTileLayer","WFSLayer","WMSLayer","WMTSLayer"],"mappings":"mIAAA,kNAIwNA,eAAeC,EAAEA,GAAG,MAAMC,EAAED,EAAEE,iBAAiB,GAAGD,EAAEE,QAAQ,OAAOH,EAAEI,QAAQ,GAAGH,EAAEI,cAAc,OAAOC,eAAEN,GAAG,MAAMO,EAAEC,OAAEC,MAAM,aAAaC,eAAET,EAAEM,GAAGI,eAAEX,EAAEO,GAAG,SAASN,EAAES,EAAEC,GAAG,IAAIJ,EAAEG,EAAEC,GAAG,CAAC,MAAMH,EAAEE,EAAEE,aAAaJ,EAAEA,EAAEK,KAAKF,GAAGD,EAAEE,aAAa,CAACD,IAAI,SAASJ,EAAEG,EAAEC,GAAE,MAAC,QAAO,SAACD,EAAEE,gBAAF,EAAgBE,SAASH,IAAG,SAASI,EAAEL,EAAEC,GAAG,MAAMH,EAAEE,EAAEE,aAAa,GAAGJ,EAAE,CAAC,MAAME,EAAEF,EAAEQ,QAAQL,GAAGD,GAAG,GAAGF,EAAES,OAAOP,EAAE,IAAIX,eAAemB,EAAER,GAAG,MAAMC,EAAED,EAAEN,QAAQe,YAAY,IAAIX,EAAE,GAAGG,EAAES,OAAO,EAAE,IAAI,MAAMd,KAAKK,EAAEH,EAAEF,EAAEe,MAAMb,EAAEa,QAAQb,EAAEF,GAAGE,EAAEF,OAAOE,EAAEG,EAAE,GAAG,OAAOX,EAAEQ,GAAG,MAAMc,EAAE,CAACC,kBAAkB,mBAAmBC,MAAM,4BAA4BC,SAAS,WAAWC,YAAY,aAAaC,aAAa,cAAcC,MAAM,U,oCCJv3B,gGAIiF,SAASlB,EAAEA,GAAG,MAAM,CAACmB,OAAO,cAAcC,IAAItB,eAAEE,EAAEqB,SAASC,OAAOtB,EAAEsB,QAAQrB,OAAEsB,aAAaC,WAAWxB,EAAEyB,kBAAkB,IAAI,SAAS7B,EAAEI,GAAG,MAAM,CAACmB,OAAO,cAAcO,SAAS,GAAGC,kBAAkB,GAAGP,IAAIpB,EAAEqB,QAAQvB,eAAEE,EAAEqB,SAAS,KAAKC,OAAOtB,EAAEsB,QAAQrB,OAAEsB,aAAaC,WAAWxB,K,oCCJrW,0RAIkVX,eAAeuC,EAAE5B,EAAEC,GAAG,MAAMH,EAAEE,EAAE6B,SAASL,WAAW,GAAG1B,GAAGA,EAAEgC,GAAG,aAAahC,EAAEiC,KAAK9B,GAAGJ,EAAEG,GAAGT,EAAES,EAAEC,GAAG,SAASJ,EAAEI,GAAG,MAAMH,EAAEG,EAAE4B,SAASL,WAAW,IAAIvB,EAAE+B,eAAe5B,SAASN,EAAEmC,MAAM,MAAM,IAAIjC,OAAE,iCAAiC,gEAAgE,CAACiC,KAAKnC,EAAEmC,KAAKC,aAAajC,EAAE+B,eAAeG,KAAK,QAAQ9C,eAAeE,EAAES,EAAEC,GAAG,MAAMH,EAAEE,EAAE6B,SAASjC,EAAEE,EAAE0B,YAAYJ,IAAIQ,EAAEQ,MAAMvC,GAAGD,EAAEL,EAAED,eAAEM,GAAG,GAAG,UAAUE,EAAEmC,KAAK,OAAOnC,EAAEuC,KAAK,CAACD,MAAMvC,GAAGN,GAAG+C,EAAExC,EAAEE,GAAG4B,GAAG9B,EAAEuC,KAAK,CAACjB,IAAIQ,GAAGrC,GAAG,MAAMc,QAAQkC,EAAEvC,EAAEC,GAAG,OAAOI,GAAGP,EAAEuC,KAAKhC,EAAEd,GAAGO,EAAE0C,mBAAmB,CAAChB,WAAW5B,EAAE6C,MAAMlD,EAAEkC,mBAAmB3B,EAAEuC,KAAK,CAACD,MAAMvC,GAAGN,GAAGiB,eAAEV,EAAEP,GAAG,SAAS+C,EAAExC,EAAER,GAAG,IAAIkB,EAAE,MAAMZ,EAAEE,EAAE0B,WAAWS,KAAK,OAAOrC,GAAG,IAAI,kBAAkB,IAAI,qBAAqBY,EAAEP,OAAEyC,aAAa,MAAM,IAAI,iBAAiBlC,EAAEP,OAAE0C,YAAY,MAAM,IAAI,gBAAgBnC,EAAEP,OAAE2C,WAAW,MAAM,QAAQ,MAAM,IAAI5C,OAAE,wCAAyC,kBAAiBJ,0CAA0C,IAAIgC,EAAE,OAAOpB,IAAIqC,KAAM7C,IAAI4B,EAAE5B,EAAEuC,EAAEjD,KAAMuD,KAAMxD,SAAS,oBAAoBO,GAAGI,QAAQY,EAAEZ,EAAEF,EAAE0B,WAAWJ,KAAK0B,EAAEhD,EAAE8B,EAAE5B,IAAI+C,EAAE/C,GAAG,EAAE8C,EAAEhD,EAAE8B,EAAE5B,GAAGK,EAAEP,EAAE8B,IAAK,SAASvB,EAAEL,EAAEC,GAAG,OAAOD,EAAEwB,WAAWJ,IAAIxB,eAAEI,EAAEwB,WAAWJ,KAAKyB,KAAM/C,IAAG,QAAC,SAASR,EAAEU,GAAG,MAAM,CAAC8B,GAAG9B,EAAE8B,GAAGkB,KAAKhD,EAAEgD,MAAMlD,GAAGgD,EAAE9C,EAAEC,EAAE,CAACgD,OAAM,SAACnD,EAAEmD,aAAH,EAAC,EAAUC,IAAI5D,GAAG6D,OAAM,SAACrD,EAAEqD,aAAH,EAAC,EAAUD,IAAI5D,OAAQ8D,QAAQC,UAAU,SAASP,EAAE9C,EAAEC,EAAEH,GAAG,IAAIR,EAAEQ,EAAEmD,QAAQ,GAAG,MAAMzC,EAAEV,EAAEqD,QAAQ,GAAG,uBAAuBnD,EAAEwB,WAAWS,OAAO3C,EAAEgE,QAAStD,IAAG,MAAC,iBAAUA,GAAV,SAAUA,EAAGuD,sBAAb,EAAU,EAAoBtB,OAAMzB,EAAEL,KAAKH,KAAMV,EAAEA,EAAEkE,OAAQxD,IAAC,YAAE,iBAAUA,GAAV,SAAUA,EAAGuD,sBAAb,EAAU,EAAoBtB,SAAQ3C,EAAEmE,UAAUH,QAAShE,IAAI,MAAMkB,EAAEkD,EAAE1D,EAAEC,EAAEH,EAAER,GAAGU,EAAE2D,IAAInD,KAAMA,EAAEiD,UAAUH,QAAShE,IAAI,MAAMkB,EAAEkD,EAAE1D,EAAEC,EAAEH,EAAER,GAAGU,EAAEmD,OAAOQ,IAAInD,KAAM,SAASkD,EAAE1D,EAAEC,EAAEX,EAAEkB,GAAG,MAAMZ,EAAE,IAAIK,EAAE,CAACuB,WAAWxB,EAAEwB,WAAW9B,QAAQkE,QAAQpD,EAAEsB,GAAG+B,kBAAkB,iBAAiB,GAAG,uBAAuB7D,EAAEwB,WAAWS,KAAK,CAAC,MAAMhC,EAAE,CAACkB,OAAO,cAAcG,OAAOtB,EAAEwB,WAAWF,QAAQxB,OAAEyB,cAAc3B,EAAEyC,KAAK7B,EAAEP,GAAG,MAAM2B,EAAEtC,EAAEwE,WAAW,MAAMlC,GAAGhC,EAAEyC,KAAK,CAACyB,WAAWlC,GAAG3B,GAAG,OAAOL,EAAE,SAAS2C,EAAEvC,EAAEC,GAAG,IAAG,IAAKD,EAAE+D,aAAa,OAAOX,QAAQC,aAAQ,GAAQ,MAAMvD,EAAEE,EAAE6B,SAAS,OAAO/B,EAAE0B,WAAWwC,UAAU,OAAO/D,GAAGgE,MAAO,IAAI,MAAOpB,KAAMxD,UAAU,GAAG6E,EAAEpE,GAAG,CAAC,IAAIG,EAAEX,GAAE,EAAG,OAAOU,GAAG+C,EAAE/C,GAAG,IAAI,MAAMF,EAAE8D,UAAU9D,EAAE8D,QAAQO,EAAEnE,IAAIC,EAAEmE,EAAEpE,EAAEF,EAAE8D,SAAS3D,IAAI,IAAI8C,EAAE/C,KAAKV,GAAE,GAAI,MAAMU,EAAE8D,aAAa7D,EAAE6D,WAAW9D,EAAE8D,cAAcxE,GAAG,iBAAiBQ,EAAE+D,oBAAoB/D,EAAE+D,kBAAkB,+BAA+B5D,EAAE,OAAOD,IAAKX,eAAeuB,EAAEZ,EAAEC,GAAE,QAAC,GAAG,gBAAMD,QAAN,EAAM,EAAGiD,SAAQ,gBAAMjD,QAAN,EAAM,EAAGmD,QAAO,CAAC,MAAMrD,QAAQF,eAAEK,IAAID,EAAEA,GAAG,IAAIiD,OAAOjD,EAAEiD,SAAF,MAAUnD,OAAV,EAAUA,EAAGmD,QAAOjD,EAAEmD,OAAOnD,EAAEmD,SAAF,MAAUrD,OAAV,EAAUA,EAAGqD,QAAO,OAAOnD,EAAE,SAASmE,EAAEnE,GAAG,MAAMC,EAAED,EAAEiD,OAAO,GAAGhD,GAAGA,EAAES,OAAO,OAAOT,EAAE,GAAG6B,GAAG,MAAMhC,EAAEE,EAAEmD,OAAO,OAAOrD,GAAGA,EAAEY,OAAOZ,EAAE,GAAGgC,GAAG,KAAK,SAASsC,EAAEpE,EAAEC,GAAG,MAAMH,EAAEE,EAAEiD,OAAO,GAAGnD,EAAE,IAAI,IAAIU,EAAE,EAAEA,EAAEV,EAAEY,OAAOF,IAAI,GAAGV,EAAEU,GAAGsB,KAAK7B,EAAE,OAAOH,EAAEU,GAAG,MAAMlB,EAAEU,EAAEmD,OAAO,GAAG7D,EAAE,IAAI,IAAIkB,EAAE,EAAEA,EAAElB,EAAEoB,OAAOF,IAAI,GAAGlB,EAAEkB,GAAGsB,KAAK7B,EAAE,OAAOX,EAAEkB,GAAG,OAAO,KAAK,SAASuC,EAAE/C,GAAE,YAAC,OAAM,eAACA,GAAD,SAACA,EAAGiD,aAAJ,EAAC,EAAWvC,QAAZ,EAAoB,IAApB,eAAwBV,GAAxB,SAAwBA,EAAGmD,aAA3B,EAAwB,EAAWzC,QAAnC,EAA2C,GAAG,SAASwD,EAAElE,GAAG,MAAM,WAAWA,EAAEiC,MAAM,YAAYjC,I,oCCJ5sG,iLAI6X,SAASsC,EAAEtC,GAAG,OAAOA,EAAEwB,YAAYxB,EAAEwB,sBAAsBvB,eAAID,EAAE,IAAIA,EAAEwB,WAAW,IAAIvB,aAAED,EAAEwB,cAAcjC,EAAES,EAAEwB,YAAYqB,KAAM/C,IAAI,MAAMG,EAAE,CAACuB,WAAWxB,EAAEwB,cAAc1B,EAAEuE,YAAY,OAAO,MAAMvE,EAAEwE,aAAarE,KAAM,SAASV,EAAES,GAAG,OAAOA,EAAE+B,OAAOc,KAAKjB,GAAGiB,KAAKa,GAAG,SAAS9B,EAAE9B,GAAG,OAAOA,EAAEmC,MAAM,IAAI,cAAc,OAAOkC,EAAErE,GAAG,IAAI,kBAAkB,OAAOgD,EAAEhD,GAAG,IAAI,qBAAqB,OAAOyE,EAAEzE,GAAG,IAAI,gBAAgB,OAAOc,EAAEd,GAAG,IAAI,gBAAgB,OAAOyC,EAAEzC,GAAG,IAAI,iBAAiB,OAAO0E,IAAI,IAAI,sBAAsB,OAAOC,IAAI,IAAI,MAAM,OAAO1B,IAAI,IAAI,MAAM,OAAOqB,IAAI,IAAI,OAAO,OAAOM,IAAI,IAAI,MAAM,OAAOC,IAAI,IAAI,OAAO,OAAOC,IAAI,QAAQ,OAAOxB,QAAQyB,OAAO,IAAI7E,OAAE,2BAA2B,8BAA8B,CAACiC,KAAKnC,EAAEmC,SAAS,SAASyB,EAAE1D,GAAG,OAAM,EAAGF,OAAEE,EAAE8E,cAAcjC,KAAM/C,IAAC,CAAIwE,YAAYxE,EAAEuE,WAAWrE,EAAEqE,cAAe,SAASF,EAAEnE,GAAG,OAAO+E,EAAE/E,GAAG6C,KAAM7C,GAAGA,EAAE,CAAC8E,UAAU,aAAa,CAACA,UAAU,kBAAmB,SAAShC,EAAE9C,GAAG,OAAOgF,EAAEhF,GAAG6C,KAAM7C,IAAI,GAAG,iBAAiBA,EAAE,CAAC,MAAMF,EAAE,GAAG,OAAO,MAAME,EAAE8B,KAAKhC,EAAE8D,QAAQ5D,EAAE8B,IAAI,CAACgD,UAAU,eAAeT,WAAWvE,GAAG,MAAM,CAACgF,UAAU,gBAAiB,SAASlE,EAAEZ,GAAG,OAAOgF,EAAEhF,GAAG6C,KAAM/C,IAAI,GAAG,iBAAiBA,EAAE,CAAC,MAAMG,EAAE,GAAG,IAAIO,EAAE,GAAG,MAAMV,EAAEgC,IAAI7B,EAAE2D,QAAQ9D,EAAEgC,GAAGtB,EAAG,GAAER,EAAEoB,cAActB,EAAEgC,MAAMtB,EAAER,EAAEoB,IAAI6D,MAAMC,QAAQlF,EAAEE,eAAeF,EAAEE,aAAaQ,OAAO,EAAE,CAAC,MAAMZ,EAAE,CAACqF,eAAe,sBAAsB,WAAW,aAAaC,MAAM,aAAaC,WAAW,kBAAkBC,SAAS,sBAAsB,IAAI,MAAMrF,KAAKsF,OAAOC,KAAK1F,GAAG,GAAGE,EAAEE,aAAaE,SAASH,GAAG,MAAM,CAAC6E,UAAUhF,EAAEG,IAAI,OAAOI,eAAEG,GAAGqC,KAAM7C,IAAI,IAAIF,EAAE,aAAa,MAAMU,EAAE,CAAC4E,MAAM,aAAa,WAAW,aAAaD,eAAe,sBAAsBE,WAAW,kBAAkBC,SAAS,sBAAsB,OAAOtF,GAAGA,EAAEyF,WAAWjF,EAAER,EAAEyF,aAAa3F,EAAEU,EAAER,EAAEyF,YAAY,CAACX,UAAUhF,EAAEuE,WAAWpE,KAAM,OAAM,IAAKH,EAAEO,eAAEL,EAAEoB,KAAKyB,KAAM7C,GAAG,iBAAUA,OAAV,EAAUA,EAAGyF,WAAU,CAACX,UAAU,cAAc,CAACA,UAAU,eAAgB,CAACA,UAAU,gBAAiBzF,eAAekF,EAAEvE,GAAkB,SAATA,EAAE+B,OAAUnC,eAAEI,EAAE,aAAa,MAAM,CAAC8E,UAAU,iBAAiB,GAAGlF,eAAEI,EAAE,eAAe,MAAM,CAAC8E,UAAU,cAAc,MAAMhF,QAAQE,EAAEgE,YAAY,OAAO,IAAIxD,mCAAEV,GAAG,CAACgF,UAAU,gBAAgB,CAACA,UAAU,cAAczF,eAAekD,EAAEvC,GAAE,kBAAOA,EAAE+B,OAAO,MAAMjC,EAAC,kBAACE,EAAEE,mBAAH,EAAC,EAAgBgD,IAAKlD,GAAGA,EAAE0F,gBAA3B,EAA4C,GAAG,GAAG5F,EAAEM,SAAS,sBAAsB,MAAM,CAAC0E,UAAU,kBAAkB,GAAGhF,EAAEM,SAAS,iBAAiB,MAAM,CAAC0E,UAAU,oBAAoB,MAAM7E,EAAC,eAAQD,EAAEgE,kBAAV,EAAC,EAAuByB,UAAU,GAAG,iCAAiCxF,EAAE,MAAM,CAAC6E,UAAU,oBAAoB,GAAG,4BAA4B7E,EAAE,MAAM,CAAC6E,UAAU,gBAAgB,MAAMtE,EAAC,gBAAQH,eAAEL,EAAEoB,MAAMuE,gBAAlB,EAAC,EAA4BD,cAAc,MAAM,QAAQlF,EAAE,CAACsE,UAAU,oBAAoB,CAACA,UAAU,gBAAgB,SAASN,IAAI,MAAM,CAACM,UAAU,eAAe,SAASL,IAAI,MAAM,CAACK,UAAU,mBAAmB,SAAS/B,IAAI,MAAM,CAAC+B,UAAU,YAAY,SAASV,IAAI,MAAM,CAACU,UAAU,YAAY,SAASH,IAAI,MAAM,CAACG,UAAU,YAAY,SAASJ,IAAI,MAAM,CAACI,UAAU,aAAa,SAASF,IAAI,MAAM,CAACE,UAAU,eAAe,SAASC,EAAE/E,GAAG,OAAOK,eAAEL,EAAEoB,KAAKyB,KAAM7C,GAAGA,EAAE4F,UAAW,SAASZ,EAAEhF,GAAG,OAAOA,EAAEoB,KAAKpB,EAAEoB,IAAIyE,MAAM,UAAUzC,QAAQC,QAAQ,IAAIrD,EAAE+B,OAAOc,KAAM,IAAI7C,EAAEgE,aAAcnB,KAAMxD,SAAa,oBAAoBW,EAAEiC,KAAY6D,EAAEhG,QAAQR,kCAAEQ,EAAEE,EAAEoB,MAAaZ,mCAAEV,GAAG,EAAEgG,EAAEhG,GAAGO,eAAEL,EAAEoB,KAAKyB,KAAKiD,IAAM,SAASA,EAAE9F,GAAG,OAAO,IAAIQ,mCAAER,IAAI,CAAC8B,GAAGjC,oCAAEG,M,kCCJroH,kDAI6BX,eAAeC,EAAEA,GAAG,MAAMyG,KAAKnG,SAASI,qBAAEV,EAAE,CAAC0G,aAAa,OAAOC,MAAM,CAACrF,EAAE,UAAU,OAAOhB,I,kCCJxH,kCAIA,MAAMY,EAAE,CAAC0F,cAAc7G,gBAAgB,iDAA+B8G,QAAQC,mBAAmB/G,gBAAgB,sFAAoC8G,QAAQE,SAAShH,gBAAgB,iDAA0B8G,QAAQG,eAAejH,gBAAgB,iDAAgC8G,QAAQzD,aAAarD,gBAAgB,6CAA8B8G,QAAQI,WAAWlH,gBAAgB,iDAA4B8G,QAAQK,YAAYnH,gBAAgB,iDAA6B8G,QAAQM,aAAapH,gBAAgB,iDAA8B8G,QAAQO,aAAarH,gBAAgB,4GAA8B8G,QAAQQ,iBAAiBtH,gBAAgB,kIAAkC8G,QAAQS,oBAAoBvH,gBAAgB,iDAAqC8G,QAAQU,SAASxH,gBAAgB,iDAA0B8G,QAAQW,iBAAiBzH,gBAAgB,iDAAkC8G,QAAQY,cAAc1H,gBAAgB,6CAA+B8G,QAAQa,cAAc3H,gBAAgB,iDAA+B8G,QAAQc,gBAAgB5H,gBAAgB,iDAAiC8G,QAAQe,mBAAmB7H,gBAAgB,iDAAoC8G,QAAQgB,gBAAgB9H,gBAAgB,iDAAiC8G,QAAQiB,WAAW/H,gBAAgB,iDAA4B8G,QAAQvD,WAAWvD,gBAAgB,sFAA4B8G,QAAQxD,YAAYtD,gBAAgB,iDAA6B8G,QAAQkB,UAAUhI,gBAAgB,iDAA2B8G,QAAQmB,aAAajI,gBAAgB,iDAA8B8G,QAAQoB,iBAAiBlI,gBAAgB,iDAAkC8G,QAAQqB,gBAAgBnI,gBAAgB,sFAAiC8G,QAAQsB,WAAWpI,gBAAgB,iDAA4B8G,QAAQuB,aAAarI,gBAAgB,iDAA8B8G,QAAQwB,SAAStI,gBAAgB,iDAA0B8G,QAAQyB,SAASvI,gBAAgB,iDAA0B8G,QAAQ0B,UAAUxI,gBAAgB,iDAA2B8G","file":"js/chunk-80f047ce.12c365f8.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{initializeProjection as e,project as t}from\"../../geometry/projection.js\";import r from\"../../geometry/SpatialReference.js\";import{webMercatorToGeographic as o}from\"../../geometry/support/webMercatorUtils.js\";async function n(n){const i=n.spatialReference;if(i.isWGS84)return n.clone();if(i.isWebMercator)return o(n);const s=r.WGS84;return await e(i,s),t(n,s)}function i(e,t){if(!s(e,t)){const r=e.typeKeywords;r?r.push(t):e.typeKeywords=[t]}}function s(e,t){return!!e.typeKeywords?.includes(t)}function c(e,t){const r=e.typeKeywords;if(r){const e=r.indexOf(t);e>-1&&r.splice(e,1)}}async function a(e){const t=e.clone().normalize();let r;if(t.length>1)for(const o of t)r?o.width>r.width&&(r=o):r=o;else r=t[0];return n(r)}const f={DEVELOPER_BASEMAP:\"DeveloperBasemap\",JSAPI:\"ArcGIS API for JavaScript\",METADATA:\"Metadata\",MULTI_LAYER:\"Multilayer\",SINGLE_LAYER:\"Singlelayer\",TABLE:\"Table\"};export{f as TypeKeyword,i as addTypeKeyword,a as getWGS84ExtentForItem,s as hasTypeKeyword,c as removeTypeKeyword};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{urlToObject as r}from\"../../core/urlUtils.js\";import t from\"../Portal.js\";function e(e){return{origin:\"portal-item\",url:r(e.itemUrl),portal:e.portal||t.getDefault(),portalItem:e,readResourcePaths:[]}}function o(e){return{origin:\"portal-item\",messages:[],writtenProperties:[],url:e.itemUrl?r(e.itemUrl):null,portal:e.portal||t.getDefault(),portalItem:e}}export{e as createForItemRead,o as createForItemWrite};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{layerLookupMap as t}from\"../../layers/support/lazyLayerLoader.js\";import r from\"../Portal.js\";import{createForItemRead as n}from\"./jsonContext.js\";import{loadStyleRenderer as a}from\"../../renderers/support/styleUtils.js\";import{requestArcGISServiceJSON as o}from\"../../support/requestPresets.js\";async function l(e,t){const r=e.instance.portalItem;if(r&&r.id)return await r.load(t),s(e),i(e,t)}function s(t){const r=t.instance.portalItem;if(!t.supportedTypes.includes(r.type))throw new e(\"portal:invalid-layer-item-type\",\"Invalid layer item type '${type}', expected '${expectedType}'\",{type:r.type,expectedType:t.supportedTypes.join(\", \")})}async function i(e,t){const r=e.instance,o=r.portalItem,{url:l,title:s}=o,i=n(o);if(\"group\"===r.type)return r.read({title:s},i),u(r,e);l&&r.read({url:l},i);const c=await d(e,t);return c&&r.read(c,i),r.resourceReferences={portalItem:o,paths:i.readResourcePaths},r.read({title:s},i),a(r,i)}function u(r,n){let a;const o=r.portalItem.type;switch(o){case\"Feature Service\":case\"Feature Collection\":a=t.FeatureLayer;break;case\"Stream Service\":a=t.StreamLayer;break;case\"Scene Service\":a=t.SceneLayer;break;default:throw new e(\"portal:unsupported-item-type-as-group\",`The item type '${o}' is not supported as a 'IGroupLayer'`)}let l;return a().then((e=>(l=e,d(n)))).then((async e=>\"Feature Service\"===o?(e=await f(e,r.portalItem.url),p(r,l,e)):I(e)>0?p(r,l,e):c(r,l)))}function c(e,t){return e.portalItem.url?o(e.portalItem.url).then((r=>{function n(e){return{id:e.id,name:e.name}}r&&p(e,t,{layers:r.layers?.map(n),tables:r.tables?.map(n)})})):Promise.resolve()}function p(e,t,r){let n=r.layers||[];const a=r.tables||[];\"Feature Collection\"===e.portalItem.type&&(n.forEach((e=>{\"Table\"===e?.layerDefinition?.type&&a.push(e)})),n=n.filter((e=>\"Table\"!==e?.layerDefinition?.type))),n.reverse().forEach((n=>{const a=y(e,t,r,n);e.add(a)})),a.reverse().forEach((n=>{const a=y(e,t,r,n);e.tables.add(a)}))}function y(e,t,n,a){const o=new t({portalItem:e.portalItem.clone(),layerId:a.id,sublayerTitleMode:\"service-name\"});if(\"Feature Collection\"===e.portalItem.type){const t={origin:\"portal-item\",portal:e.portalItem.portal||r.getDefault()};o.read(a,t);const l=n.showLegend;null!=l&&o.read({showLegend:l},t)}return o}function d(e,t){if(!1===e.supportsData)return Promise.resolve(void 0);const r=e.instance;return r.portalItem.fetchData(\"json\",t).catch((()=>null)).then((async e=>{if(b(r)){let t,n=!0;return e&&I(e)>0&&(null==r.layerId&&(r.layerId=m(e)),t=h(e,r.layerId),t&&(1===I(e)&&(n=!1),null!=e.showLegend&&(t.showLegend=e.showLegend))),n&&\"service-name\"!==r.sublayerTitleMode&&(r.sublayerTitleMode=\"item-title-and-service-name\"),t}return e}))}async function f(e,t){if(null==e?.layers||null==e?.tables){const r=await o(t);(e=e||{}).layers=e.layers||r?.layers,e.tables=e.tables||r?.tables}return e}function m(e){const t=e.layers;if(t&&t.length)return t[0].id;const r=e.tables;return r&&r.length?r[0].id:null}function h(e,t){const r=e.layers;if(r)for(let a=0;a<r.length;a++)if(r[a].id===t)return r[a];const n=e.tables;if(n)for(let a=0;a<n.length;a++)if(n[a].id===t)return n[a];return null}function I(e){return(e?.layers?.length??0)+(e?.tables?.length??0)}function b(e){return\"stream\"!==e.type&&\"layerId\"in e}export{m as getFirstLayerOrTableId,I as getNumLayersAndTables,l as load,f as preprocessFSItemData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{layerLookupMap as r}from\"../../layers/support/lazyLayerLoader.js\";import t from\"../PortalItem.js\";import{getNumLayersAndTables as a,preprocessFSItemData as n,getFirstLayerOrTableId as s}from\"./layersLoader.js\";import{hasTypeKeyword as o}from\"./portalItemUtils.js\";import{requestArcGISServiceJSON as c}from\"../../support/requestPresets.js\";function u(e){return!e.portalItem||e.portalItem instanceof t||(e={...e,portalItem:new t(e.portalItem)}),i(e.portalItem).then((r=>{const t={portalItem:e.portalItem,...r.properties};return new(0,r.constructor)(t)}))}function i(e){return e.load().then(l).then(y)}function l(r){switch(r.type){case\"Map Service\":return m(r);case\"Feature Service\":return p(r);case\"Feature Collection\":return L(r);case\"Scene Service\":return f(r);case\"Image Service\":return d(r);case\"Stream Service\":return N();case\"Vector Tile Service\":return S();case\"KML\":return I();case\"WFS\":return h();case\"WMTS\":return w();case\"WMS\":return g();case\"Feed\":return T();default:return Promise.reject(new e(\"portal:unknown-item-type\",\"Unknown item type '${type}'\",{type:r.type}))}}function y(e){return(0,r[e.className])().then((r=>({constructor:r,properties:e.properties})))}function m(e){return M(e).then((e=>e?{className:\"TileLayer\"}:{className:\"MapImageLayer\"}))}function p(e){return j(e).then((e=>{if(\"object\"==typeof e){const r={};return null!=e.id&&(r.layerId=e.id),{className:\"FeatureLayer\",properties:r}}return{className:\"GroupLayer\"}}))}function f(e){return j(e).then((r=>{if(\"object\"==typeof r){const t={};let a;if(null!=r.id?(t.layerId=r.id,a=`${e.url}/layers/${r.id}`):a=e.url,Array.isArray(e.typeKeywords)&&e.typeKeywords.length>0){const r={IntegratedMesh:\"IntegratedMeshLayer\",\"3DObject\":\"SceneLayer\",Point:\"SceneLayer\",PointCloud:\"PointCloudLayer\",Building:\"BuildingSceneLayer\"};for(const t of Object.keys(r))if(e.typeKeywords.includes(t))return{className:r[t]}}return c(a).then((e=>{let r=\"SceneLayer\";const a={Point:\"SceneLayer\",\"3DObject\":\"SceneLayer\",IntegratedMesh:\"IntegratedMeshLayer\",PointCloud:\"PointCloudLayer\",Building:\"BuildingSceneLayer\"};return e&&e.layerType&&a[e.layerType]&&(r=a[e.layerType]),{className:r,properties:t}}))}return!1===r?c(e.url).then((e=>\"Voxel\"===e?.layerType?{className:\"VoxelLayer\"}:{className:\"GroupLayer\"})):{className:\"GroupLayer\"}}))}async function L(e){await e.load();if(o(e,\"Map Notes\"))return{className:\"MapNotesLayer\"};if(o(e,\"Route Layer\"))return{className:\"RouteLayer\"};const r=await e.fetchData();return 1===a(r)?{className:\"FeatureLayer\"}:{className:\"GroupLayer\"}}async function d(e){await e.load();const r=e.typeKeywords?.map((e=>e.toLowerCase()))??[];if(r.includes(\"elevation 3d layer\"))return{className:\"ElevationLayer\"};if(r.includes(\"tiled imagery\"))return{className:\"ImageryTileLayer\"};const t=(await e.fetchData())?.layerType;if(\"ArcGISTiledImageServiceLayer\"===t)return{className:\"ImageryTileLayer\"};if(\"ArcGISImageServiceLayer\"===t)return{className:\"ImageryLayer\"};const a=(await c(e.url)).cacheType?.toLowerCase();return\"map\"===a?{className:\"ImageryTileLayer\"}:{className:\"ImageryLayer\"}}function N(){return{className:\"StreamLayer\"}}function S(){return{className:\"VectorTileLayer\"}}function I(){return{className:\"KMLLayer\"}}function h(){return{className:\"WFSLayer\"}}function g(){return{className:\"WMSLayer\"}}function w(){return{className:\"WMTSLayer\"}}function T(){return{className:\"StreamLayer\"}}function M(e){return c(e.url).then((e=>e.tileInfo))}function j(e){return!e.url||e.url.match(/\\/\\d+$/)?Promise.resolve({}):e.load().then((()=>e.fetchData())).then((async r=>{if(\"Feature Service\"===e.type)return v(r=await n(r,e.url));return a(r)>0?v(r):c(e.url).then(v)}))}function v(e){return 1===a(e)&&{id:s(e)}}export{u as fromItem,l as selectLayerClassPath};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../request.js\";async function n(n){const{data:o}=await e(n,{responseType:\"json\",query:{f:\"json\"}});return o}export{n as requestArcGISServiceJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nconst a={BingMapsLayer:async()=>(await import(\"../BingMapsLayer.js\")).default,BuildingSceneLayer:async()=>(await import(\"../BuildingSceneLayer.js\")).default,CSVLayer:async()=>(await import(\"../CSVLayer.js\")).default,ElevationLayer:async()=>(await import(\"../ElevationLayer.js\")).default,FeatureLayer:async()=>(await import(\"../FeatureLayer.js\")).default,GroupLayer:async()=>(await import(\"../GroupLayer.js\")).default,GeoRSSLayer:async()=>(await import(\"../GeoRSSLayer.js\")).default,GeoJSONLayer:async()=>(await import(\"../GeoJSONLayer.js\")).default,ImageryLayer:async()=>(await import(\"../ImageryLayer.js\")).default,ImageryTileLayer:async()=>(await import(\"../ImageryTileLayer.js\")).default,IntegratedMeshLayer:async()=>(await import(\"../IntegratedMeshLayer.js\")).default,KMLLayer:async()=>(await import(\"../KMLLayer.js\")).default,LineOfSightLayer:async()=>(await import(\"../LineOfSightLayer.js\")).default,MapImageLayer:async()=>(await import(\"../MapImageLayer.js\")).default,MapNotesLayer:async()=>(await import(\"../MapNotesLayer.js\")).default,OGCFeatureLayer:async()=>(await import(\"../OGCFeatureLayer.js\")).default,OpenStreetMapLayer:async()=>(await import(\"../OpenStreetMapLayer.js\")).default,PointCloudLayer:async()=>(await import(\"../PointCloudLayer.js\")).default,RouteLayer:async()=>(await import(\"../RouteLayer.js\")).default,SceneLayer:async()=>(await import(\"../SceneLayer.js\")).default,StreamLayer:async()=>(await import(\"../StreamLayer.js\")).default,TileLayer:async()=>(await import(\"../TileLayer.js\")).default,UnknownLayer:async()=>(await import(\"../UnknownLayer.js\")).default,UnsupportedLayer:async()=>(await import(\"../UnsupportedLayer.js\")).default,VectorTileLayer:async()=>(await import(\"../VectorTileLayer.js\")).default,VoxelLayer:async()=>(await import(\"../VoxelLayer.js\")).default,WebTileLayer:async()=>(await import(\"../WebTileLayer.js\")).default,WFSLayer:async()=>(await import(\"../WFSLayer.js\")).default,WMSLayer:async()=>(await import(\"../WMSLayer.js\")).default,WMTSLayer:async()=>(await import(\"../WMTSLayer.js\")).default};export{a as layerLookupMap};\n"],"sourceRoot":""}