{"version":3,"sources":["webpack:///./node_modules/@arcgis/core/portal/support/portalItemUtils.js","webpack:///./node_modules/@arcgis/core/portal/support/jsonContext.js","webpack:///./node_modules/@arcgis/core/core/multiOriginJSONSupportUtils.js","webpack:///./node_modules/@arcgis/core/layers/support/arcgisLayers.js","webpack:///./node_modules/@arcgis/core/layers/support/lazyLayerLoader.js","webpack:///./node_modules/@arcgis/core/layers/save/featureLayerUtils.js","webpack:///./node_modules/@arcgis/core/core/accessorSupport/originUtils.js"],"names":["async","n","i","spatialReference","isWGS84","clone","isWebMercator","o","s","r","WGS84","e","t","typeKeywords","push","includes","c","indexOf","splice","a","normalize","length","width","f","DEVELOPER_BASEMAP","JSAPI","METADATA","MULTI_LAYER","SINGLE_LAYER","TABLE","origin","url","itemUrl","portal","getDefault","portalItem","readResourcePaths","messages","writtenProperties","y","properties","customParameters","sublayerIds","layerOrTableId","layerId","sourceJSON","Constructor","default","title","parsedUrl","find","id","sublayerTitleMode","forEach","sublayerInfos","add","tableIds","tableInfos","tables","l","d","serverType","sublayer","u","FeatureServer","StreamServer","VectorTileServer","w","then","h","tileInfo","format","toUpperCase","cacheType","toLowerCase","path","layerType","layers","Array","isArray","Point","IntegratedMesh","PointCloud","Building","FeatureLayer","SceneLayer","m","p","layerInfos","layerIds","S","type","hasOwnProperty","name","serviceUrl","b","layersJSON","serviceJSON","map","reverse","I","filter","currentVersion","responseType","query","token","apiKey","data","BingMapsLayer","BuildingSceneLayer","CSVLayer","ElevationLayer","GroupLayer","GeoRSSLayer","GeoJSONLayer","ImageryLayer","ImageryTileLayer","IntegratedMeshLayer","KMLLayer","LineOfSightLayer","MapImageLayer","MapNotesLayer","OGCFeatureLayer","OpenStreetMapLayer","PointCloudLayer","RouteLayer","StreamLayer","TileLayer","UnknownLayer","UnsupportedLayer","VectorTileLayer","VoxelLayer","WebTileLayer","WFSLayer","WMSLayer","WMTSLayer","getLogger","g","declaredClass","j","L","load","P","message","details","ignoreUnsupported","errors","J","beforeSave","write","N","layer","layerJSON","isTable","O","E","error","loaded","T","test","$","fetchData","x","K","A","itemResources","added","U","removed","some","defaultPopupTemplate","popupInfo","toJSON","F","findIndex","R","dynamicDataSource","D","Promise","all","Set","size","_","from","q","fullExtent","extent","v","z","_signIn","user","addItem","item","folder","C","M","update","Y","slice","reload","B","G","target","propName","newOrigin","originOf","updateOrigin"],"mappings":"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","file":"js/chunk-0c9814be.1731ecc1.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{initializeProjection as e,project as t}from\"../../geometry/projection.js\";import r from\"../../geometry/SpatialReference.js\";import{webMercatorToGeographic as o}from\"../../geometry/support/webMercatorUtils.js\";async function n(n){const i=n.spatialReference;if(i.isWGS84)return n.clone();if(i.isWebMercator)return o(n);const s=r.WGS84;return await e(i,s),t(n,s)}function i(e,t){if(!s(e,t)){const r=e.typeKeywords;r?r.push(t):e.typeKeywords=[t]}}function s(e,t){return!!e.typeKeywords?.includes(t)}function c(e,t){const r=e.typeKeywords;if(r){const e=r.indexOf(t);e>-1&&r.splice(e,1)}}async function a(e){const t=e.clone().normalize();let r;if(t.length>1)for(const o of t)r?o.width>r.width&&(r=o):r=o;else r=t[0];return n(r)}const f={DEVELOPER_BASEMAP:\"DeveloperBasemap\",JSAPI:\"ArcGIS API for JavaScript\",METADATA:\"Metadata\",MULTI_LAYER:\"Multilayer\",SINGLE_LAYER:\"Singlelayer\",TABLE:\"Table\"};export{f as TypeKeyword,i as addTypeKeyword,a as getWGS84ExtentForItem,s as hasTypeKeyword,c as removeTypeKeyword};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{urlToObject as r}from\"../../core/urlUtils.js\";import t from\"../Portal.js\";function e(e){return{origin:\"portal-item\",url:r(e.itemUrl),portal:e.portal||t.getDefault(),portalItem:e,readResourcePaths:[]}}function o(e){return{origin:\"portal-item\",messages:[],writtenProperties:[],url:e.itemUrl?r(e.itemUrl):null,portal:e.portal||t.getDefault(),portalItem:e}}export{e as createForItemRead,o as createForItemWrite};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nfunction i(i){return i&&\"getAtOrigin\"in i&&\"originOf\"in i}export{i as isMultiOriginJSONMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import r from\"../../core/Error.js\";import{isNone as a,isSome as t}from\"../../core/maybe.js\";import{getFilename as s,urlToObject as n}from\"../../core/urlUtils.js\";import{parse as l,parseNonStandardSublayerUrl as o}from\"./arcgisLayerUrl.js\";import{layerLookupMap as u}from\"./lazyLayerLoader.js\";async function y(e){const r=e.properties?.customParameters,a=await f(e.url,r),t={...e.properties,url:e.url};if(!a.sublayerIds)return null!=a.layerOrTableId&&(t.layerId=a.layerOrTableId,t.sourceJSON=a.sourceJSON),new a.Constructor(t);const s=new(0,(await import(\"../GroupLayer.js\")).default)({title:a.parsedUrl.title});return c(s,a,t),s}function i(e,r){return e?e.find((e=>e.id===r)):null}function c(e,r,a){function s(e,s){const n={...a,layerId:e,sublayerTitleMode:\"service-name\"};return t(s)&&(n.sourceJSON=s),new r.Constructor(n)}r.sublayerIds.forEach((a=>{const t=s(a,i(r.sublayerInfos,a));e.add(t)})),r.tableIds.forEach((a=>{const t=s(a,i(r.tableInfos,a));e.tables.add(t)}))}async function f(e,t){let s=l(e);if(a(s)&&(s=await d(e,t)),a(s))throw new r(\"arcgis-layers:url-mismatch\",\"The url '${url}' is not a valid arcgis resource\",{url:e});const{serverType:n,sublayer:o}=s;let u;const y={FeatureServer:\"FeatureLayer\",StreamServer:\"StreamLayer\",VectorTileServer:\"VectorTileLayer\"};switch(n){case\"MapServer\":u=null!=o?\"FeatureLayer\":w(e,t).then((e=>e?\"TileLayer\":\"MapImageLayer\"));break;case\"ImageServer\":u=h(e,{customParameters:t}).then((e=>{const r=e.tileInfo&&e.tileInfo.format;return e.tileInfo?\"LERC\"!==r?.toUpperCase()||e.cacheType&&\"elevation\"!==e.cacheType.toLowerCase()?\"ImageryTileLayer\":\"ElevationLayer\":\"ImageryLayer\"}));break;case\"SceneServer\":u=h(s.url.path,{customParameters:t}).then((e=>{if(e){if(\"Voxel\"===e?.layerType)return\"VoxelLayer\";if(e?.layers&&Array.isArray(e.layers)&&e.layers.length>0){const r={Point:\"SceneLayer\",\"3DObject\":\"SceneLayer\",IntegratedMesh:\"IntegratedMeshLayer\",PointCloud:\"PointCloudLayer\",Building:\"BuildingSceneLayer\"},a=e.layers[0]?.layerType;if(null!=r[a])return r[a]}}return\"SceneLayer\"}));break;default:u=y[n]}const i={FeatureLayer:!0,SceneLayer:!0},c=\"FeatureServer\"===n,f={parsedUrl:s,Constructor:null,layerOrTableId:c?o:null,sublayerIds:null,tableIds:null},m=await u;if(i[m]&&null==o){const r=await p(e,n,t);c&&(f.sublayerInfos=r.layerInfos,f.tableInfos=r.tableInfos);1!==r.layerIds.length+r.tableIds.length?(f.sublayerIds=r.layerIds,f.tableIds=r.tableIds):c&&(f.layerOrTableId=r.layerIds[0]??r.tableIds[0],f.sourceJSON=r.layerInfos[0]??r.tableInfos[0])}return f.Constructor=await S(m),f}async function d(e,r){const a=await h(e,{customParameters:r});let l=null,u=null;const y=a.type;if(\"Feature Layer\"===y||\"Table\"===y?(l=\"FeatureServer\",u=a.id):\"indexedVector\"===y?l=\"VectorTileServer\":a.hasOwnProperty(\"mapName\")?l=\"MapServer\":a.hasOwnProperty(\"bandCount\")&&a.hasOwnProperty(\"pixelSizeX\")?l=\"ImageServer\":a.hasOwnProperty(\"maxRecordCount\")&&a.hasOwnProperty(\"allowGeometryUpdates\")?l=\"FeatureServer\":a.hasOwnProperty(\"streamUrls\")?l=\"StreamServer\":m(a)?(l=\"SceneServer\",u=a.id):a.hasOwnProperty(\"layers\")&&m(a.layers?.[0])&&(l=\"SceneServer\"),!l)return null;const i=null!=u?o(e):null;return{title:t(i)&&a.name||s(e),serverType:l,sublayer:u,url:{path:t(i)?i.serviceUrl:n(e).path}}}function m(e){return e?.hasOwnProperty(\"store\")&&e.hasOwnProperty(\"id\")&&\"number\"==typeof e.id}async function p(e,r,a){let t,s=!1;if(\"FeatureServer\"===r){const r=await b(e,{customParameters:a});s=!!r.layersJSON,t=r.layersJSON||r.serviceJSON}else t=await h(e,{customParameters:a});const n=t?.layers,l=t?.tables;return{layerIds:n?.map((e=>e.id)).reverse()||[],tableIds:l?.map((e=>e.id)).reverse()||[],layerInfos:s?n:[],tableInfos:s?l:[]}}function I(e){return!e.type||\"Feature Layer\"===e.type}async function b(e,r){let a=await h(e,r);a=a||{},a.layers=a.layers?.filter(I)||[];const t={serviceJSON:a};if(a.currentVersion<10.5)return t;const s=await h(e+\"/layers\",r);return t.layersJSON={layers:s?.layers?.filter(I)||[],tables:s?.tables||[]},t}async function S(e){return(0,u[e])()}async function w(e,r){return(await h(e,{customParameters:r})).tileInfo}async function h(r,a){return(await e(r,{responseType:\"json\",query:{f:\"json\",...a?.customParameters,token:a?.apiKey}})).data}export{b as fetchFeatureService,y as fromUrl};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nconst a={BingMapsLayer:async()=>(await import(\"../BingMapsLayer.js\")).default,BuildingSceneLayer:async()=>(await import(\"../BuildingSceneLayer.js\")).default,CSVLayer:async()=>(await import(\"../CSVLayer.js\")).default,ElevationLayer:async()=>(await import(\"../ElevationLayer.js\")).default,FeatureLayer:async()=>(await import(\"../FeatureLayer.js\")).default,GroupLayer:async()=>(await import(\"../GroupLayer.js\")).default,GeoRSSLayer:async()=>(await import(\"../GeoRSSLayer.js\")).default,GeoJSONLayer:async()=>(await import(\"../GeoJSONLayer.js\")).default,ImageryLayer:async()=>(await import(\"../ImageryLayer.js\")).default,ImageryTileLayer:async()=>(await import(\"../ImageryTileLayer.js\")).default,IntegratedMeshLayer:async()=>(await import(\"../IntegratedMeshLayer.js\")).default,KMLLayer:async()=>(await import(\"../KMLLayer.js\")).default,LineOfSightLayer:async()=>(await import(\"../LineOfSightLayer.js\")).default,MapImageLayer:async()=>(await import(\"../MapImageLayer.js\")).default,MapNotesLayer:async()=>(await import(\"../MapNotesLayer.js\")).default,OGCFeatureLayer:async()=>(await import(\"../OGCFeatureLayer.js\")).default,OpenStreetMapLayer:async()=>(await import(\"../OpenStreetMapLayer.js\")).default,PointCloudLayer:async()=>(await import(\"../PointCloudLayer.js\")).default,RouteLayer:async()=>(await import(\"../RouteLayer.js\")).default,SceneLayer:async()=>(await import(\"../SceneLayer.js\")).default,StreamLayer:async()=>(await import(\"../StreamLayer.js\")).default,TileLayer:async()=>(await import(\"../TileLayer.js\")).default,UnknownLayer:async()=>(await import(\"../UnknownLayer.js\")).default,UnsupportedLayer:async()=>(await import(\"../UnsupportedLayer.js\")).default,VectorTileLayer:async()=>(await import(\"../VectorTileLayer.js\")).default,VoxelLayer:async()=>(await import(\"../VoxelLayer.js\")).default,WebTileLayer:async()=>(await import(\"../WebTileLayer.js\")).default,WFSLayer:async()=>(await import(\"../WFSLayer.js\")).default,WMSLayer:async()=>(await import(\"../WMSLayer.js\")).default,WMTSLayer:async()=>(await import(\"../WMTSLayer.js\")).default};export{a as layerLookupMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{difference as e}from\"../../core/arrayUtils.js\";import t from\"../../core/Error.js\";import a from\"../../core/Logger.js\";import{isNone as r,isSome as o}from\"../../core/maybe.js\";import{debounce as s,eachAlways as l}from\"../../core/promiseUtils.js\";import{updateOrigins as i}from\"../../core/accessorSupport/originUtils.js\";import n from\"../FeatureLayer.js\";import{fetchFeatureService as u}from\"../support/arcgisLayers.js\";import{parse as p}from\"../support/arcgisLayerUrl.js\";import{isFeatureCollectionLayer as c,isFeatureServiceLayer as y}from\"../support/layerUtils.js\";import d from\"../../portal/Portal.js\";import m from\"../../portal/PortalItem.js\";import{createForItemWrite as f}from\"../../portal/support/jsonContext.js\";import{addTypeKeyword as w,TypeKeyword as h,getWGS84ExtentForItem as v,removeTypeKeyword as b}from\"../../portal/support/portalItemUtils.js\";const I=a.getLogger(\"esri.layers.FeatureLayer\"),S=\"Feature Service\";function g(e,t){return`Layer (title: ${e.title}, id: ${e.id}) of type '${e.declaredClass}' ${t}`}function j(e,a){if(a.type!==S)throw new t(\"feature-layer:portal-item-wrong-type\",g(e,`should have portal item of type \"${S}\"`))}async function L(e){if(await e.load(),c(e))throw new t(\"feature-layer:save\",g(e,\"using an in-memory source cannot be saved to a portal item\"))}function P(e,a){let r=e.messages.filter((({type:e})=>\"error\"===e)).map((({name:e,message:a,details:r})=>new t(e,a,r)));if(a?.ignoreUnsupported&&(r=r.filter((({name:e})=>\"layer:unsupported\"!==e&&\"symbol:unsupported\"!==e&&\"symbol-layer:unsupported\"!==e&&\"property:unsupported\"!==e&&\"url:unsupported\"!==e))),r.length>0)throw new t(\"feature-layer:save\",\"Failed to save feature layer due to unsupported or invalid content. See 'details.errors' for more detailed information\",{errors:r})}async function J(e,t,a){\"beforeSave\"in e&&\"function\"==typeof e.beforeSave&&await e.beforeSave();const r=e.write({},t);return P(t,a),r}function N(e){const{layer:t,layerJSON:a}=e;return t.isTable?{layers:[],tables:[a]}:{layers:[a],tables:[]}}function O(e){w(e,h.JSAPI),e.typeKeywords&&(e.typeKeywords=e.typeKeywords.filter(((e,t,a)=>a.indexOf(e)===t)))}function E(e){const a=e.portalItem;if(!a)throw I.error(\"save: requires the portalItem property to be set\"),new t(\"feature-layer:portal-item-not-set\",g(e,\"requires the portalItem property to be set\"));if(!a.loaded)throw new t(\"feature-layer:portal-item-not-loaded\",g(e,\"cannot be saved to a portal item that does not exist or is inaccessible\"));j(e,a)}async function T(e,t){return/\\/\\d+\\/?$/.test(e.url)?N(t[0]):$(e,t)}async function $(e,t){const{layer:{url:a,customParameters:r,apiKey:o}}=t[0];let s=await e.fetchData(\"json\");s&&null!=s.layers&&null!=s.tables||(s=await x(s,{url:a,customParameters:r,apiKey:o},t.map((e=>e.layer.layerId))));for(const l of t)K(l.layer,l.layerJSON,s);return s}async function x(e,t,a){var r,o;e||(e={}),(r=e).layers||(r.layers=[]),(o=e).tables||(o.tables=[]);const{url:s,customParameters:l,apiKey:i}=t,{serviceJSON:n,layersJSON:p}=await u(s,{customParameters:l,apiKey:i}),c=A(e.layers,n.layers,a),y=A(e.tables,n.tables,a);e.layers=c.itemResources,e.tables=y.itemResources;const d=[...c.added,...y.added],m=p?[...p.layers,...p.tables]:[];return await U(e,d,s,m),e}function A(t,a,r){const o=e(t,a,((e,t)=>e.id===t.id));t=t.filter((e=>!o.removed.some((t=>t.id===e.id))));const s=o.added.map((({id:e})=>({id:e})));return s.forEach((({id:e})=>{t.push({id:e})})),{itemResources:t,added:s.filter((({id:e})=>!r.includes(e)))}}async function U(e,t,a,o){const s=t.map((({id:e})=>new n({url:a,layerId:e,sourceJSON:o.find((({id:t})=>t===e))})));await l(s.map((e=>e.load()))),s.forEach((t=>{const{layerId:a,loaded:o,defaultPopupTemplate:s}=t;if(!o||r(s))return;K(t,{id:a,popupInfo:s.toJSON()},e)}))}function K(e,t,a){e.isTable?F(a.tables,t):F(a.layers,t)}function F(e,t){const a=e.findIndex((({id:e})=>e===t.id));-1===a?e.push(t):e[a]=t}function R(e){const{portalItem:t}=e;return y(e)&&!e.dynamicDataSource&&!!t?.loaded&&t.type===S}async function D(e){if(!e?.length)throw new t(\"feature-layer-utils-saveall:missing-parameters\",\"'layers' array should contain at least one feature layer\");await Promise.all(e.map((e=>e.load())));for(const o of e)if(!R(o))throw new t(\"feature-layer-utils-saveall:invalid-parameters\",`'layers' array should only contain layers or tables in a feature service loaded from 'Feature Service' item. ${g(o,\"does not conform\")}`,{layer:o});const a=e.map((e=>e.portalItem.id));if(new Set(a).size>1)throw new t(\"feature-layer-utils-saveall:invalid-parameters\",\"All layers in the 'layers' array should be loaded from the same portal item\");const r=e.map((e=>e.layerId));if(new Set(r).size!==r.length)throw new t(\"feature-layer-utils-saveall:invalid-parameters\",\"'layers' array should contain only one instance each of layer or table in a feature service\")}function _(e,t){var a,r;let o=m.from(t);return o.id&&(o=o.clone(),o.id=null),(a=o).type??(a.type=S),(r=o).portal??(r.portal=d.getDefault()),j(e,o),o}async function q(e,t){const{url:a,layerId:r,title:s,fullExtent:l,isTable:i}=e,n=p(a),u=o(n)&&\"FeatureServer\"===n.serverType;t.url=u?a:`${a}/${r}`,t.title||(t.title=s),t.extent=null,!i&&o(l)&&(t.extent=await v(l)),b(t,h.METADATA),b(t,h.MULTI_LAYER),w(t,h.SINGLE_LAYER),i&&w(t,h.TABLE),O(t)}async function z(e,t,a){const r=e.portal;await r._signIn(),await r.user.addItem({item:e,data:t,folder:a?.folder})}const C=s(M);async function M(e,t){await L(e),E(e);const a=e.portalItem,r=f(a),o=await J(e,r,t),s=await T(a,[{layer:e,layerJSON:o}]);return O(a),await a.update({data:s}),i(r),a}const Y=s((async(e,t)=>{await D(e);const a=e[0].portalItem,r=f(a),o=await Promise.all(e.map((e=>J(e,r,t)))),s=await T(a,e.map(((e,t)=>({layer:e,layerJSON:o[t]}))));return O(a),await a.update({data:s}),await Promise.all(e.slice(1).map((e=>e.portalItem.reload()))),i(r),a.clone()})),B=s(G);async function G(e,t,a){await L(e);const r=_(e,t),o=f(r),s=N({layer:e,layerJSON:await J(e,o,a)});return await q(e,r),await z(r,s,a),e.portalItem=r,i(o),r}export{C as save,Y as saveAll,B as saveAs};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isMultiOriginJSONMixin as r}from\"../multiOriginJSONSupportUtils.js\";function i(i){i&&i.writtenProperties&&i.writtenProperties.forEach((({target:i,propName:t,newOrigin:e})=>{r(i)&&e&&i.originOf(t)!==e&&i.updateOrigin(t,e)}))}export{i as updateOrigins};\n"],"sourceRoot":""}