(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-13decb9c"],{"00c0":function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var s=i("8c71"),r=i("0326"),n=i("7c4b");class a extends n["a"]{constructor(){super(...arguments),this._childrenSet=new Set,this._needsSort=!1,this.children=[],this._effectView=null}get blendMode(){return this._blendMode}set blendMode(e){this._blendMode=e,this.requestRender()}get clips(){return this._clips}set clips(e){this._clips=e,this.children.forEach(t=>t.clips=e)}get computedEffects(){var e,t;return null!=(e=null==(t=this._effectView)?void 0:t.effects)?e:null}get effect(){var e,t;return null!=(e=null==(t=this._effectView)?void 0:t.effect)?e:""}set effect(e){(this._effectView||e)&&(this._effectView||(this._effectView=new r["a"]),this._effectView.effect=e,this.requestRender())}updateTransitionProperties(e,t){super.updateTransitionProperties(e,t),this._effectView&&(this._effectView.transitionStep(e,t),this._effectView.transitioning&&this.requestRender())}doRender(e){const t=this.createRenderParams(e);this.renderChildren(t)}addChild(e){return this.addChildAt(e,this.children.length)}addChildAt(e,t=this.children.length){if(!e)return e;if(this.contains(e))return e;this._needsSort=!0;const i=e.parent;return i&&i!==this&&i.removeChild(e),t>=this.children.length?this.children.push(e):this.children.splice(t,0,e),this._childrenSet.add(e),e.parent=this,e.stage=this.stage,this!==this.stage&&(e.clips=this.clips),this.requestRender(),e}contains(e){return this._childrenSet.has(e)}removeAllChildren(){this._childrenSet.clear(),this._needsSort=!0;for(const e of this.children)this!==this.stage&&(e.clips=null),e.stage=null,e.parent=null;this.children.length=0}removeChild(e){return this.contains(e)?this.removeChildAt(this.children.indexOf(e)):e}removeChildAt(e){if(e<0||e>=this.children.length)return null;this._needsSort=!0;const t=this.children.splice(e,1)[0];return this._childrenSet.delete(t),this!==this.stage&&(t.clips=null),t.stage=null,t.parent=null,t}sortChildren(e){this._needsSort&&(this.children.sort(e),this._needsSort=!1)}_createTransforms(){return{dvs:Object(s["b"])()}}onAttach(){super.onAttach();const e=this.stage;for(const t of this.children)t.stage=e}onDetach(){super.onDetach();for(const e of this.children)e.stage=null}renderChildren(e){for(const t of this.children)t.beforeRender(e);for(const t of this.children)t.processRender(e);for(const t of this.children)t.afterRender(e)}createRenderParams(e){return{...e,blendMode:this.blendMode,effects:this.computedEffects,globalOpacity:e.globalOpacity*this.computedOpacity,inFadeTransition:this.inFadeTransition}}}},"18c6":function(e,t,i){"use strict";i.d(t,"a",(function(){return F})),i.d(t,"b",(function(){return N})),i.d(t,"c",(function(){return B})),i.d(t,"d",(function(){return P})),i.d(t,"e",(function(){return I})),i.d(t,"f",(function(){return U})),i.d(t,"g",(function(){return L})),i.d(t,"h",(function(){return E})),i.d(t,"i",(function(){return j})),i.d(t,"j",(function(){return A})),i.d(t,"k",(function(){return w}));var s=i("ce50"),r=i("32dd"),n=i("c84e");function a(e,t,i){const s=n["f"].SIZE_FIELD_STOPS|n["f"].SIZE_MINMAX_VALUE|n["f"].SIZE_SCALE_STOPS|n["f"].SIZE_UNIT_VALUE,r=(t&(n["g"].FIELD_TARGETS_OUTLINE|n["g"].MINMAX_TARGETS_OUTLINE|n["g"].SCALE_TARGETS_OUTLINE|n["g"].UNIT_TARGETS_OUTLINE))>>>4;return e===n["d"].LINE&&i.isOutline||e===n["d"].FILL&&w(i.symbologyType)?s&r:s&~r}const o=0,c=8,l=7,d=8,u=11,h=11,p=12,v=13,b=14,y=15,f=16,g=17,S=18,m=19,O=20,_=21,R=26,V=Object.keys(n["e"]).filter(e=>"number"==typeof n["e"][e]).reduce((e,t)=>({...e,[t]:n["e"][t]}),{});function T(e){return e===n["e"].SIMPLE||e===n["e"].OUTLINE_FILL_SIMPLE}function w(e){return e===n["e"].OUTLINE_FILL||e===n["e"].OUTLINE_FILL_SIMPLE}function j(e){return T(e.symbologyType)}function E(e){return w(e.symbologyType)}function L(e,t){switch(e){case n["d"].FILL:return F.from(t);case n["d"].LINE:return B.from(t);case n["d"].MARKER:return P.from(t);case n["d"].TEXT:return U.from(t);case n["d"].LABEL:return N.from(t);default:throw new Error("Unable to createMaterialKey for unknown geometryType "+e)}}function A(e){switch(I.load(e).geometryType){case n["d"].MARKER:return new P(e);case n["d"].FILL:return new F(e);case n["d"].LINE:return new B(e);case n["d"].TEXT:return new U(e);case n["d"].LABEL:return new N(e)}}class I{constructor(e){this._data=0,this._data=e}static load(e){const t=this.shared;return t.data=e,t}set data(e){this._data=e}get data(){return this._data}get geometryType(){return this.bits(d,u)}set geometryType(e){this.setBits(e,d,u)}get mapAligned(){return!!this.bit(O)}set mapAligned(e){this.setBit(O,e)}get sdf(){return!!this.bit(h)}set sdf(e){this.setBit(h,e)}get pattern(){return!!this.bit(p)}set pattern(e){this.setBit(p,e)}get textureBinding(){return this.bits(o,c)}set textureBinding(e){this.setBits(e,o,c)}get symbologyType(){return this.bits(_,R)}set symbologyType(e){this.setBits(e,_,R)}get geometryTypeString(){switch(this.geometryType){case n["d"].FILL:return"fill";case n["d"].MARKER:return"marker";case n["d"].LINE:return"line";case n["d"].TEXT:return"text";case n["d"].LABEL:return"label";default:throw new s["a"]("Unable to handle unknown geometryType: "+this.geometryType)}}setBit(e,t){const i=1<<e;t?this._data|=i:this._data&=~i}bit(e){return(this._data&1<<e)>>e}setBits(e,t,i){for(let s=t,r=0;s<i;s++,r++)this.setBit(s,0!=(e&1<<r))}bits(e,t){let i=0;for(let s=e,r=0;s<t;s++,r++)i|=this.bit(s)<<r;return i}hasVV(){return!1}setVV(e,t){}getVariation(){return{mapAligned:this.mapAligned,pattern:this.pattern,sdf:this.sdf,symbologyType:{value:n["e"][this.symbologyType],options:V,namespace:"SYMBOLOGY_TYPE"}}}getVariationHash(){return this._data&~(l&this.textureBinding)}}I.shared=new I(0);const C=e=>class extends e{get vvSizeMinMaxValue(){return 0!==this.bit(f)}set vvSizeMinMaxValue(e){this.setBit(f,e)}get vvSizeScaleStops(){return 0!==this.bit(g)}set vvSizeScaleStops(e){this.setBit(g,e)}get vvSizeFieldStops(){return 0!==this.bit(S)}set vvSizeFieldStops(e){this.setBit(S,e)}get vvSizeUnitValue(){return 0!==this.bit(m)}set vvSizeUnitValue(e){this.setBit(m,e)}hasVV(){return super.hasVV()||this.vvSizeMinMaxValue||this.vvSizeScaleStops||this.vvSizeFieldStops||this.vvSizeUnitValue}setVV(e,t){super.setVV(e,t);const i=a(this.geometryType,e,t)&e;this.vvSizeMinMaxValue=!!(i&n["f"].SIZE_MINMAX_VALUE),this.vvSizeFieldStops=!!(i&n["f"].SIZE_FIELD_STOPS),this.vvSizeUnitValue=!!(i&n["f"].SIZE_UNIT_VALUE),this.vvSizeScaleStops=!!(i&n["f"].SIZE_SCALE_STOPS)}},z=e=>class extends e{get vvRotation(){return 0!==this.bit(y)}set vvRotation(e){this.setBit(y,e)}hasVV(){return super.hasVV()||this.vvRotation}setVV(e,t){super.setVV(e,t),this.vvRotation=!t.isOutline&&!!(e&n["f"].ROTATION)}},M=e=>class extends e{get vvColor(){return 0!==this.bit(v)}set vvColor(e){this.setBit(v,e)}hasVV(){return super.hasVV()||this.vvColor}setVV(e,t){super.setVV(e,t),this.vvColor=!t.isOutline&&!!(e&n["f"].COLOR)}},x=e=>class extends e{get vvOpacity(){return 0!==this.bit(b)}set vvOpacity(e){this.setBit(b,e)}hasVV(){return super.hasVV()||this.vvOpacity}setVV(e,t){super.setVV(e,t),this.vvOpacity=!t.isOutline&&!!(e&n["f"].OPACITY)}};class F extends(M(x(C(I)))){static load(e){const t=this.shared;return t.data=e,t}static from(e){const{symbologyType:t,vvFlags:i}=e,s=this.load(0);return s.geometryType=n["d"].FILL,s.symbologyType=t,t!==n["e"].DOT_DENSITY&&s.setVV(i,e),s.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}F.shared=new F(0);class P extends(M(x(z(C(I))))){static load(e){const t=this.shared;return t.data=e,t}static from(e){const{symbologyType:t,vvFlags:i}=e,s=this.load(0);return s.geometryType=n["d"].MARKER,s.symbologyType=t,t!==n["e"].HEATMAP&&s.setVV(i,e),s.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvRotation:this.vvRotation,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}P.shared=new P(0);class B extends(M(x(C(I)))){static load(e){const t=this.shared;return t.data=e,t}static from(e){const t=this.load(0);return t.geometryType=n["d"].LINE,t.symbologyType=e.symbologyType,t.setVV(e.vvFlags,e),t.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}B.shared=new B(0);class U extends(M(x(z(C(I))))){static load(e){const t=this.shared;return t.data=e,t}static from(e){const t=this.load(0);return t.geometryType=n["d"].TEXT,t.symbologyType=e.symbologyType,t.setVV(e.vvFlags,e),t.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvRotation:this.vvRotation,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}U.shared=new U(0);class N extends(C(I)){static load(e){const t=this.shared;return t.data=e,t}static from(e){const t=this.load(0);return t.geometryType=n["d"].LABEL,t.symbologyType=e.symbologyType,t.setVV(e.vvFlags,e),t.mapAligned=Object(r["i"])(e.placement),t.data}getVariation(){return{...super.getVariation(),vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}N.shared=new N(0)},"32dd":function(e,t,i){"use strict";var s,r;function n(e){switch(e){case"left":return s.Left;case"right":return s.Right;case"center":return s.Center}}function a(e){switch(e){case"top":return r.Top;case"middle":return r.Center;case"baseline":return r.Baseline;case"bottom":return r.Bottom}}function o(e){switch(e){case"above-left":case"esriServerPointLabelPlacementAboveLeft":return[s.Right,r.Bottom];case"above-center":case"above-along":case"esriServerPointLabelPlacementAboveCenter":case"esriServerLinePlacementAboveAlong":return[s.Center,r.Bottom];case"above-right":case"esriServerPointLabelPlacementAboveRight":return[s.Left,r.Bottom];case"center-left":case"esriServerPointLabelPlacementCenterLeft":return[s.Right,r.Center];case"center-center":case"center-along":case"esriServerPointLabelPlacementCenterCenter":case"esriServerLinePlacementCenterAlong":case"always-horizontal":case"esriServerPolygonPlacementAlwaysHorizontal":return[s.Center,r.Center];case"center-right":case"esriServerPointLabelPlacementCenterRight":return[s.Left,r.Center];case"below-left":case"esriServerPointLabelPlacementBelowLeft":return[s.Right,r.Top];case"below-center":case"below-along":case"esriServerPointLabelPlacementBelowCenter":case"esriServerLinePlacementBelowAlong":return[s.Center,r.Top];case"below-right":case"esriServerPointLabelPlacementBelowRight":return[s.Left,r.Top];default:return console.debug("Found invalid placement type "+e),[s.Center,r.Center]}}function c(e){switch(e){case s.Right:return-1;case s.Center:return 0;case s.Left:return 1;default:return console.debug("Found invalid horizontal alignment "+e),0}}function l(e){switch(e){case r.Top:return 1;case r.Center:return 0;case r.Bottom:case r.Baseline:return-1;default:return console.debug("Found invalid vertical alignment "+e),0}}function d(e){switch(e){case"left":return s.Left;case"right":return s.Right;case"center":return s.Center}}function u(e){switch(e){case"above-along":case"below-along":case"center-along":case"esriServerLinePlacementAboveAlong":case"esriServerLinePlacementBelowAlong":case"esriServerLinePlacementCenterAlong":return!0;default:return!1}}i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return o})),i.d(t,"d",(function(){return d})),i.d(t,"e",(function(){return n})),i.d(t,"f",(function(){return c})),i.d(t,"g",(function(){return a})),i.d(t,"h",(function(){return l})),i.d(t,"i",(function(){return u})),function(e){e[e.Left=-1]="Left",e[e.Center=0]="Center",e[e.Right=1]="Right"}(s||(s={})),function(e){e[e.Top=1]="Top",e[e.Center=0]="Center",e[e.Bottom=-1]="Bottom",e[e.Baseline=2]="Baseline"}(r||(r={}))},"365a":function(e,t,i){"use strict";i.d(t,"a",(function(){return v}));var s=i("a4ee"),r=i("fc29"),n=i("ce6d"),a=i("9096"),o=i("a5d8"),c=i("e92d"),l=i("b2b2"),d=i("fab3"),u=i("59b2"),h=(i("b50f"),i("c120"),i("cea0"),i("d386"));let p=class extends(Object(a["b"])(Object(o["a"])(Object(d["b"])(n["a"].EventedMixin(r["a"]))))){constructor(e){super(e),this.layer=null,this.parent=null}initialize(){this.when().catch(e=>{if("layerview:create-error"!==e.name){const t=this.layer&&this.layer.id||"no id",i=this.layer&&this.layer.title||"no title";c["a"].getLogger(this.declaredClass).error("#resolve()",`Failed to resolve layer view (layer title: '${i}', id: '${t}')`,e)}})}get fullOpacity(){return Object(l["s"])(this.get("layer.opacity"),1)*Object(l["s"])(this.get("parent.fullOpacity"),1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){var e;return!this.suspended&&!0===(null==(e=this.layer)?void 0:e.legendEnabled)}get updating(){var e;return!((null==(e=this.updatingHandles)||!e.updating)&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){var e;return!0===(null==(e=this.layer)?void 0:e.visible)}set visible(e){void 0!==e?this._override("visible",e):this._clearOverride("visible")}canResume(){var e,t,i;return this.visible&&(null==(e=this.layer)?void 0:e.loaded)&&!(null!=(t=this.parent)&&t.suspended)&&(null==(i=this.view)?void 0:i.ready)||!1}getSuspendInfo(){const e=this.parent&&this.parent.suspended?this.parent.suspendInfo:{},t=this;return t.view&&t.view.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};Object(s["a"])([Object(u["b"])()],p.prototype,"fullOpacity",null),Object(s["a"])([Object(u["b"])()],p.prototype,"layer",void 0),Object(s["a"])([Object(u["b"])()],p.prototype,"parent",void 0),Object(s["a"])([Object(u["b"])({readOnly:!0})],p.prototype,"suspended",null),Object(s["a"])([Object(u["b"])({readOnly:!0})],p.prototype,"suspendInfo",null),Object(s["a"])([Object(u["b"])({readOnly:!0})],p.prototype,"legendEnabled",null),Object(s["a"])([Object(u["b"])({type:Boolean,readOnly:!0})],p.prototype,"updating",null),Object(s["a"])([Object(u["b"])({readOnly:!0})],p.prototype,"updatingProgress",null),Object(s["a"])([Object(u["b"])()],p.prototype,"visible",null),Object(s["a"])([Object(u["b"])()],p.prototype,"view",void 0),p=Object(s["a"])([Object(h["a"])("esri.views.layers.LayerView")],p);const v=p},"4cad":function(e,t,i){"use strict";i.d(t,"a",(function(){return f})),i.d(t,"b",(function(){return S})),i.d(t,"c",(function(){return g}));var s=i("ce50"),r=i("c84e"),n=i("18c6"),a=i("c62f"),o=i("b2b2"),c=i("a9a2"),l=i("8c81"),d=i("d17d");class u extends a["a"]{static getStorageSpec({attributes:e}){return{visualVariables:!1,attributes:null!=e?e:null}}static _createRendererSchema(){return{type:"dot-density",colors:new Float32Array(32),dotValue:-1,dotSize:-1,dotScale:-1,dotBlending:!1,backgroundColor:new Float32Array(4),activeDots:new Float32Array(8),seed:-1}}static createOrUpdateRendererSchema(e,t){const{attributes:i,dotValue:s,referenceScale:r,dotSize:n,dotBlendingEnabled:a,seed:d,backgroundColor:u}=t,h=Object(o["k"])(e)&&"dot-density"===e.type?e:this._createRendererSchema();h.dotValue=s,h.dotSize=n,h.dotScale=r,h.dotBlending=a,h.seed=d;const{colors:p,activeDots:v,backgroundColor:b}=h;for(let o=0;o<l["r"];o++){const e=o>=i.length?null:i[o].color;Object(c["e"])(p,e,4*o)}for(let o=0;o<8;o++)v[o]=o<t.attributes.length?1:0;return Object(c["e"])(b,u),h}static getVariation(e){return{ddDotBlending:e.dotBlending}}static getVariationHash(e){return e.dotBlending?1:0}}u.type="dot-density",u.programSpec={shader:"materials/fill",vertexLayout:{geometry:[{location:0,name:"a_pos",count:2,type:d["k"].SHORT},{location:1,name:"a_id",count:3,type:d["k"].UNSIGNED_BYTE},{location:2,name:"a_bitset",count:1,type:d["k"].UNSIGNED_BYTE},{location:3,name:"a_inverseArea",count:1,type:d["k"].FLOAT}]}};var h=i("a915"),p=i("01f2");class v extends a["a"]{static getStorageSpec({field:e,valueExpression:t}){return{visualVariables:!1,attributes:e||t?[{field:e,valueExpression:t}]:null}}static _createRendererSchema(){return{type:"heatmap",radius:-1,referenceScale:-1,isFieldActive:0,minDensity:-1,densityRange:-1,kernel:null,gradient:null,gradientHash:"invalid"}}static createOrUpdateRendererSchema(e,t){const{radius:i,minDensity:s,maxDensity:r,referenceScale:n,field:a,valueExpression:c,colorStops:l}=t,d=r-s,u=a||c?1:0,v=l.map(({color:e,ratio:t})=>`${t}:${e.toString()}`).join();let b,y=!0;return Object(o["k"])(e)&&"heatmap"===e.type?(b=e,y=v!==e.gradientHash):b=this._createRendererSchema(),b.radius=Object(h["g"])(i),b.minDensity=s,b.densityRange=d,b.referenceScale=n,b.isFieldActive=u,y&&(b.gradient=Object(p["g"])(l),b.gradientHash=v),b}}v.type="heatmap",v.programSpec={shader:"materials/icon/heatmapAccumulate",vertexLayout:{geometry:[{location:0,name:"a_pos",count:2,type:d["k"].SHORT},{location:1,name:"a_vertexOffset",count:2,type:d["k"].SHORT},{location:4,name:"a_id",count:4,type:d["k"].UNSIGNED_BYTE}]}};var b=i("9ef0");class y extends a["a"]{static getStorageSpec({attributes:e}){return{visualVariables:!0,attributes:null!=e?e:null}}static _createRendererSchema(){return{type:"pie-chart",colors:new Float32Array(4*l["p"]),defaultColor:new Float32Array(4),othersColor:new Float32Array(4),outlineColor:new Float32Array(4),holePercentage:0,sectorThreshold:0,outlineWidth:1,numberOfFields:10}}static createOrUpdateRendererSchema(e,t){const{attributes:i,defaultColor:s,holePercentage:r,othersCategory:n,outline:a}=t,d=Object(o["k"])(e)&&"pie-chart"===e.type?e:this._createRendererSchema();for(let o=0;o<l["p"];o++){const e=o>=i.length?new b["a"]([0,0,0,0]):i[o].color;Object(c["e"])(d.colors,e,4*o)}return Object(c["e"])(d.defaultColor,s),Object(c["e"])(d.othersColor,null==n?void 0:n.color),Object(c["e"])(d.outlineColor,null==a?void 0:a.color),d.outlineWidth=Object(h["g"])((null==a?void 0:a.width)||0),d.holePercentage=r,d.sectorThreshold=(null==n?void 0:n.threshold)||0,d.numberOfFields=i.length,d}static getVariation(e){return{numberOfFields:e.numberOfFields}}static getVariationHash(e){return e.numberOfFields}}function f(e,t){if(e.type!==t)throw new s["a"]("material-view-model:unexpected-renderer-schema",`expected to find renderer schema of type "${t}" but found type "${e.type}"`)}function g(e){switch(e.type){case"dot-density":return u;case"heatmap":return v;case"pie-chart":return y;default:return a["a"]}}function S(e){const{geometryType:t,symbologyType:i}=n["e"].load(e);switch(t){case r["d"].FILL:if(i===r["e"].DOT_DENSITY)return u;break;case r["d"].MARKER:switch(i){case r["e"].HEATMAP:return v;case r["e"].PIE_CHART:return y}}return a["a"]}y.type="pie-chart",y.programSpec={shader:"materials/pie",vertexLayout:{geometry:[{location:0,name:"a_pos",count:2,type:d["k"].SHORT},{location:1,name:"a_vertexOffset",count:2,type:d["k"].SHORT},{location:2,name:"a_texCoords",count:2,type:d["k"].UNSIGNED_SHORT},{location:3,name:"a_bitSetAndDistRatio",count:2,type:d["k"].UNSIGNED_SHORT},{location:4,name:"a_id",count:4,type:d["k"].UNSIGNED_BYTE},{location:5,name:"a_color",count:4,type:d["k"].UNSIGNED_BYTE,normalized:!0},{location:6,name:"a_outlineColor",count:4,type:d["k"].UNSIGNED_BYTE,normalized:!0},{location:7,name:"a_sizeAndOutlineWidth",count:4,type:d["k"].UNSIGNED_BYTE},{location:8,name:"a_zoomRange",count:2,type:d["k"].UNSIGNED_SHORT}]},hittestAttributes:["a_vertexOffset","a_texCoords"]}},"566d":function(e,t,i){"use strict";i.d(t,"a",(function(){return E}));var s=i("a4ee"),r=i("2c4f"),n=i("7d7d"),a=i("ce50"),o=i("477c"),c=i("59b2"),l=(i("b50f"),i("c120"),i("cea0"),i("d386")),d=i("00c0"),u=i("6a0e");i("e92d"),i("2dd4");let h=class extends u["a"]{};h=Object(s["a"])([Object(l["a"])("esri.views.layers.support.ClipArea")],h);const p=h;var v;let b=v=class extends p{constructor(){super(...arguments),this.type="rect",this.left=null,this.right=null,this.top=null,this.bottom=null}clone(){return new v({left:this.left,right:this.right,top:this.top,bottom:this.bottom})}get version(){return(this._get("version")||0)+1}};Object(s["a"])([Object(c["b"])({type:[Number,String],json:{write:!0}})],b.prototype,"left",void 0),Object(s["a"])([Object(c["b"])({type:[Number,String],json:{write:!0}})],b.prototype,"right",void 0),Object(s["a"])([Object(c["b"])({type:[Number,String],json:{write:!0}})],b.prototype,"top",void 0),Object(s["a"])([Object(c["b"])({type:[Number,String],json:{write:!0}})],b.prototype,"bottom",void 0),Object(s["a"])([Object(c["b"])({readOnly:!0})],b.prototype,"version",null),b=v=Object(s["a"])([Object(l["a"])("esri.views.layers.support.ClipRect")],b);const y=b;i("e06a");var f,g=i("3760"),S=i("a9ab"),m=i("3af1"),O=i("1219");const _={base:g["a"],key:"type",typeMap:{extent:m["a"],polygon:O["a"]}};let R=f=class extends p{constructor(){super(...arguments),this.type="geometry",this.geometry=null}get version(){return(this._get("version")||0)+1}clone(){return new f({geometry:this.geometry.clone()})}};Object(s["a"])([Object(c["b"])({types:_,json:{read:S["a"],write:!0}})],R.prototype,"geometry",void 0),Object(s["a"])([Object(c["b"])({readOnly:!0})],R.prototype,"version",null),R=f=Object(s["a"])([Object(l["a"])("esri.views.layers.support.Geometry")],R);const V=R;let T=class extends p{constructor(){super(...arguments),this.type="path",this.path=[]}get version(){return(this._get("version")||0)+1}};Object(s["a"])([Object(c["b"])({type:[[[Number]]],json:{write:!0}})],T.prototype,"path",void 0),Object(s["a"])([Object(c["b"])({readOnly:!0})],T.prototype,"version",null),T=Object(s["a"])([Object(l["a"])("esri.views.layers.support.Path")],T);const w=T,j=r["a"].ofType({key:"type",base:p,typeMap:{rect:y,path:w,geometry:V}}),E=e=>{let t=class extends e{constructor(){super(...arguments),this.attached=!1,this.clips=new j,this.lastUpdateId=-1,this.moving=!1,this.updateRequested=!1}initialize(){var e,t,i,s;const r=null==(e=null==(t=this.view)?void 0:t.spatialReferenceLocked)||e,n=null==(i=this.view)?void 0:i.spatialReference;n&&r&&!this.spatialReferenceSupported?this.addResolvingPromise(Promise.reject(new a["a"]("layerview:spatial-reference-incompatible","The spatial reference of this layer does not meet the requirements of the view",{layer:this.layer}))):(this.container||(this.container=new d["a"]),this.container.fadeTransitionEnabled=!0,this.container.opacity=0,this.container.clips=this.clips,this.handles.add([Object(o["f"])(()=>this.suspended,e=>{this.container&&(this.container.visible=!e),this.view&&!e&&this.updateRequested&&this.view.requestUpdate()},o["e"]),Object(o["f"])(()=>{var e,t;return null!=(e=null==(t=this.layer)?void 0:t.opacity)?e:1},e=>{this.container&&(this.container.opacity=e)},o["e"]),Object(o["f"])(()=>this.layer&&"blendMode"in this.layer?this.layer.blendMode:"normal",e=>{this.container&&(this.container.blendMode=e)},o["e"]),Object(o["f"])(()=>this.layer&&"effect"in this.layer?this.layer.effect:null,e=>{this.container&&(this.container.effect=e)},o["e"]),Object(o["b"])(()=>this.clips,"change",()=>{this.container&&(this.container.clips=this.clips)})]),null!=(s=this.view)&&s.whenLayerView?this.view.whenLayerView(this.layer).then(e=>{e===this&&this.processAttach()},()=>{}):this.when().then(()=>{this.processAttach()},()=>{}))}destroy(){this.processDetach(),this.updateRequested=!1}get spatialReferenceSupported(){var e;const t=null==(e=this.view)?void 0:e.spatialReference;return null==t||this.supportsSpatialReference(t)}get updating(){var e;return this.spatialReferenceSupported&&(!this.attached||!this.suspended&&(this.updateRequested||this.isUpdating())||!(null==(e=this.updatingHandles)||!e.updating))}get visibleAtCurrentScale(){return this.isVisibleAtScale(this.view.scale)}processAttach(){this.isResolved()&&!this.attached&&!this.destroyed&&this.spatialReferenceSupported&&(this.attach(),this.attached=!0,this.requestUpdate())}processDetach(){this.attached&&(this.attached=!1,this.detach(),this.updateRequested=!1)}isVisibleAtScale(e){const t=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;if(!t)return!0;const{minScale:i,maxScale:s}=t;return(0===i||e<=i)&&(0===s||e>=s)}requestUpdate(){this.destroyed||this.updateRequested||(this.updateRequested=!0,this.suspended||this.view.requestUpdate())}processUpdate(e){!this.isFulfilled()||this.isResolved()?(this._set("updateParameters",e),this.updateRequested&&!this.suspended&&(this.updateRequested=!1,this.update(e))):this.updateRequested=!1}hitTest(e,t){return Promise.resolve(null)}supportsSpatialReference(e){return!0}canResume(){return!!this.spatialReferenceSupported&&!!super.canResume()&&this.visibleAtCurrentScale}getSuspendInfo(){const e=super.getSuspendInfo(),t=!this.spatialReferenceSupported,i=this.visibleAtCurrentScale;return t&&(e.spatialReferenceNotSupported=t),i&&(e.outsideScaleRange=i),e}};return Object(s["a"])([Object(c["b"])()],t.prototype,"attached",void 0),Object(s["a"])([Object(c["b"])({type:j,set(e){const t=Object(n["b"])(e,this._get("clips"),j);this._set("clips",t)}})],t.prototype,"clips",void 0),Object(s["a"])([Object(c["b"])()],t.prototype,"container",void 0),Object(s["a"])([Object(c["b"])()],t.prototype,"moving",void 0),Object(s["a"])([Object(c["b"])({readOnly:!0})],t.prototype,"spatialReferenceSupported",null),Object(s["a"])([Object(c["b"])({readOnly:!0})],t.prototype,"updateParameters",void 0),Object(s["a"])([Object(c["b"])()],t.prototype,"updateRequested",void 0),Object(s["a"])([Object(c["b"])()],t.prototype,"updating",null),Object(s["a"])([Object(c["b"])()],t.prototype,"view",void 0),Object(s["a"])([Object(c["b"])({readOnly:!0})],t.prototype,"visibleAtCurrentScale",null),t=Object(s["a"])([Object(l["a"])("esri.views.2d.layers.LayerView2D")],t),t}},"7c4b":function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var s=i("ce6d"),r=i("c120"),n=i("b2b2"),a=i("f4cc");const o=1/Object(r["a"])("mapview-transitions-duration");class c extends s["a"]{constructor(){super(...arguments),this._fadeOutResolver=null,this._fadeInResolver=null,this._clips=null,this.computedVisible=!0,this.computedOpacity=1,this.fadeTransitionEnabled=!1,this.inFadeTransition=!1,this._isReady=!1,this._opacity=1,this._stage=null,this._visible=!0}get clips(){return this._clips}set clips(e){this._clips=e,this.requestRender()}get isReady(){return this._isReady}get opacity(){return this._opacity}set opacity(e){this._opacity!==e&&(this._opacity=Math.min(1,Math.max(e,0)),this.requestRender())}get stage(){return this._stage}set stage(e){if(this._stage===e)return;const t=this._stage;this._stage=e,e?this._stage.untrashDisplayObject(this)||(this.onAttach(),this.emit("attach")):t.trashDisplayObject(this)}get transforms(){return this._getTransforms()}_getTransforms(){return Object(n["j"])(this._transforms)&&(this._transforms=this._createTransforms()),this._transforms}get visible(){return this._visible}set visible(e){this._visible!==e&&(this._visible=e,this.requestRender())}fadeIn(){return this._fadeInResolver||(this._fadeOutResolver&&(this._fadeOutResolver(),this._fadeOutResolver=null),this.computedOpacity=0,this.fadeTransitionEnabled=!0,this._fadeInResolver=Object(a["d"])(),this.requestRender()),this._fadeInResolver.promise}fadeOut(){return this._fadeOutResolver||(this._fadeInResolver&&(this._fadeInResolver(),this._fadeInResolver=null),this.fadeTransitionEnabled=!0,this._fadeOutResolver=Object(a["d"])(),this.requestRender()),this._fadeOutResolver.promise}beforeRender(e){this.updateTransitionProperties(e.deltaTime,e.state.scale)}afterRender(e){this._fadeInResolver&&this.computedOpacity===this.opacity?(this._fadeInResolver(),this._fadeInResolver=null):this._fadeOutResolver&&0===this.computedOpacity&&(this._fadeOutResolver(),this._fadeOutResolver=null)}remove(){var e;null==(e=this.parent)||e.removeChild(this)}setTransform(e){}processRender(e){this.stage&&this.computedVisible&&this.doRender(e)}requestRender(){this.stage&&this.stage.requestRender()}processDetach(){this._fadeInResolver&&(this._fadeInResolver(),this._fadeInResolver=null),this._fadeOutResolver&&(this._fadeOutResolver(),this._fadeOutResolver=null),this.onDetach(),this.emit("detach")}updateTransitionProperties(e,t){if(this.fadeTransitionEnabled){const t=this._fadeOutResolver||!this.visible?0:this.opacity,i=this.computedOpacity;if(i===t)this.computedVisible=this.visible;else{const s=e*o;this.computedOpacity=i>t?Math.max(t,i-s):Math.min(t,i+s),this.computedVisible=this.computedOpacity>0;const r=t===this.computedOpacity;this.inFadeTransition=!r,r||this.requestRender()}}else this.computedOpacity=this.opacity,this.computedVisible=this.visible}onAttach(){}onDetach(){}doRender(e){}ready(){this._isReady||(this._isReady=!0,this.emit("isReady"),this.requestRender())}}},c62f:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var s=i("b2b2");class r{static getStorageSpec(e){return null}static createOrUpdateRendererSchema(e,t){return Object(s["k"])(e)&&"default"===e.type?e:{type:"default"}}static getVariation(e){return{}}static getVariationHash(e){return 0}}r.type="default",r.programSpec=null}}]);
//# sourceMappingURL=chunk-13decb9c.195ff43e.js.map