{"version":3,"sources":["webpack:///./node_modules/@arcgis/core/layers/graphics/data/BoundsStore.js","webpack:///./node_modules/@arcgis/core/geometry/support/normalizeUtilsSync.js","webpack:///./node_modules/@arcgis/core/layers/graphics/data/optimizedFeatureQueryEngineAdapter.js","webpack:///./node_modules/@arcgis/core/views/interactive/snapping/candidates/VertexSnappingCandidate.js","webpack:///./node_modules/@arcgis/core/views/interactive/snapping/featureSources/queryEngineUtils.js","webpack:///./node_modules/@arcgis/core/layers/graphics/data/FeatureStore.js","webpack:///./node_modules/@arcgis/core/views/interactive/snapping/featureSources/GraphicsSnappingSource.js","webpack:///./node_modules/@arcgis/core/views/interactive/snapping/hints/PointSnappingHint.js","webpack:///./node_modules/@arcgis/core/core/libs/rbush/PooledRBush.js"],"names":["n","t","minX","minY","maxX","maxY","e","i","o","s","d","search","h","constructor","this","_indexInvalid","_boundsToLoad","_boundsById","Map","_idByBounds","_index","_loadIndex","Array","size","forEach","clear","load","length","filter","has","values","Math","min","max","delete","get","remove","forEachInBounds","invalidateIndex","set","push","p","_","f","spatialReference","c","toJSON","I","a","g","m","v","y","points","map","r","u","S","xmin","ymin","xmax","ymax","l","x","P","extent","valid","rings","isArray","frameId","C","ceil","abs","O","T","cut","paths","frameIds","linesIn","linesOut","xCut","closed","minPts","moveTo","lineTo","close","_pushLineIn","_pushLineOut","_prevSide","_side","_moveTo","_prevPt","_firstPt","_intersect","_lineTo","_checkClosingPt","lineIn","lineOut","_addPolyVertex","pop","getObjectId","objectId","getAttributes","attributes","getAttribute","cloneWithGeometry","getGeometry","geometry","getCentroid","centroid","hasZ","hasM","super","constraint","coordinateHelper","targetPoint","elevationInfo","type","edgeStart","pointToVector","start","edgeEnd","end","target","geometryInfo","_boundsStore","_featuresById","_markedIds","Set","events","featureAdapter","geometryType","fullBounds","coords","featureCount","vertexCount","add","_add","_emitChanged","addMany","removeById","_remove","removeManyById","forEachBounds","getFeature","toArray","from","startMarkingUsedFeatures","sweep","emit","getLogger","error","feature","displayId","onFeatureAdd","onFeatureRemove","w","availability","sources","multipoint","point","polygon","polyline","loadedWkids","loadedWkts","pendingAdds","updatingHandles","updating","layerSource","layer","destroy","task","abort","_mapSources","_destroySource","initialize","handles","on","_onGraphicUpdate","addOnCollectionChange","graphics","_onGraphicsChanged","_addMany","queryEngine","executeQueryForSnapping","vectorToPoint","distance","types","query","createQuery","where","then","candidates","flat","j","refresh","property","graphic","removed","added","_needsInitializeProjection","uid","_createPendingAdd","async","source","dest","signal","_markLoadedSpatialReferences","addPromise","promise","wkid","wkt","visible","fromExtent","_ensureSource","_createOptimizedFeature","featureStore","k","_createSource","fields","name","alias","objectIdField","scheduler","view","resourceController","_removeFromSource","constructOnly","prototype","readOnly","equals","compareMinX","compareMinY","_toBBox","_maxEntries","_minEntries","_initFormat","prune","M","X","Y","all","_all","data","children","leaf","collides","insert","_build","slice","height","_splitRoot","_insert","b","indexHint","splice","_condense","fromJSON","pushArray","log","sqrt","_chooseSubtree","_split","_adjustParentBBoxes","_chooseSplitAxis","_chooseSplitIndex","console","_allDistMargin","sort","Function","join","deallocator","B","arguments"],"mappings":"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","file":"js/chunk-e26bd3da.2a9add73.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport i from\"../../../core/has.js\";import{PooledRBush as s}from\"../../../core/libs/rbush/PooledRBush.js\";import{empty as d}from\"../../../geometry/support/aaBoundingRect.js\";const n=5e4,t={minX:0,minY:0,maxX:0,maxY:0};function e(i){t.minX=i[0],t.minY=i[1],t.maxX=i[2],t.maxY=i[3]}function o(i,s,d){e(s),i.search(t,d)}class h{constructor(){this._indexInvalid=!1,this._boundsToLoad=[],this._boundsById=new Map,this._idByBounds=new Map,this._index=new s(9,i(\"esri-csp-restrictions\")?i=>({minX:i[0],minY:i[1],maxX:i[2],maxY:i[3]}):[\"[0]\",\"[1]\",\"[2]\",\"[3]\"]),this._loadIndex=()=>{if(this._indexInvalid){const i=new Array(this._idByBounds.size);let s=0;this._idByBounds.forEach(((d,n)=>{i[s++]=n})),this._indexInvalid=!1,this._index.clear(),this._index.load(i)}else this._boundsToLoad.length&&(this._index.load(this._boundsToLoad.filter((i=>this._idByBounds.has(i)))),this._boundsToLoad.length=0)}}get fullBounds(){if(!this._boundsById.size)return null;const i=d();for(const s of this._boundsById.values())s&&(i[0]=Math.min(s[0],i[0]),i[1]=Math.min(s[1],i[1]),i[2]=Math.max(s[2],i[2]),i[3]=Math.max(s[3],i[3]));return i}get valid(){return!this._indexInvalid}clear(){this._indexInvalid=!1,this._boundsToLoad.length=0,this._boundsById.clear(),this._idByBounds.clear(),this._index.clear()}delete(i){const s=this._boundsById.get(i);this._boundsById.delete(i),s&&(this._idByBounds.delete(s),this._indexInvalid||this._index.remove(s))}forEachInBounds(i,s){this._loadIndex(),o(this._index,i,(i=>s(this._idByBounds.get(i))))}get(i){return this._boundsById.get(i)}has(i){return this._boundsById.has(i)}invalidateIndex(){this._indexInvalid||(this._indexInvalid=!0,this._boundsToLoad.length=0)}set(i,s){if(!this._indexInvalid){const s=this._boundsById.get(i);s&&(this._index.remove(s),this._idByBounds.delete(s))}this._boundsById.set(i,s),s&&(this._idByBounds.set(s,i),this._indexInvalid||(this._boundsToLoad.push(s),this._boundsToLoad.length>n&&this._loadIndex()))}}export{h as BoundsStore};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../core/maybe.js\";import{create as i}from\"./aaBoundingRect.js\";import{getBoundsXY as s}from\"./boundsUtils.js\";import{closeRings as n}from\"./coordsUtils.js\";import{isPoint as e,isMultipoint as h,isExtent as o,isPolygon as r,isPolyline as u}from\"./jsonUtils.js\";import{cutParams as m,updatePolyGeometry as x,offsetMagnitude as l}from\"./normalizeUtilsCommon.js\";import{getInfo as c,isWebMercator as a}from\"./spatialReferenceUtils.js\";function p(t){return _(t,!0)}function f(t){return _(t,!1)}function _(i,n){if(t(i))return null;const p=i.spatialReference,f=c(p),_=\"toJSON\"in i?i.toJSON():i;if(!f)return _;const I=a(p)?102100:4326,g=m[I].maxX,v=m[I].minX;if(e(_))return y(_,g,v);if(h(_))return _.points=_.points.map((t=>y(t,g,v))),_;if(o(_))return d(_,f);if(r(_)||u(_)){const t=s(S,_),i={xmin:t[0],ymin:t[1],xmax:t[2],ymax:t[3]},e=l(i.xmin,v)*(2*g),h=0===e?_:x(_,e);return i.xmin+=e,i.xmax+=e,i.xmax>g?P(h,g,n):i.xmin<v?P(h,v,n):h}return _}function d(t,i){if(!i)return t;const s=I(t,i).map((t=>t.extent));return s.length<2?s[0]||t:s.length>2?(t.xmin=i.valid[0],t.xmax=i.valid[1],t):{rings:s.map((t=>[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]))}}function y(t,i,s){if(Array.isArray(t)){const n=t[0];if(n>i){const s=l(n,i);t[0]=n+s*(-2*i)}else if(n<s){const i=l(n,s);t[0]=n+i*(-2*s)}}else{const n=t.x;if(n>i){const s=l(n,i);t.x+=s*(-2*i)}else if(n<s){const i=l(n,s);t.x+=i*(-2*s)}}return t}function I(t,i){const s=[],{ymin:n,ymax:e,xmin:h,xmax:o}=t,r=t.xmax-t.xmin,[u,m]=i.valid,{x,frameId:l}=g(t.xmin,i),{x:c,frameId:a}=g(t.xmax,i),p=x===c&&r>0;if(r>2*m){const t={xmin:h<o?x:c,ymin:n,xmax:m,ymax:e},i={xmin:u,ymin:n,xmax:h<o?c:x,ymax:e},r={xmin:0,ymin:n,xmax:m,ymax:e},p={xmin:u,ymin:n,xmax:0,ymax:e},f=[],_=[];v(t,r)&&f.push(l),v(t,p)&&_.push(l),v(i,r)&&f.push(a),v(i,p)&&_.push(a);for(let s=l+1;s<a;s++)f.push(s),_.push(s);s.push(new C(t,[l]),new C(i,[a]),new C(r,f),new C(p,_))}else x>c||p?s.push(new C({xmin:x,ymin:n,xmax:m,ymax:e},[l]),new C({xmin:u,ymin:n,xmax:c,ymax:e},[a])):s.push(new C({xmin:x,ymin:n,xmax:c,ymax:e},[l]));return s}function g(t,i){const[s,n]=i.valid,e=2*n;let h,o=0;return t>n?(h=Math.ceil(Math.abs(t-n)/e),t-=h*e,o=h):t<s&&(h=Math.ceil(Math.abs(t-s)/e),t+=h*e,o=-h),{x:t,frameId:o}}function v(t,i){const{xmin:s,ymin:n,xmax:e,ymax:h}=i;return O(t,s,n)&&O(t,s,h)&&O(t,e,h)&&O(t,e,n)}function O(t,i,s){return i>=t.xmin&&i<=t.xmax&&s>=t.ymin&&s<=t.ymax}function P(t,i,s=!0){const e=!u(t);if(e&&n(t),s){return(new T).cut(t,i)}const h=e?t.rings:t.paths,o=e?4:2,r=h.length,m=-2*i;for(let n=0;n<r;n++){const t=h[n];if(t&&t.length>=o){const i=[];for(const s of t)i.push([s[0]+m,s[1]]);h.push(i)}}return e?t.rings=h:t.paths=h,t}class C{constructor(t,i){this.extent=t,this.frameIds=i}}const S=i();class T{constructor(){this.linesIn=[],this.linesOut=[]}cut(t,i){let s;if(this.xCut=i,t.rings)this.closed=!0,s=t.rings,this.minPts=4;else{if(!t.paths)return null;this.closed=!1,s=t.paths,this.minPts=2}for(const e of s){if(!e||e.length<this.minPts)continue;let t=!0;for(const i of e)t?(this.moveTo(i),t=!1):this.lineTo(i);this.closed&&this.close()}this._pushLineIn(),this._pushLineOut(),s=[];for(const e of this.linesIn)e&&e.length>=this.minPts&&s.push(e);const n=-2*this.xCut;for(const e of this.linesOut)if(e&&e.length>=this.minPts){for(const t of e)t[0]+=n;s.push(e)}return this.closed?t.rings=s:t.paths=s,t}moveTo(t){this._pushLineIn(),this._pushLineOut(),this._prevSide=this._side(t[0]),this._moveTo(t[0],t[1],this._prevSide),this._prevPt=t,this._firstPt=t}lineTo(t){const i=this._side(t[0]);if(i*this._prevSide==-1){const s=this._intersect(this._prevPt,t);this._lineTo(this.xCut,s,0),this._prevSide=0,this._lineTo(t[0],t[1],i)}else this._lineTo(t[0],t[1],i);this._prevSide=i,this._prevPt=t}close(){const t=this._firstPt,i=this._prevPt;t[0]===i[0]&&t[1]===i[1]||this.lineTo(t),this._checkClosingPt(this.lineIn),this._checkClosingPt(this.lineOut)}_moveTo(t,i,s){this.closed?(this.lineIn.push([s<=0?t:this.xCut,i]),this.lineOut.push([s>=0?t:this.xCut,i])):(s<=0&&this.lineIn.push([t,i]),s>=0&&this.lineOut.push([t,i]))}_lineTo(t,i,s){this.closed?(this._addPolyVertex(this.lineIn,s<=0?t:this.xCut,i),this._addPolyVertex(this.lineOut,s>=0?t:this.xCut,i)):s<0?(0===this._prevSide&&this._pushLineOut(),this.lineIn.push([t,i])):s>0?(0===this._prevSide&&this._pushLineIn(),this.lineOut.push([t,i])):this._prevSide<0?(this.lineIn.push([t,i]),this.lineOut.push([t,i])):this._prevSide>0&&(this.lineOut.push([t,i]),this.lineIn.push([t,i]))}_addPolyVertex(t,i,s){const n=t.length;n>1&&t[n-1][0]===i&&t[n-2][0]===i?t[n-1][1]=s:t.push([i,s])}_checkClosingPt(t){const i=t.length;i>3&&t[0][0]===this.xCut&&t[i-2][0]===this.xCut&&t[1][0]===this.xCut&&(t[0][1]=t[i-2][1],t.pop())}_side(t){return t<this.xCut?-1:t>this.xCut?1:0}_intersect(t,i){const s=(this.xCut-t[0])/(i[0]-t[0]);return t[1]+s*(i[1]-t[1])}_pushLineIn(){this.lineIn&&this.lineIn.length>=this.minPts&&this.linesIn.push(this.lineIn),this.lineIn=[]}_pushLineOut(){this.lineOut&&this.lineOut.length>=this.minPts&&this.linesOut.push(this.lineOut),this.lineOut=[]}}export{T as CutVertical,f as normalizeCentralMeridianForDisplay,p as normalizeCentralMeridianSync};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../core/maybe.js\";import{getCentroidOptimizedGeometry as e}from\"../centroid.js\";import{OptimizedFeature as r}from\"../OptimizedFeature.js\";import o from\"../OptimizedGeometry.js\";const i={getObjectId:t=>t.objectId,getAttributes:t=>t.attributes,getAttribute:(t,e)=>t.attributes[e],cloneWithGeometry:(t,e)=>new r(e,t.attributes,null,t.objectId),getGeometry:t=>t.geometry,getCentroid:(r,i)=>(t(r.centroid)&&(r.centroid=e(new o,r.geometry,i.hasZ,i.hasM)),r.centroid)};export{i as optimizedFeatureQueryEngineAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{PointConstraint as t}from\"../SnappingConstraint.js\";import{FeatureSnappingCandidate as n}from\"./FeatureSnappingCandidate.js\";import{PointSnappingHint as i}from\"../hints/PointSnappingHint.js\";class r extends n{constructor(n){super({...n,constraint:new t(n.coordinateHelper,n.targetPoint)})}get hints(){return[new i(this.targetPoint,this.elevationInfo)]}}export{r as VertexSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{EdgeSnappingCandidate as e}from\"../candidates/EdgeSnappingCandidate.js\";import{VertexSnappingCandidate as t}from\"../candidates/VertexSnappingCandidate.js\";function o(o,n,r){switch(o.type){case\"edge\":return new e({coordinateHelper:n,edgeStart:n.pointToVector(o.start),edgeEnd:n.pointToVector(o.end),targetPoint:n.pointToVector(o.target),objectId:o.objectId,elevationInfo:r});case\"vertex\":return new t({coordinateHelper:n,targetPoint:n.pointToVector(o.target),objectId:o.objectId,elevationInfo:r})}}export{o as convertSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import t from\"../../../core/Evented.js\";import r from\"../../../core/Logger.js\";import{isSome as s,isNone as o}from\"../../../core/maybe.js\";import{fromRect as i}from\"../../../geometry/support/aaBoundingBox.js\";import{create as d}from\"../../../geometry/support/aaBoundingRect.js\";import{getBoundsOptimizedGeometry as a}from\"../featureConversionUtils.js\";import{BoundsStore as n}from\"./BoundsStore.js\";import{optimizedFeatureQueryEngineAdapter as h}from\"./optimizedFeatureQueryEngineAdapter.js\";class u{constructor(e){this.geometryInfo=e,this._boundsStore=new n,this._featuresById=new Map,this._markedIds=new Set,this.events=new t,this.featureAdapter=h}get geometryType(){return this.geometryInfo.geometryType}get hasM(){return this.geometryInfo.hasM}get hasZ(){return this.geometryInfo.hasZ}get numFeatures(){return this._featuresById.size}get fullBounds(){return this._boundsStore.fullBounds}get storeStatistics(){let e=0;return this._featuresById.forEach((t=>{s(t.geometry)&&t.geometry.coords&&(e+=t.geometry.coords.length)})),{featureCount:this._featuresById.size,vertexCount:e/(this.hasZ?this.hasM?4:3:this.hasM?3:2)}}add(e){this._add(e),this._emitChanged()}addMany(e){for(const t of e)this._add(t);this._emitChanged()}clear(){this._featuresById.clear(),this._boundsStore.clear(),this._emitChanged()}removeById(e){const t=this._featuresById.get(e);return t?(this._remove(t),this._emitChanged(),t):null}removeManyById(e){this._boundsStore.invalidateIndex();for(const t of e){const e=this._featuresById.get(t);e&&this._remove(e)}this._emitChanged()}forEachBounds(e,t,r){for(const s of e){const e=this._boundsStore.get(s.objectId);e&&t(i(r,e))}}getFeature(e){return this._featuresById.get(e)}has(e){return this._featuresById.has(e)}toArray(){return Array.from(this._featuresById.values())}forEach(e){this._featuresById.forEach((t=>e(t)))}forEachInBounds(e,t){this._boundsStore.forEachInBounds(e,(e=>{t(this._featuresById.get(e))}))}startMarkingUsedFeatures(){this._boundsStore.invalidateIndex(),this._markedIds.clear()}sweep(){let e=!1;this._featuresById.forEach(((t,r)=>{this._markedIds.has(r)||(e=!0,this._remove(t))})),this._markedIds.clear(),e&&this._emitChanged()}_emitChanged(){this.events.emit(\"changed\",void 0)}_add(t){if(!t)return;const i=t.objectId;if(null==i)return void r.getLogger(\"esri.layers.graphics.data.FeatureStore\").error(new e(\"featurestore:invalid-feature\",\"feature id is missing\",{feature:t}));const n=this._featuresById.get(i);let h;if(this._markedIds.add(i),n?(t.displayId=n.displayId,h=this._boundsStore.get(i),this._boundsStore.delete(i)):s(this.onFeatureAdd)&&this.onFeatureAdd(t),o(t.geometry)||!t.geometry.coords||!t.geometry.coords.length)return this._boundsStore.set(i,null),void this._featuresById.set(i,t);h=a(s(h)?h:d(),t.geometry,this.geometryInfo.hasZ,this.geometryInfo.hasM),s(h)&&this._boundsStore.set(i,h),this._featuresById.set(i,t)}_remove(e){return s(this.onFeatureRemove)&&this.onFeatureRemove(e),this._markedIds.delete(e.objectId),this._boundsStore.delete(e.objectId),this._featuresById.delete(e.objectId),e}}export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import{removeUnordered as r}from\"../../../../core/arrayUtils.js\";import{HandleOwnerMixin as s}from\"../../../../core/HandleOwner.js\";import{isSome as o,isNone as i}from\"../../../../core/maybe.js\";import{eachAlwaysValues as a,createTask as n}from\"../../../../core/promiseUtils.js\";import{property as p}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as d}from\"../../../../core/accessorSupport/decorators/subclass.js\";import c from\"../../../../geometry/Polygon.js\";import{canProjectWithoutEngine as l,project as u,initializeProjection as h}from\"../../../../geometry/projection.js\";import{normalizeCentralMeridianForDisplay as m}from\"../../../../geometry/support/normalizeUtilsSync.js\";import{featureGeometryTypeKebabDictionary as y}from\"../../../../geometry/support/typeUtils.js\";import{convertFromGeometry as f}from\"../../../../layers/graphics/featureConversionUtils.js\";import{OptimizedFeature as g}from\"../../../../layers/graphics/OptimizedFeature.js\";import S from\"../../../../layers/graphics/data/FeatureStore.js\";import{QueryEngine as _}from\"../../../../layers/graphics/data/QueryEngine.js\";import{sortCandidatesInPlace as j}from\"../snappingUtils.js\";import{convertSnappingCandidate as v}from\"./queryEngineUtils.js\";let w=class extends(s(t)){constructor(e){super(e),this.availability=1,this.sources={multipoint:null,point:null,polygon:null,polyline:null},this.loadedWkids=new Set,this.loadedWkts=new Set,this.pendingAdds=[]}get updating(){return this.updatingHandles.updating}get layer(){return this.layerSource.layer}destroy(){const e=this.pendingAdds;this.pendingAdds.length=0;for(const t of e)t.task.abort();this._mapSources((e=>this._destroySource(e)))}initialize(){this.handles.add([this.layer.on(\"graphic-update\",(e=>this._onGraphicUpdate(e))),this.updatingHandles.addOnCollectionChange((()=>this.layer.graphics),(e=>this._onGraphicsChanged(e)))]),this._addMany(this.layer.graphics.toArray())}async fetchCandidates(e,t){const r=await a(this._mapSources((r=>r.queryEngine.executeQueryForSnapping({point:e.coordinateHelper.vectorToPoint(e.point).toJSON(),distance:e.distance,types:e.types,query:o(e.filter)?e.filter.createQuery().toJSON():{where:\"1=1\"}},t).then((({candidates:e})=>e))))),s=r.flat().map((t=>v(t,e.coordinateHelper,e.elevationInfo)));return j(e.point,s),s}refresh(){}_onGraphicUpdate(e){switch(e.property){case\"geometry\":case\"visible\":this._remove(e.graphic),this._addMany([e.graphic])}}_onGraphicsChanged(e){for(const t of e.removed)this._remove(t);this._addMany(e.added)}_addMany(e){const t=[],r=new Map;for(const s of e)i(s.geometry)||(this._needsInitializeProjection(s.geometry.spatialReference)?(t.push(s.geometry.spatialReference),r.set(s.uid,s)):this._add(s));this._createPendingAdd(t,r)}_createPendingAdd(e,t){if(!e.length)return;const s=n((async r=>{await h(e.map((e=>({source:e,dest:this.spatialReference}))),{signal:r}),this._markLoadedSpatialReferences(e);for(const[,e]of t)this._add(e)}));this.updatingHandles.addPromise(s.promise);const o={task:s,graphics:t},i=()=>r(this.pendingAdds,o);s.promise.then(i,i),this.pendingAdds.push(o)}_markLoadedSpatialReferences(e){for(const t of e)null!=t.wkid&&this.loadedWkids.add(t.wkid),null!=t.wkt&&this.loadedWkts.add(t.wkt)}_add(e){if(i(e.geometry)||!e.visible)return;let t=e.geometry;if(\"mesh\"===t.type)return;\"extent\"===t.type&&(t=c.fromExtent(t));const r=this._ensureSource(t.type);if(i(r))return;const s=this._createOptimizedFeature(e.uid,t);o(s)&&r.featureStore.add(s)}_needsInitializeProjection(e){return(null==e.wkid||!this.loadedWkids.has(e.wkid))&&((null==e.wkt||!this.loadedWkts.has(e.wkt))&&!l(e,this.spatialReference))}_createOptimizedFeature(e,t){const r=u(m(t),this.spatialReference);return r?new g(f(r,!1,!1),{[k]:e},null,e):null}_ensureSource(e){const t=this.sources[e];if(o(t))return t;const r=this._createSource(e);return this.sources[e]=r,r}_createSource(e){const t=y.toJSON(e),r=new S({geometryType:t,hasZ:!1,hasM:!1});return{featureStore:r,queryEngine:new _({featureStore:r,fields:[{name:k,type:\"esriFieldTypeOID\",alias:k}],geometryType:t,hasM:!1,hasZ:!1,objectIdField:k,spatialReference:this.spatialReference,scheduler:o(this.view)&&\"3d\"===this.view.type?this.view.resourceController.scheduler:null}),type:e}}_remove(e){this._mapSources((t=>this._removeFromSource(t,e)));for(const t of this.pendingAdds)t.graphics.delete(e.uid),0===t.graphics.size&&t.task.abort()}_removeFromSource(e,t){const r=t.uid;e.featureStore.has(r)&&e.featureStore.removeById(t.uid)}_destroySource(e){e.queryEngine.destroy(),this.sources[e.type]=null}_mapSources(e){const{point:t,polygon:r,polyline:s,multipoint:i}=this.sources,a=[];return o(t)&&a.push(e(t)),o(r)&&a.push(e(r)),o(s)&&a.push(e(s)),o(i)&&a.push(e(i)),a}};e([p({constructOnly:!0})],w.prototype,\"spatialReference\",void 0),e([p({constructOnly:!0})],w.prototype,\"layerSource\",void 0),e([p({constructOnly:!0})],w.prototype,\"view\",void 0),e([p({readOnly:!0})],w.prototype,\"updating\",null),e([p({readOnly:!0})],w.prototype,\"availability\",void 0),w=e([d(\"esri.views.interactive.snapping.featureSources.GraphicsSnappingSource\")],w);const k=\"OBJECTID\";export{w as GraphicsSnappingSource};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{objectEqual as t}from\"../snappingUtils.js\";import{SnappingHint as n}from\"./SnappingHint.js\";class s extends n{constructor(t,n){super(n),this.point=t}equals(n){return n instanceof s&&t(this.point,n.point)}}export{s as PointSnappingHint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{indexOf as t,PositionHint as i}from\"../../arrayUtils.js\";import{assumeNonNull as n}from\"../../maybe.js\";import e from\"../../PooledArray.js\";import{q as s}from\"../../../chunks/quickselect.js\";class h{constructor(t=9,i){this.compareMinX=l,this.compareMinY=c,this._toBBox=t=>t,this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),i&&(\"function\"==typeof i?this._toBBox=i:this._initFormat(i)),this.clear()}destroy(){this.clear(),g.prune(),M.prune(),X.prune(),Y.prune()}all(t){this._all(this.data,t)}search(t,i){let n=this.data;const e=this._toBBox;if(p(t,n))for(g.clear();n;){for(let s=0,h=n.children.length;s<h;s++){const h=n.children[s],a=n.leaf?e(h):h;p(t,a)&&(n.leaf?i(h):f(t,a)?this._all(h,i):g.push(h))}n=g.pop()}}collides(t){let i=this.data;const n=this._toBBox;if(!p(t,i))return!1;for(g.clear();i;){for(let e=0,s=i.children.length;e<s;e++){const s=i.children[e],h=i.leaf?n(s):s;if(p(t,h)){if(i.leaf||f(t,h))return!0;g.push(s)}}i=g.pop()}return!1}load(t){if(!t.length)return this;if(t.length<this._minEntries){for(let i=0,n=t.length;i<n;i++)this.insert(t[i]);return this}let i=this._build(t.slice(0,t.length),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){const t=this.data;this.data=i,i=t}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=new b([]),this}remove(i){if(!i)return this;let e,s=this.data,h=null,a=0,r=!1;const o=this._toBBox(i);for(X.clear(),Y.clear();s||X.length>0;){if(s||(s=n(X.pop()),h=X.data[X.length-1],a=Y.pop()??0,r=!0),s.leaf&&(e=t(s.children,i,s.children.length,s.indexHint),-1!==e))return s.children.splice(e,1),X.push(s),this._condense(X),this;r||s.leaf||!f(s,o)?h?(a++,s=h.children[a],r=!1):s=null:(X.push(s),Y.push(a),a=0,h=s,s=s.children[0])}return this}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,i){let n=t;for(M.clear();n;){if(!0===n.leaf)for(const t of n.children)i(t);else M.pushArray(n.children);n=M.pop()??null}}_build(t,i,n,e){const s=n-i+1;let h=this._maxEntries;if(s<=h){const e=new b(t.slice(i,n+1));return a(e,this._toBBox),e}e||(e=Math.ceil(Math.log(s)/Math.log(h)),h=Math.ceil(s/h**(e-1)));const r=new j([]);r.height=e;const o=Math.ceil(s/h),l=o*Math.ceil(Math.sqrt(h));_(t,i,n,l,this.compareMinX);for(let a=i;a<=n;a+=l){const i=Math.min(a+l-1,n);_(t,a,i,o,this.compareMinY);for(let n=a;n<=i;n+=o){const s=Math.min(n+o-1,i);r.children.push(this._build(t,n,s,e-1))}}return a(r,this._toBBox),r}_chooseSubtree(t,i,n,e){for(;e.push(i),!0!==i.leaf&&e.length-1!==n;){let n,e=1/0,s=1/0;for(let h=0,a=i.children.length;h<a;h++){const a=i.children[h],r=m(a),o=u(t,a)-r;o<s?(s=o,e=r<e?r:e,n=a):o===s&&r<e&&(e=r,n=a)}i=n||i.children[0]}return i}_insert(t,i,n){const e=this._toBBox,s=n?t:e(t);X.clear();const h=this._chooseSubtree(s,this.data,i,X);for(h.children.push(t),o(h,s);i>=0&&X.data[i].children.length>this._maxEntries;)this._split(X,i),i--;this._adjustParentBBoxes(s,X,i)}_split(t,i){const n=t.data[i],e=n.children.length,s=this._minEntries;this._chooseSplitAxis(n,s,e);const h=this._chooseSplitIndex(n,s,e);if(!h)return void console.log(\"  Error: assertion failed at PooledRBush._split: no valid split index\");const r=n.children.splice(h,n.children.length-h),o=n.leaf?new b(r):new j(r);o.height=n.height,a(n,this._toBBox),a(o,this._toBBox),i?t.data[i-1].children.push(o):this._splitRoot(n,o)}_splitRoot(t,i){this.data=new j([t,i]),this.data.height=t.height+1,a(this.data,this._toBBox)}_chooseSplitIndex(t,i,n){let e,s,h;e=s=1/0;for(let a=i;a<=n-i;a++){const i=r(t,0,a,this._toBBox),o=r(t,a,n,this._toBBox),l=x(i,o),c=m(i)+m(o);l<e?(e=l,h=a,s=c<s?c:s):l===e&&c<s&&(s=c,h=a)}return h}_chooseSplitAxis(t,i,n){const e=t.leaf?this.compareMinX:l,s=t.leaf?this.compareMinY:c;this._allDistMargin(t,i,n,e)<this._allDistMargin(t,i,n,s)&&t.children.sort(e)}_allDistMargin(t,i,n,e){t.children.sort(e);const s=this._toBBox,h=r(t,0,i,s),a=r(t,n-i,n,s);let l=d(h)+d(a);for(let r=i;r<n-i;r++){const i=t.children[r];o(h,t.leaf?s(i):i),l+=d(h)}for(let r=n-i-1;r>=i;r--){const i=t.children[r];o(a,t.leaf?s(i):i),l+=d(a)}return l}_adjustParentBBoxes(t,i,n){for(let e=n;e>=0;e--)o(i.data[e],t)}_condense(i){for(let n=i.length-1;n>=0;n--){const e=i.data[n];if(0===e.children.length)if(n>0){const s=i.data[n-1],h=s.children;h.splice(t(h,e,h.length,s.indexHint),1)}else this.clear();else a(e,this._toBBox)}}_initFormat(t){const i=[\"return a\",\" - b\",\";\"];this.compareMinX=new Function(\"a\",\"b\",i.join(t[0])),this.compareMinY=new Function(\"a\",\"b\",i.join(t[1])),this._toBBox=new Function(\"a\",\"return {minX: a\"+t[0]+\", minY: a\"+t[1]+\", maxX: a\"+t[2]+\", maxY: a\"+t[3]+\"};\")}}function a(t,i){r(t,0,t.children.length,i,t)}function r(t,i,n,e,s){s||(s=new b([])),s.minX=1/0,s.minY=1/0,s.maxX=-1/0,s.maxY=-1/0;for(let h,a=i;a<n;a++)h=t.children[a],o(s,t.leaf?e(h):h);return s}function o(t,i){t.minX=Math.min(t.minX,i.minX),t.minY=Math.min(t.minY,i.minY),t.maxX=Math.max(t.maxX,i.maxX),t.maxY=Math.max(t.maxY,i.maxY)}function l(t,i){return t.minX-i.minX}function c(t,i){return t.minY-i.minY}function m(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function d(t){return t.maxX-t.minX+(t.maxY-t.minY)}function u(t,i){return(Math.max(i.maxX,t.maxX)-Math.min(i.minX,t.minX))*(Math.max(i.maxY,t.maxY)-Math.min(i.minY,t.minY))}function x(t,i){const n=Math.max(t.minX,i.minX),e=Math.max(t.minY,i.minY),s=Math.min(t.maxX,i.maxX),h=Math.min(t.maxY,i.maxY);return Math.max(0,s-n)*Math.max(0,h-e)}function f(t,i){return t.minX<=i.minX&&t.minY<=i.minY&&i.maxX<=t.maxX&&i.maxY<=t.maxY}function p(t,i){return i.minX<=t.maxX&&i.minY<=t.maxY&&i.maxX>=t.minX&&i.maxY>=t.minY}function _(t,i,e,h,a){const r=[i,e];for(;r.length;){const i=n(r.pop()),e=n(r.pop());if(i-e<=h)continue;const o=e+Math.ceil((i-e)/h/2)*h;s(t,o,e,i,a),r.push(e,o,o,i)}}const g=new e,M=new e,X=new e,Y=new e({deallocator:void 0});class B{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}}class w extends B{constructor(){super(...arguments),this.height=1,this.indexHint=new i}}class b extends w{constructor(t){super(),this.children=t,this.leaf=!0}}class j extends w{constructor(t){super(),this.children=t,this.leaf=!1}}export{B as BBox,h as PooledRBush};\n"],"sourceRoot":""}