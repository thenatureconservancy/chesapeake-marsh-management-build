(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e22786e6"],{"2a5b":function(e,t,i){"use strict";i.d(t,"a",(function(){return I})),i.d(t,"b",(function(){return F})),i.d(t,"c",(function(){return R}));var s=i("ce50"),r=i("2172"),a=i("f547");function n(e){return"mesh"===e?a["a"]:Object(a["b"])(e)}var c=i("a9ab"),o=i("7f83");function u(e,t){return e?t?4:3:t?3:2}function l(e,t,i,s){return p(e,t,i,s.coords[0],s.coords[1])}function h(e,t,i,s,r,a){const n=u(r,a),{coords:c,lengths:o}=s;if(!o)return!1;for(let u=0,l=0;u<o.length;u++,l+=n)if(!p(e,t,i,c[l],c[l+1]))return!1;return!0}function p(e,t,i,s,r){if(!e)return!1;const a=u(t,i),{coords:n,lengths:c}=e;let o=!1,l=0;for(const u of c)o=f(o,n,a,l,u,s,r),l+=u*a;return o}function f(e,t,i,s,r,a,n){let c=e,o=s;for(let u=s,l=s+r*i;u<l;u+=i){o=u+i,o===l&&(o=s);const e=t[u],r=t[u+1],h=t[o],p=t[o+1];(r<n&&p>=n||p<n&&r>=n)&&e+(n-r)/(p-r)*(h-e)<a&&(c=!c)}return c}var d=i("6655"),y=i("8152"),m=i("1ec3"),b=i("1eef");const g="feature-store:unsupported-query",j={esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"intersects",esriSpatialRelIndexIntersects:null,esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:null},S={spatialRelationship:{esriSpatialRelIntersects:!0,esriSpatialRelContains:!0,esriSpatialRelWithin:!0,esriSpatialRelCrosses:!0,esriSpatialRelDisjoint:!0,esriSpatialRelTouches:!0,esriSpatialRelOverlaps:!0,esriSpatialRelEnvelopeIntersects:!0,esriSpatialRelIndexIntersects:!1,esriSpatialRelRelation:!1},queryGeometry:{esriGeometryPoint:!0,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!0},layerGeometry:{esriGeometryPoint:!0,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!1}};function x(e){return!0===S.spatialRelationship[e]}function O(e){return!0===S.queryGeometry[Object(c["c"])(e)]}function _(e){return!0===S.layerGeometry[e]}function w(){return Promise.all([i.e("chunk-2d22cf8c"),i.e("chunk-180660b2")]).then(i.bind(null,"00ac"))}function R(e,t,i,s,a){if(Object(c["g"])(t)&&"esriGeometryPoint"===i&&("esriSpatialRelIntersects"===e||"esriSpatialRelContains"===e)){const e=Object(d["g"])(new y["a"],t,!1,!1);return Promise.resolve(t=>l(e,!1,!1,t))}if(Object(c["g"])(t)&&"esriGeometryMultipoint"===i){const i=Object(d["g"])(new y["a"],t,!1,!1);if("esriSpatialRelContains"===e)return Promise.resolve(e=>h(i,!1,!1,e,s,a))}if(Object(c["d"])(t)&&"esriGeometryPoint"===i&&("esriSpatialRelIntersects"===e||"esriSpatialRelContains"===e))return Promise.resolve(e=>Object(r["e"])(t,Object(b["c"])(i,s,a,e)));if(Object(c["d"])(t)&&"esriGeometryMultipoint"===i&&"esriSpatialRelContains"===e)return Promise.resolve(e=>Object(r["d"])(t,Object(b["c"])(i,s,a,e)));if(Object(c["d"])(t)&&"esriSpatialRelIntersects"===e){const e=n(i);return Promise.resolve(r=>e(t,Object(b["c"])(i,s,a,r)))}return w().then(r=>{const n=r[j[e]].bind(null,t.spatialReference,t);return e=>n(Object(b["c"])(i,s,a,e))})}async function F(e,t,i){const{spatialRel:r,geometry:a}=e;if(a){if(!x(r))throw new s["a"](g,"Unsupported query spatial relationship",{query:e});if(Object(o["l"])(a.spatialReference)&&Object(o["l"])(i)){if(!O(a))throw new s["a"](g,"Unsupported query geometry type",{query:e});if(!_(t))throw new s["a"](g,"Unsupported layer geometry type",{query:e});if(e.outSR)return Object(m["a"])(e.geometry&&e.geometry.spatialReference,e.outSR)}}}function I(e){if(Object(c["d"])(e))return!0;if(Object(c["g"])(e)){for(const t of e.rings){if(5!==t.length)return!1;if(t[0][0]!==t[1][0]||t[0][0]!==t[4][0]||t[2][0]!==t[3][0]||t[0][1]!==t[3][1]||t[0][1]!==t[4][1]||t[1][1]!==t[2][1])return!1}return!0}return!1}},6411:function(e,t,i){"use strict";i.d(t,"a",(function(){return v}));var s=i("b50f"),r=i("ce50"),a=i("7ffa"),n=i("b2b2"),c=i("aefa"),o=i("8048"),u=i("4261"),l=i("9180"),h=i("28b1"),p=i("a9ab"),f=i("a8d5"),d=i("7f83"),y=i("6655"),m=i("c1ab"),b=i("1ec3"),g=i("a94c"),j=i("27a1"),S=i("2a5b"),x=i("abb8"),O=i("1eef"),_=i("80b7"),w=i("82fa"),R=i("9305");function F(e){return e.every(e=>"exceedslimit"!==e.statisticType)}const I="feature-store:unsupported-query";const Q=new c["c"](2e6);let A=0;class v{constructor(e){this.capabilities={query:g["a"]},this.geometryType=e.geometryType,this.hasM=e.hasM,this.hasZ=e.hasZ,this.objectIdField=e.objectIdField,this.spatialReference=e.spatialReference,this.definitionExpression=e.definitionExpression,this.featureStore=e.featureStore,this.aggregateAdapter=e.aggregateAdapter,this._changeHandle=this.featureStore.events.on("changed",()=>this.clearCache()),this.timeInfo=e.timeInfo,e.cacheSpatialQueries&&(this._geometryQueryCache=new c["b"](A+++"$$",Q)),this.fieldsIndex=new _["a"](e.fields),e.scheduler&&e.priority&&(this._frameTask=e.scheduler.registerTask(e.priority))}destroy(){this._frameTask=Object(n["q"])(this._frameTask),this.clearCache(),Object(n["d"])(this._geometryQueryCache),this._changeHandle=Object(n["q"])(this._changeHandle),Object(n["d"])(this.fieldsIndex)}get featureAdapter(){return this.featureStore.featureAdapter}get fullExtent(){const e=this.featureStore.fullBounds;return Object(n["j"])(e)?null:{xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:Object(O["b"])(this.spatialReference)}}get timeExtent(){return this.timeInfo?(this._timeExtent||(this._timeExtent=Object(x["a"])(this.timeInfo,this.featureStore)),this._timeExtent):null}clearCache(){var e;null!=(e=this._geometryQueryCache)&&e.clear(),this._allItems=null,this._timeExtent=null}async executeQuery(e,t){try{return(await this._executeQuery(e,{},t)).createQueryResponse()}catch(i){if(i!==O["a"])throw i;return new j["a"]([],e,this).createQueryResponse()}}async executeQueryForCount(e={},t){try{return(await this._executeQuery(e,{returnGeometry:!1,returnCentroid:!1,outSR:null},t)).createQueryResponseForCount()}catch(i){if(i!==O["a"])throw i;return 0}}async executeQueryForExtent(e,t){const i=e.outSR;try{const s=await this._executeQuery(e,{returnGeometry:!0,returnCentroid:!1,outSR:null},t),r=s.size;if(!r)return{count:0,extent:null};Object(u["w"])(k,u["a"]),this.featureStore.forEachBounds(s.items,e=>Object(u["j"])(k,e),E);const a={xmin:k[0],ymin:k[1],xmax:k[3],ymax:k[4],spatialReference:Object(O["b"])(this.spatialReference)};this.hasZ&&isFinite(k[2])&&isFinite(k[5])&&(a.zmin=k[2],a.zmax=k[5]);const n=Object(b["b"])(a,s.spatialReference,i);if(n.spatialReference=Object(O["b"])(i||this.spatialReference),n.xmax-n.xmin==0){const e=Object(o["f"])(n.spatialReference);n.xmin-=e,n.xmax+=e}if(n.ymax-n.ymin==0){const e=Object(o["f"])(n.spatialReference);n.ymin-=e,n.ymax+=e}if(this.hasZ&&null!=n.zmin&&null!=n.zmax&&n.zmax-n.zmin==0){const e=Object(o["f"])(n.spatialReference);n.zmin-=e,n.zmax+=e}return{count:r,extent:n}}catch(s){if(s===O["a"])return{count:0,extent:null};throw s}}async executeQueryForIds(e,t){return this.executeQueryForIdSet(e,t).then(e=>Array.from(e))}async executeQueryForIdSet(e,t){try{const i=await this._executeQuery(e,{returnGeometry:!0,returnCentroid:!1,outSR:null},t),s=i.items,r=new Set;return await this._reschedule(()=>{for(const e of s)r.add(i.featureAdapter.getObjectId(e))},t),r}catch(i){if(i===O["a"])return new Set;throw i}}async executeQueryForSnapping(e,t){const{point:i,distance:s,types:r}=e;if(r===j["b"].NONE)return{candidates:[]};const a=await this._reschedule(()=>this._checkQuerySupport(e.query),t),c=!Object(d["d"])(i.spatialReference,this.spatialReference);c&&await Object(b["a"])(i.spatialReference,this.spatialReference);const o="number"==typeof s?s:s.x,u="number"==typeof s?s:s.y,l={xmin:i.x-o,xmax:i.x+o,ymin:i.y-u,ymax:i.y+u,spatialReference:i.spatialReference},h=c?Object(b["b"])(l,this.spatialReference):l;if(!h)return{candidates:[]};const y=(await Object(f["a"])(Object(p["a"])(i),null,{signal:t}))[0],m=(await Object(f["a"])(Object(p["a"])(h),null,{signal:t}))[0];if(Object(n["j"])(y)||Object(n["j"])(m))return{candidates:[]};const g=new j["a"](this._searchFeatures(this._getQueryBBoxes(m.toJSON())),a,this);await this._reschedule(()=>this._executeObjectIdsQuery(g),t),await this._reschedule(()=>this._executeTimeQuery(g),t),await this._reschedule(()=>this._executeAttributesQuery(g),t);const S=y.toJSON(),x=c?Object(b["b"])(S,this.spatialReference):S,O=c?Math.max(h.xmax-h.xmin,h.ymax-h.ymin)/2:s;return g.createSnappingResponse({...e,point:x,distance:O},i.spatialReference)}async executeQueryForLatestObservations(e,t){if(!this.timeInfo||!this.timeInfo.trackIdField)throw new r["a"](I,"Missing timeInfo or timeInfo.trackIdField",{query:e,timeInfo:this.timeInfo});try{const i=await this._executeQuery(e,{},t);return await this._reschedule(()=>this._filterLatest(i),t),i.createQueryResponse()}catch(i){if(i!==O["a"])throw i;return new j["a"]([],e,this).createQueryResponse()}}async executeQueryForSummaryStatistics(e={},t,i){const{field:s,normalizationField:r,valueExpression:a}=t;return(await this._getQueryEngineResultForStats(e,{field:s,normalizationField:r,valueExpression:a},i)).createSummaryStatisticsResponse(t)}async executeQueryForUniqueValues(e={},t,i){const{field:s,valueExpression:r}=t;return(await this._getQueryEngineResultForStats(e,{field:s,valueExpression:r},i)).createUniqueValuesResponse(t)}async executeQueryForClassBreaks(e={},t,i){const{field:s,normalizationField:r,valueExpression:a}=t;return(await this._getQueryEngineResultForStats(e,{field:s,normalizationField:r,valueExpression:a},i)).createClassBreaksResponse(t)}async executeQueryForHistogram(e={},t,i){const{field:s,normalizationField:r,valueExpression:a}=t;return(await this._getQueryEngineResultForStats(e,{field:s,normalizationField:r,valueExpression:a},i)).createHistogramResponse(t)}async _schedule(e,t){return Object(n["k"])(this._frameTask)?this._frameTask.schedule(e,t):e(R["c"])}async _reschedule(e,t){return Object(n["k"])(this._frameTask)?this._frameTask.reschedule(e,t):e(R["c"])}_getAll(e){return Object(n["j"])(this._allItems)&&(this._allItems=this.featureStore.toArray()),new j["a"](this._allItems,e,this)}async _executeQuery(e,t,i){e=Object(a["a"])(e),e=await this._schedule(()=>Object(O["d"])(e,this.definitionExpression,this.spatialReference),i),e=await this._reschedule(()=>this._checkQuerySupport(e),i),e={...e,...t};const s=await this._reschedule(()=>this._executeSceneFilterQuery(e,i),i),r=await this._reschedule(()=>this._executeGeometryQuery(e,s,i),i);return await this._reschedule(()=>this._executeAggregateIdsQuery(r),i),await this._reschedule(()=>this._executeObjectIdsQuery(r),i),await this._reschedule(()=>this._executeTimeQuery(r),i),await this._reschedule(()=>this._executeAttributesQuery(r),i),r}async _executeSceneFilterQuery(e,t){if(Object(n["j"])(e.sceneFilter))return null;const{outSR:i,returnGeometry:s,returnCentroid:r}=e,a=this.featureStore.featureSpatialReference,c=e.sceneFilter.geometry,o=Object(n["j"])(a)||Object(d["d"])(a,c.spatialReference)?c:Object(b["b"])(c,a);if(!o)return null;const u=s||r,l=Object(d["l"])(i)&&!Object(d["d"])(this.spatialReference,i)&&u?async e=>this._project(e,i):e=>e,h=this.featureAdapter,p=this._searchFeatures(this._getQueryBBoxes(o));if("disjoint"===e.sceneFilter.spatialRelationship){if(!p.length)return null;const i=new Set;for(const e of p)i.add(h.getObjectId(e));const s=await this._reschedule(()=>this.featureStore.toArray(),t),r=await this._reschedule(async()=>{const r=await Object(S["c"])("esriSpatialRelDisjoint",o,this.geometryType,this.hasZ,this.hasM),a=e=>!i.has(h.getObjectId(e))||r(h.getGeometry(e)),n=await this._runSpatialFilter(s,a,t);return new j["a"](n,e,this)},t);return l(r)}if(!p.length)return new j["a"]([],e,this);if(this._canExecuteSinglePass(o,e))return l(new j["a"](p,e,this));const f=await Object(S["c"])("esriSpatialRelContains",o,this.geometryType,this.hasZ,this.hasM),y=await this._runSpatialFilter(p,e=>f(h.getGeometry(e)),t);return l(new j["a"](y,e,this))}async _executeGeometryQuery(e,t,i){if(Object(n["k"])(t)&&0===t.items.length)return t;e=Object(n["k"])(t)?t.query:e;const{geometry:r,outSR:a,spatialRel:c,returnGeometry:o,returnCentroid:u}=e,l=this.featureStore.featureSpatialReference,h=!r||Object(n["j"])(l)||Object(d["d"])(l,r.spatialReference)?r:Object(b["b"])(r,l),p=o||u,f=Object(d["l"])(a)&&!Object(d["d"])(this.spatialReference,a),y=this._geometryQueryCache&&Object(n["j"])(t)?f&&p?JSON.stringify({originalFilterGeometry:r,spatialRelationship:c,outSpatialReference:a}):JSON.stringify({originalFilterGeometry:r,spatialRelationship:c}):null,m=y?this._geometryQueryCache.get(y):null;if(Object(n["k"])(m))return new j["a"](m,e,this);const g=async e=>(f&&p&&await this._project(e,a),y&&this._geometryQueryCache.put(y,e.items,e.items.length+1),e);if(!h)return g(Object(n["k"])(t)?t:this._getAll(e));const x=this.featureAdapter;let O=this._searchFeatures(this._getQueryBBoxes(r));if("esriSpatialRelDisjoint"===c){if(!O.length)return g(Object(n["k"])(t)?t:this._getAll(e));const s=new Set;for(const e of O)s.add(x.getObjectId(e));const r=Object(n["k"])(t)?t.items:await this._reschedule(()=>this.featureStore.toArray(),i),a=await this._reschedule(async()=>{const t=await Object(S["c"])(c,h,this.geometryType,this.hasZ,this.hasM),a=e=>!s.has(x.getObjectId(e))||t(x.getGeometry(e)),n=await this._runSpatialFilter(r,a,i);return new j["a"](n,e,this)},i);return g(a)}if(Object(n["k"])(t)){const e=new s["a"];O=O.filter(i=>Object(s["e"])(t.items,i,t.items.length,e)>=0)}if(!O.length){const t=new j["a"]([],e,this);return y&&this._geometryQueryCache.put(y,t.items,1),t}if(this._canExecuteSinglePass(h,e))return g(new j["a"](O,e,this));const _=await Object(S["c"])(c,h,this.geometryType,this.hasZ,this.hasM),w=await this._runSpatialFilter(O,e=>_(x.getGeometry(e)),i);return g(new j["a"](w,e,this))}_executeAggregateIdsQuery(e){if(0===e.items.length||!e.query.aggregateIds||!e.query.aggregateIds.length||Object(n["j"])(this.aggregateAdapter))return;const t=new Set;for(const s of e.query.aggregateIds)this.aggregateAdapter.getFeatureObjectIds(s).forEach(e=>t.add(e));const i=this.featureAdapter.getObjectId;e.items=e.items.filter(e=>t.has(i(e)))}_executeObjectIdsQuery(e){if(0===e.items.length||!e.query.objectIds||!e.query.objectIds.length)return;const t=new Set(e.query.objectIds),i=this.featureAdapter.getObjectId;e.items=e.items.filter(e=>t.has(i(e)))}_executeTimeQuery(e){if(0===e.items.length)return;const t=Object(x["b"])(this.timeInfo,e.query.timeExtent,this.featureAdapter);Object(n["j"])(t)||(e.items=e.items.filter(t))}_executeAttributesQuery(e){if(0===e.items.length)return;const t=Object(m["c"])(e.query.where,this.fieldsIndex);if(t){if(!t.isStandardized)throw new TypeError("Where clause is not standardized");e.items=e.items.filter(e=>t.testFeature(e,this.featureAdapter))}}async _runSpatialFilter(e,t,i){if(!t)return e;if(Object(n["j"])(this._frameTask))return e.filter(e=>t(e));let s=0;const r=new Array,a=async n=>{for(;s<e.length;){const c=e[s++];t(c)&&(r.push(c),n.madeProgress()),n.done&&await this._reschedule(e=>a(e),i)}};return this._reschedule(e=>a(e),i).then(()=>r)}_filterLatest(e){const{trackIdField:t,startTimeField:i,endTimeField:s}=this.timeInfo,r=s||i,a=new Map,n=this.featureAdapter.getAttribute;for(const c of e.items){const e=n(c,t),i=n(c,r),s=a.get(e);(!s||i>n(s,r))&&a.set(e,c)}e.items=Array.from(a.values())}_canExecuteSinglePass(e,t){const{spatialRel:i}=t;return Object(S["a"])(e)&&("esriSpatialRelEnvelopeIntersects"===i||"esriGeometryPoint"===this.geometryType&&("esriSpatialRelIntersects"===i||"esriSpatialRelContains"===i||"esriSpatialRelWithin"===i))}async _project(e,t){if(!t||Object(d["d"])(this.spatialReference,t))return e;const i=this.featureAdapter,s=await Object(b["c"])(e.items.map(e=>Object(O["c"])(this.geometryType,this.hasZ,this.hasM,i.getGeometry(e))),this.spatialReference,t);return e.items=s.map((t,s)=>i.cloneWithGeometry(e.items[s],Object(y["d"])(t,this.hasZ,this.hasM))),e}_getQueryBBoxes(e){if(Object(S["a"])(e)){if(Object(p["d"])(e))return[Object(l["q"])(e.xmin,e.ymin,e.xmax,e.ymax)];if(Object(p["g"])(e))return e.rings.map(e=>Object(l["q"])(Math.min(e[0][0],e[2][0]),Math.min(e[0][1],e[2][1]),Math.max(e[0][0],e[2][0]),Math.max(e[0][1],e[2][1])))}return[Object(h["a"])(Object(l["k"])(),e)]}_searchFeatures(e){for(const i of e)this.featureStore.forEachInBounds(i,e=>C.add(e));const t=Array.from(C.values());return C.clear(),t}async _checkStatisticsSupport(e,t){if(e.distance<0||null!=e.geometryPrecision||e.multipatchOption||e.pixelSize||e.relationParam||e.text||e.outStatistics||e.groupByFieldsForStatistics||e.having||e.orderByFields)throw new r["a"](I,"Unsupported query options",{query:e});return this._checkAttributesQuerySupport(e),Promise.all([this._checkStatisticsParamsSupport(t),Object(S["b"])(e,this.geometryType,this.spatialReference),Object(b["a"])(this.spatialReference,e.outSR)]).then(()=>e)}async _checkStatisticsParamsSupport(e){let t=[];if(e.valueExpression){const{arcadeUtils:i}=await Object(w["e"])();t=i.extractFieldNames(e.valueExpression)}if(e.field&&t.push(e.field),e.normalizationField&&t.push(e.normalizationField),!t.length)throw new r["a"](I,"params should have at least a field or valueExpression",{params:e});Object(m["e"])(this.fieldsIndex,t,"params contains missing fields")}async _checkQuerySupport(e){if(e.distance<0||null!=e.geometryPrecision||e.multipatchOption||e.pixelSize||e.relationParam||e.text)throw new r["a"](I,"Unsupported query options",{query:e});return this._checkAttributesQuerySupport(e),this._checkStatisticsQuerySupport(e),Promise.all([Object(S["b"])(e,this.geometryType,this.spatialReference),Object(b["a"])(this.spatialReference,e.outSR)]).then(()=>e)}_checkAttributesQuerySupport(e){const{outFields:t,orderByFields:i,returnDistinctValues:s,outStatistics:a}=e,n=a?a.map(e=>e.outStatisticFieldName&&e.outStatisticFieldName.toLowerCase()).filter(Boolean):[];if(i&&i.length>0){const e=" asc",t=" desc",s=i.map(i=>{const s=i.toLowerCase();return s.includes(e)?s.split(e)[0]:s.includes(t)?s.split(t)[0]:i}).filter(e=>!n.includes(e));Object(m["e"])(this.fieldsIndex,s,"orderByFields contains missing fields")}if(t&&t.length>0)Object(m["e"])(this.fieldsIndex,t,"outFields contains missing fields");else if(s)throw new r["a"](I,"outFields should be specified for returnDistinctValues",{query:e});Object(m["g"])(this.fieldsIndex,e.where)}_checkStatisticsQuerySupport(e){const{outStatistics:t,groupByFieldsForStatistics:i,having:s}=e,a=i&&i.length,n=t&&t.length;if(s){if(!a||!n)throw new r["a"](I,"outStatistics and groupByFieldsForStatistics should be specified with having",{query:e});Object(m["f"])(this.fieldsIndex,s,t)}if(n){if(!F(t))return;const s=t.map(e=>e.onStatisticField).filter(Boolean);Object(m["e"])(this.fieldsIndex,s,"onStatisticFields contains missing fields"),a&&Object(m["e"])(this.fieldsIndex,i,"groupByFieldsForStatistics contains missing fields");for(const i of t){const{onStatisticField:t,statisticType:s}=i;if("percentile_disc"!==s&&"percentile_cont"!==s||!("statisticParameters"in i)){if("count"!==s&&t&&Object(m["d"])(t,this.fieldsIndex))throw new r["a"](I,"outStatistics contains non-numeric fields",{definition:i,query:e})}else{const{statisticParameters:t}=i;if(!t)throw new r["a"](I,"statisticParamters should be set for percentile type",{definition:i,query:e})}}}}async _getQueryEngineResultForStats(e,t,i){e=Object(a["a"])(e);try{e=await this._schedule(()=>Object(O["d"])(e,this.definitionExpression,this.spatialReference),i),e=await this._reschedule(()=>this._checkStatisticsSupport(e,t),i);const s=await this._reschedule(()=>this._executeSceneFilterQuery(e,i),i),r=await this._reschedule(()=>this._executeGeometryQuery(e,s,i),i);return await this._reschedule(()=>this._executeAggregateIdsQuery(r),i),await this._reschedule(()=>this._executeObjectIdsQuery(r),i),await this._reschedule(()=>this._executeTimeQuery(r),i),await this._reschedule(()=>this._executeAttributesQuery(r),i),r}catch(s){if(s!==O["a"])throw s;return new j["a"]([],e,this)}}}const E=Object(u["f"])(),k=Object(u["f"])(),C=new Set},a94c:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));const s={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,supportsDefaultSpatialReference:!1,supportsCompactGeometry:!1,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0}},abb8:function(e,t,i){"use strict";function s(e,t){if(!e)return null;const i=t.featureAdapter,{startTimeField:s,endTimeField:r}=e;let a=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;if(s&&r)t.forEach(e=>{const t=i.getAttribute(e,s),c=i.getAttribute(e,r);null==t||isNaN(t)||(a=Math.min(a,t)),null==c||isNaN(c)||(n=Math.max(n,c))});else{const e=s||r;t.forEach(t=>{const s=i.getAttribute(t,e);null==s||isNaN(s)||(a=Math.min(a,s),n=Math.max(n,s))})}return{start:a,end:n}}function r(e,t,i){if(!t||!e)return null;const{startTimeField:s,endTimeField:r}=e;if(!s&&!r)return null;const{start:o,end:u}=t;return null===o&&null===u?null:void 0===o&&void 0===u?c():s&&r?a(i,s,r,o,u):n(i,s||r,o,u)}function a(e,t,i,s,r){return null!=s&&null!=r?a=>{const n=e.getAttribute(a,t),c=e.getAttribute(a,i);return(null==n||n<=r)&&(null==c||c>=s)}:null!=s?t=>{const r=e.getAttribute(t,i);return null==r||r>=s}:null!=r?i=>{const s=e.getAttribute(i,t);return null==s||s<=r}:void 0}function n(e,t,i,s){return null!=i&&null!=s&&i===s?s=>e.getAttribute(s,t)===i:null!=i&&null!=s?r=>{const a=e.getAttribute(r,t);return a>=i&&a<=s}:null!=i?s=>e.getAttribute(s,t)>=i:null!=s?i=>e.getAttribute(i,t)<=s:void 0}function c(){return()=>!1}i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return r}))}}]);
//# sourceMappingURL=chunk-e22786e6.60f85c82.js.map