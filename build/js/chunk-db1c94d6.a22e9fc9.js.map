{"version":3,"sources":["webpack:///./node_modules/@arcgis/core/views/draw/DrawAction.js","webpack:///./node_modules/@arcgis/core/views/draw/input/DrawEvents.js","webpack:///./node_modules/@arcgis/core/chunks/MultipointDrawAction.js","webpack:///./node_modules/@arcgis/core/views/draw/DrawTool.js","webpack:///./node_modules/@arcgis/core/views/draw/PointDrawAction.js","webpack:///./node_modules/@arcgis/core/views/draw/PolygonDrawAction.js","webpack:///./node_modules/@arcgis/core/views/draw/PolylineDrawAction.js","webpack:///./node_modules/@arcgis/core/views/draw/SegmentDrawAction.js","webpack:///./node_modules/@arcgis/core/views/draw/Draw.js","webpack:///./node_modules/@arcgis/core/views/interactive/GraphicManipulator.js","webpack:///./node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js","webpack:///./node_modules/@arcgis/core/widgets/DistanceMeasurement2D/DistanceMeasurement2DTool.js","webpack:///./node_modules/@arcgis/core/widgets/DistanceMeasurement2D/DistanceMeasurement2DViewModel.js","webpack:///./node_modules/@arcgis/core/widgets/DistanceMeasurement2D.js","webpack:///./node_modules/@arcgis/core/widgets/support/InteractiveToolViewModel.js","webpack:///./node_modules/@arcgis/core/views/support/drapedUtils.js"],"names":["G","V","t","EventedAccessor","constructor","e","super","this","_hasZ","_cursorScreenPoint","_activePointerId","_stagedVertexUnsnapped","_lastVertexUnsnapped","_handles","i","_viewHandlesKey","_undoRedoHandlesKey","_drawToolHandlesKey","_nativeEventHistory","undoStack","redoStack","interactiveUndoDisabled","history","redoHistory","snapToScene","view","elevationInfo","defaultZ","_coordinateHelper","u","hasZ","spatialReference","_snappingManager","snappingManager","_editGeometryOperations","f","g","editGeometryType","_snappingGraphicsLayer","c","id","SNAPPING_GRAPHICS_LAYER_ID","listMode","internal","_snappingContext","x","editGeometryOperations","mode","offset","pointer","visualizer","y","_activeComponent","v","_","Local","data","components","push","normalizeCtorArgs","initialize","_snappingOperation","w","type","map","layers","add","destroy","remove","s","doneSnapping","o","vertices","pos","_stagedVertex","_committedVertices","pointToArray","notifyChange","stagedPoint","r","canUndo","canRedo","undo","redo","getCoordsFromScreenPoint","screenToMap","n","z","getCoordsAndPointFromScreenPoint","vertex","mapPoint","a","O","sceneIntersectionHelper","intersectElevationFromScreen","d","_getGeometryZValue","P","toMap","_pushCursorVertex","m","p","snap","then","_popCursorVertex","_abortSnapping","abort","_isDuplicateOfLastVertex","getLastVertex","vectorToDehydratedPoint","_shouldHandlePointerEvent","_isPrimaryPointerAction","pointerId","_vertexAddHandler","_addVertex","native","_drawCompleteHandler","_completeDrawing","pointerType","button","h","readOnly","prototype","Boolean","nonNullable","l","S","vertexIndex","defaultPrevented","preventDefault","coordinates","length","_popVertexOnPointerMove","_addVertexOnPointerUp","_addViewHandles","_addUndoRedoHandles","_removeViewHandles","_removeUndoRedoHandles","emit","complete","on","stopPropagation","TOOL","_updateCursor","key","repeat","vertexAdd","pan","operation","pop","index","arrayToVector","appendVertex","Event","Object","freeze","defineProperty","__proto__","Symbol","toStringTag","value","EventedMixin","drawOperation","manipulators","geometryType","drawingMode","snapToSceneEnabled","drawSurface","elevationDrawSurface","hasM","handles","onVertexAdd","onVertexRemove","onVertexUpdate","onCursorUpdate","onComplete","finishToolCreation","_set","interactive","updating","completeCreateOperation","onDeactivate","isCompleted","cancel","getVertexCoords","onInputEvent","reset","constructOnly","_addDrawTool","_removeDrawTool","_drawTool","addAndActivateTool","tools","_panEnabled","_dragEnabled","_clickEnabled","T","_isDragging","viewAlignedCoordinateSystem","_getClickModeViewHandles","_getDragModeViewHandles","_resetGeometry","arguments","activeAction","create","C","layer","selectable","grabbable","dragging","cursor","events","EventEmitter","_circleCollisionCache","_graphicSymbolChangedHandle","_originalSymbol","symbol","attachSymbolChanged","graphic","_get","_updateGraphicSymbol","grabbableForEvent","action","detachSymbolChanged","_resetGraphicSymbol","intersectionDistance","visible","geometry","_intersectDistance2D","_intersectDistance3D","attach","detach","focusedSymbol","_focused","originalPoint","equals","b","clone","radiusPx","size","D","toScreen","xoffset","yoffset","include","j","renderSpatialReference","state","camera","eye","Math","max","abs","stops","filter","maxSize","minSize","floor","renderer","event","visualVariables","uniqueValueInfos","forEach","classBreakInfos","W","E","M","_drawActive","_measurementLayer","_manipulatorLayer","_vertices","geodesicDistanceThreshold","measurement","measurementLabel","messages","I","async","_draw","addMany","focus","unit","palette","_updatePolylines","removeMany","removeAll","onActivate","_startSketch","onShow","onHide","_updateSketch","_stopSketch","manipulator","manipulatorId","U","next","L","coord","findById","drawing","original","F","graphics","getItemAt","pathPrimaryColor","pathSecondaryColor","pathWidth","k","symbolLayers","effects","dashTemplate","lineDashEnding","controlPointEnding","enable","capStyle","joinStyle","width","color","haloColor","haloSize","font","family","extent","center","text","style","handleColor","handleWidth","outline","A","paths","isGeographic","R","WGS84","isWebMercator","B","isWGS84","Number","supportedViewType","unsupportedErrorMessage","clear","tool","disabled","active","_validateUnit","defaultUnit","_override","_clearOverride","_validateUnits","ready","createTool","removeTool","constructTool","unitOptions","includes","slice","aliasOf","String","buttonDisabled","widgetIcon","base","container","hint","hintText","panelError","measurementItem","measurementItemDisabled","measurementItemTitle","measurementItemValue","settings","units","unitsLabel","unitsSelect","unitsSelectWrapper","actionSection","newMeasurementButton","iconClass","label","messagesUnits","viewModel","render","supported","class","unsupported","classes","distance","for","onchange","_changeUnit","bind","systems","pluralCapitalized","$","onclick","_newMeasurement","title","newMeasurement","start","target","options","selectedIndex","source","overridable","_baseHandles","_loggedUnsupportedErrorOnce","logger","getLogger","declaredClass","logError","item","created","activeTool","initial","once","error","resolution","overlayPixelSizeInMapUnits","basemapSpatialReference","xmin","min","ymin","xmax","ymax","intersects"],"mappings":"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","file":"js/chunk-db1c94d6.a22e9fc9.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Evented.js\";import i from\"../../core/Handles.js\";import{clone as r}from\"../../core/lang.js\";import{isSome as s,destroyMaybe as o,isNone as n,unwrapOr as a}from\"../../core/maybe.js\";import{ignoreAbortErrors as p}from\"../../core/promiseUtils.js\";import{createScreenPointArray as d}from\"../../core/screenUtils.js\";import{property as h}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import c from\"../../layers/GraphicsLayer.js\";import{makeDehydratedPoint as m}from\"../../layers/graphics/dehydratedFeatures.js\";import{ViewingMode as _}from\"../ViewingMode.js\";import{SnappingVisualizer2D as y}from\"../2d/interactive/SnappingVisualizer2D.js\";import{createCoordinateHelper as u}from\"../interactive/coordinateHelper.js\";import{EditGeometry as g,Component as v}from\"../interactive/editGeometry/EditGeometry.js\";import{EditGeometryOperations as f}from\"../interactive/editGeometry/EditGeometryOperations.js\";import{SnappingContext as x}from\"../interactive/snapping/SnappingContext.js\";import{SnappingOperation as w}from\"../interactive/snapping/SnappingOperation.js\";var G;let V=G=class extends t.EventedAccessor{constructor(e){super(e),this._hasZ=null,this._cursorScreenPoint=null,this._activePointerId=null,this._stagedVertexUnsnapped=null,this._lastVertexUnsnapped=null,this._handles=new i,this._viewHandlesKey=\"view-handles\",this._undoRedoHandlesKey=\"undo-redo-handles\",this._drawToolHandlesKey=\"draw-tool\",this._nativeEventHistory={undoStack:[],redoStack:[]},this.interactiveUndoDisabled=!1,this.history=[],this.redoHistory=[],this.snapToScene=!1,this.view=null,this.elevationInfo=null,this.defaultZ=0,this._coordinateHelper=u(e.hasZ,!1,e.view.spatialReference),this._snappingManager=e.snappingManager,this._editGeometryOperations=new f(new g(e.editGeometryType??\"polygon\",this._coordinateHelper)),this._snappingGraphicsLayer=new c({id:G.SNAPPING_GRAPHICS_LAYER_ID,listMode:\"hide\",internal:!0}),this._snappingContext=new x({editGeometryOperations:this._editGeometryOperations,elevationInfo:{mode:\"on-the-ground\",offset:0},pointer:\"mouse\",visualizer:new y(this._snappingGraphicsLayer)}),this._activeComponent=new v(e.view.spatialReference,_.Local),this._editGeometryOperations.data.components.push(this._activeComponent)}normalizeCtorArgs(e){const t={...e};return delete t.editGeometryType,t}initialize(){this._snappingOperation=new w({view:this.view}),\"2d\"===this.view.type&&this.view.map.layers.add(this._snappingGraphicsLayer)}destroy(){this._handles.destroy(),this.view.map.layers.remove(this._snappingGraphicsLayer),this._snappingGraphicsLayer.destroy(),s(this._snappingManager)&&this._snappingManager.doneSnapping(),this._snappingOperation=o(this._snappingOperation),this._editGeometryOperations.destroy()}get _committedVertices(){return this._editGeometryOperations.data.components[0].vertices.map((e=>e.pos))}get vertices(){return s(this._stagedVertex)?[...this._committedVertices,this._coordinateHelper.pointToArray(this._stagedVertex)]:this._committedVertices}get hasZ(){return s(this._hasZ)?this._hasZ:\"3d\"===this.view.type}set hasZ(e){this._hasZ=e,this.notifyChange(\"hasZ\")}get _stagedVertex(){return this._snappingOperation.stagedPoint}set _stagedVertex(e){this._snappingOperation.stagedPoint=r(e)}canUndo(){return this._editGeometryOperations.canUndo}canRedo(){return this._editGeometryOperations.canRedo}undo(){this.canUndo&&this._editGeometryOperations.undo()}redo(){this.canRedo&&this._editGeometryOperations.redo()}getCoordsFromScreenPoint(e){const t=this.screenToMap(e);return n(t)?null:t.hasZ?[t.x,t.y,t.z]:[t.x,t.y]}getCoordsAndPointFromScreenPoint(e){const t=this.screenToMap(e);return n(t)?null:t.hasZ?{vertex:[t.x,t.y,t.z],mapPoint:t}:{vertex:[t.x,t.y],mapPoint:t}}screenToMap(e){let t=null;if(\"3d\"===this.view.type)if(this.hasZ){const i=a(this.elevationInfo,O);t=this.view.sceneIntersectionHelper.intersectElevationFromScreen(d(e.x,e.y),i,this._getGeometryZValue())}else{const i=a(this.elevationInfo,P);t=this.view.sceneIntersectionHelper.intersectElevationFromScreen(d(e.x,e.y),i,0),s(t)&&(t.z=void 0)}else t=this.view.toMap(e),s(t)&&(t.z=this.hasZ?this._getGeometryZValue():void 0);return t}_pushCursorVertex(e,t){const i=m(e[0],e[1],null,this.view.spatialReference);this._stagedVertexUnsnapped=i;const r=this._snappingManager;if(n(r))return this._stagedVertex=i,void t();p(this._snappingOperation.snap(i,r,this._snappingContext)).then((()=>{t()}))}_popCursorVertex(){this._stagedVertexUnsnapped=null,this._stagedVertex=null}_getGeometryZValue(){return this.defaultZ}_abortSnapping(){this._snappingOperation.abort()}_isDuplicateOfLastVertex(e){const t=this._editGeometryOperations.data.components[0].getLastVertex();if(s(t)&&e[0]===t[0]&&e[1]===t[1])return!0;const{x:i,y:r}=this._coordinateHelper.vectorToDehydratedPoint(e);return!(!s(this._lastVertexUnsnapped)||i!==this._lastVertexUnsnapped.x||r!==this._lastVertexUnsnapped.y)}_shouldHandlePointerEvent(e){return this._isPrimaryPointerAction(e)&&(n(this._activePointerId)||this._activePointerId===e.pointerId)}_vertexAddHandler(e){const t=s(this._stagedVertex)?this._coordinateHelper.pointToArray(this._stagedVertex):this.getCoordsFromScreenPoint(this._cursorScreenPoint);s(t)&&this._addVertex(t,e.native)}_drawCompleteHandler(e){this._completeDrawing(e.native)}_isPrimaryPointerAction(e){return\"mouse\"!==e.pointerType||0===e.button}};V.SNAPPING_GRAPHICS_LAYER_ID=\"DrawAction-snapping-graphics-layer\",e([h({readOnly:!0})],V.prototype,\"vertices\",null),e([h({type:Boolean,nonNullable:!0})],V.prototype,\"interactiveUndoDisabled\",void 0),e([h({readOnly:!0})],V.prototype,\"history\",void 0),e([h({readOnly:!0})],V.prototype,\"redoHistory\",void 0),e([h()],V.prototype,\"snapToScene\",void 0),e([h()],V.prototype,\"view\",void 0),e([h()],V.prototype,\"elevationInfo\",void 0),e([h({nonNullable:!0})],V.prototype,\"defaultZ\",void 0),e([h()],V.prototype,\"hasZ\",null),e([h()],V.prototype,\"_snappingOperation\",void 0),e([h()],V.prototype,\"_stagedVertex\",null),V=G=e([l(\"esri.views.draw.DrawAction\")],V);const O={mode:\"absolute-height\",offset:0},P={mode:\"on-the-ground\",offset:0},S=V;export{S as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nclass t{constructor(t,e,s,i){this.view=t,this.native=e,this.vertexIndex=s,this.vertices=i,this.defaultPrevented=!1,this.type=\"vertex-add\"}preventDefault(){this.defaultPrevented=!0}}class e{constructor(t,e,s,i){this.view=t,this.native=e,this.vertexIndex=s,this.vertices=i,this.defaultPrevented=!1,this.type=\"vertex-update\"}preventDefault(){this.defaultPrevented=!0}}class s{constructor(t,e,s,i){this.view=t,this.native=e,this.vertexIndex=s,this.vertices=i,this.defaultPrevented=!1,this.type=\"vertex-remove\"}preventDefault(){this.defaultPrevented=!0}}class i{constructor(t,e,s,i,r=null){this.view=t,this.native=e,this.vertexIndex=s,this.vertices=i,this.mapPoint=r,this.coordinates=null,this.defaultPrevented=!1,this.type=\"cursor-update\",this.coordinates=1===i.length?i[0]:null}preventDefault(){this.defaultPrevented=!0}}class r{constructor(t,e){this.native=t,this.vertices=e,this.coordinates=null,this.defaultPrevented=!1,this.type=\"draw-complete\",this.coordinates=1===e.length?e[0]:null}preventDefault(){this.defaultPrevented=!0}}export{i as CursorUpdateEvent,r as DrawCompleteEvent,t as VertexAddEvent,s as VertexRemoveEvent,e as VertexUpdateEvent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"./tslib.es6.js\";import\"../geometry.js\";import{isSome as t}from\"../core/maybe.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import\"../core/accessorSupport/set.js\";import{subclass as i}from\"../core/accessorSupport/decorators/subclass.js\";import o from\"../views/draw/DrawAction.js\";import{VertexRemoveEvent as s,VertexAddEvent as r,CursorUpdateEvent as n,DrawCompleteEvent as a}from\"../views/draw/input/DrawEvents.js\";import{ViewEventPriorities as d}from\"../views/input/InputManager.js\";import{SKETCH_KEYS as p}from\"../views/interactive/keybindings.js\";import{createScreenPointFromEvent as h}from\"../views/support/screenUtils.js\";import c from\"../geometry/Point.js\";let _=class extends o{constructor(e){super(e),this._popVertexOnPointerMove=!1,this._addVertexOnPointerUp=!1}initialize(){this._addViewHandles(),this._addUndoRedoHandles()}destroy(){this._removeViewHandles(),this._removeUndoRedoHandles(),this.emit(\"destroy\")}undo(){super.undo(),this.notifyChange(\"vertices\")}redo(){super.redo(),this.notifyChange(\"vertices\")}complete(){this._completeDrawing()}_addViewHandles(){this._removeViewHandles(),this._handles.add([this.view.on(\"click\",(e=>{e.stopPropagation()}),d.TOOL),this.view.on(\"pointer-down\",(e=>{this._shouldHandlePointerEvent(e)&&(this._abortSnapping(),this._activePointerId=e.pointerId,this._addVertexOnPointerUp=!0,this._cursorScreenPoint=h(e),\"touch\"===e.pointerType&&this._updateCursor(e.native))}),d.TOOL),this.view.on(\"pointer-move\",(e=>{this._popVertexOnPointerMove&&(this.undo(),this._popVertexOnPointerMove=!1),this._abortSnapping(),this._cursorScreenPoint=h(e),\"touch\"!==e.pointerType&&this._updateCursor(e.native)}),d.TOOL),this.view.on(\"pointer-drag\",(e=>{this._shouldHandlePointerEvent(e)&&(this._abortSnapping(),this._addVertexOnPointerUp=!1)}),d.TOOL),this.view.on(\"pointer-up\",(e=>{if(this._shouldHandlePointerEvent(e))if(this._abortSnapping(),this._activePointerId=null,this._addVertexOnPointerUp)this._vertexAddHandler(e);else{const t=\"touch\"===e.pointerType;this._updateCursor(e.native,t)}}),d.TOOL),this.view.on(\"drag\",[\"Shift\"],(e=>{e.stopPropagation()}),d.TOOL),this.view.on(\"double-click\",(e=>{e.stopPropagation(),this._drawCompleteHandler(e)}),d.TOOL),this.view.on(\"double-click\",[\"Control\"],(e=>{e.stopPropagation(),this._drawCompleteHandler(e)}),d.TOOL),this.view.on(\"key-down\",(e=>{const{key:t,repeat:i}=e;t===p.vertexAdd&&!i&&this._cursorScreenPoint?(e.stopPropagation(),this._abortSnapping(),this._vertexAddHandler(e)):t!==p.complete||i?t!==p.undo||this.interactiveUndoDisabled||i?t!==p.redo||this.interactiveUndoDisabled||i?t!==p.pan||i||e.stopPropagation():(e.stopPropagation(),this.redo()):(e.stopPropagation(),this.undo()):(e.stopPropagation(),this._drawCompleteHandler(e))}),d.TOOL),this.view.on(\"key-up\",(e=>{e.key===p.pan&&e.stopPropagation()}),d.TOOL)],this._viewHandlesKey)}_addUndoRedoHandles(){this._removeUndoRedoHandles(),this._handles.add([this._editGeometryOperations.on(\"vertex-remove\",(e=>{if(this.notifyChange(\"vertices\"),\"undo\"===e.operation){const i=this._nativeEventHistory.undoStack.pop();this._nativeEventHistory.redoStack.push(i);const o=[...this._committedVertices];t(this._stagedVertex)&&o.push(this._coordinateHelper.pointToArray(this._stagedVertex)),this.emit(\"undo\",new s(this.view,i,e.vertices[0].index,o))}})),this._editGeometryOperations.on(\"vertex-add\",(e=>{if(this.notifyChange(\"vertices\"),\"apply\"===e.operation){const e=this._nativeEventHistory.undoStack[this._nativeEventHistory.undoStack.length],t=this._committedVertices.length-1,i=new r(this.view,e,t,this.vertices);this.emit(\"vertex-add\",i),i.defaultPrevented&&(this._popVertexOnPointerMove=!0)}else if(\"redo\"===e.operation){const i=this._nativeEventHistory.redoStack.pop();this._nativeEventHistory.undoStack.push(i);const o=[...this._committedVertices];t(this._stagedVertex)&&o.push(this._coordinateHelper.pointToArray(this._stagedVertex)),this.emit(\"redo\",new r(this.view,i,e.vertices[0].index,o))}}))],this._undoRedoHandlesKey)}_removeViewHandles(){this._handles.remove(this._viewHandlesKey)}_removeUndoRedoHandles(){this._handles.remove(this._undoRedoHandlesKey)}_addVertex(e,t){const i=this._coordinateHelper.arrayToVector(e);if(this._isDuplicateOfLastVertex(i))return;this._lastVertexUnsnapped=this._stagedVertexUnsnapped,this._popCursorVertex(),this._editGeometryOperations.appendVertex(i);const o=t||new Event(\"placeholder\");this._nativeEventHistory.undoStack.push(o)}_updateCursor(e,i=!1){if(this._popCursorVertex(),!this._cursorScreenPoint)return;const o=this.getCoordsAndPointFromScreenPoint(this._cursorScreenPoint);t(o)&&!i&&this._pushCursorVertex(o.vertex,(()=>this.emit(\"cursor-update\",new n(this.view,e,this._activeComponent.vertices.length,this.vertices,t(this._stagedVertex)?new c(this._stagedVertex):null))))}_completeDrawing(e){if(this._activePointerId=null,this._popCursorVertex(),this._abortSnapping(),t(this._snappingManager)&&this._snappingManager.doneSnapping(),this.vertices.length<1)return;const i=new a(e,this.vertices);this.emit(\"draw-complete\",i),i.defaultPrevented||this._removeViewHandles()}};_=e([i(\"esri.views.draw.MultipointDrawAction\")],_);const v=Object.freeze(Object.defineProperty({__proto__:null,get MultipointDrawAction(){return _}},Symbol.toStringTag,{value:\"Module\"}));export{_ as M,v as a};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Evented.js\";import{HandleOwnerMixin as o}from\"../../core/HandleOwner.js\";import{unwrapOr as r,destroyMaybe as i}from\"../../core/maybe.js\";import{property as n}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{DrawOperation as s}from\"./DrawOperation.js\";import{SceneDrawSurface as p,ElevationDrawSurface as d}from\"./drawSurfaces.js\";import{InteractiveToolBase as l}from\"../interactive/InteractiveToolBase.js\";let h=class extends(o(t.EventedMixin(l))){constructor(e){super(e),this.defaultZ=0,this.elevationInfo=null,this.hasZ=!0,this.mode=null,this.snapToScene=null,this.type=\"draw-3d\"}initialize(){const e=r(this.elevationInfo,{mode:this.hasZ?\"absolute-height\":\"on-the-ground\",offset:0}),t=this.view;this.drawOperation=new s({view:t,manipulators:this.manipulators,geometryType:this.geometryType,drawingMode:this.mode,hasZ:this.hasZ,defaultZ:this.defaultZ,snapToSceneEnabled:this.snapToScene,drawSurface:\"3d\"===t.type?new p(t,e):null,elevationDrawSurface:\"3d\"===t.type?new d(e,this.defaultZ,t):null,hasM:!1,elevationInfo:e}),this.handles.add([this.drawOperation.on(\"vertex-add\",(e=>this.onVertexAdd(e))),this.drawOperation.on(\"vertex-remove\",(e=>this.onVertexRemove(e))),this.drawOperation.on(\"vertex-update\",(e=>this.onVertexUpdate(e))),this.drawOperation.on(\"cursor-update\",(e=>this.onCursorUpdate(e))),this.drawOperation.on(\"complete\",(e=>this.onComplete(e)))]),this.finishToolCreation()}destroy(){this.drawOperation=i(this.drawOperation),this._set(\"view\",null)}get canRedo(){return this.drawOperation.canRedo}get canUndo(){return this.drawOperation.canUndo}set enabled(e){this.drawOperation.interactive=e,this._set(\"enabled\",e)}get updating(){return this.drawOperation?.updating??!1}completeCreateOperation(){this.drawOperation.complete()}onDeactivate(){this.drawOperation.isCompleted||this.drawOperation.cancel()}getVertexCoords(){return this.drawOperation.vertices}onInputEvent(e){this.drawOperation.onInputEvent(e)}redo(){this.drawOperation.redo()}reset(){}undo(){this.drawOperation.undo()}onComplete(e){this.emit(\"complete\",e)}onCursorUpdate(e){this.emit(\"cursor-update\",e)}onVertexAdd(e){this.emit(\"vertex-add\",e)}onVertexRemove(e){this.emit(\"vertex-remove\",e)}onVertexUpdate(e){this.emit(\"vertex-update\",e)}};e([n({constructOnly:!0,nonNullable:!0})],h.prototype,\"defaultZ\",void 0),e([n()],h.prototype,\"drawOperation\",void 0),e([n({constructOnly:!0})],h.prototype,\"elevationInfo\",void 0),e([n({value:!0})],h.prototype,\"enabled\",null),e([n({constructOnly:!0})],h.prototype,\"geometryType\",void 0),e([n({constructOnly:!0})],h.prototype,\"hasZ\",void 0),e([n({constructOnly:!0})],h.prototype,\"mode\",void 0),e([n()],h.prototype,\"snapToScene\",void 0),e([n({readOnly:!0})],h.prototype,\"type\",void 0),e([n({readOnly:!0})],h.prototype,\"updating\",null),e([n({constructOnly:!0,nonNullable:!0})],h.prototype,\"view\",void 0),h=e([a(\"esri.views.draw.DrawTool\")],h);export{h as DrawTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import{destroyMaybe as t,isSome as i}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/set.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import r from\"./DrawAction.js\";import{DrawTool as s}from\"./DrawTool.js\";import{CursorUpdateEvent as n,DrawCompleteEvent as a}from\"./input/DrawEvents.js\";import{ViewEventPriorities as h}from\"../input/InputManager.js\";import{SKETCH_KEYS as p}from\"../interactive/keybindings.js\";import{createScreenPointFromEvent as d}from\"../support/screenUtils.js\";import l from\"../../geometry/Point.js\";let _=class extends r{constructor(e){super(e),this._addVertexOnPointerUp=!1}initialize(){\"2d\"===this.view.type?this._addViewHandles():this._addDrawTool()}destroy(){\"2d\"===this.view.type?this._removeViewHandles():this._removeDrawTool(),this.emit(\"destroy\")}complete(){\"2d\"===this.view.type?this._cursorScreenPoint&&this._completeDrawing():this._drawTool.completeCreateOperation()}_addViewHandles(){this._removeViewHandles(),this._handles.add([this.view.on(\"pointer-down\",(e=>{this._shouldHandlePointerEvent(e)&&(this._abortSnapping(),this._activePointerId=e.pointerId,this._addVertexOnPointerUp=!0,this._cursorScreenPoint=d(e),\"touch\"===e.pointerType&&this._updateCursor(e.native))}),h.TOOL),this.view.on(\"pointer-move\",(e=>{this._abortSnapping(),this._cursorScreenPoint=d(e),\"touch\"!==e.pointerType&&this._updateCursor(e.native)}),h.TOOL),this.view.on(\"pointer-drag\",(e=>{this._shouldHandlePointerEvent(e)&&(this._abortSnapping(),this._addVertexOnPointerUp=!1)}),h.TOOL),this.view.on(\"pointer-up\",(e=>{if(this._shouldHandlePointerEvent(e))if(this._abortSnapping(),this._activePointerId=null,this._addVertexOnPointerUp)e.stopPropagation(),this._vertexAddHandler(e);else{const t=\"touch\"===e.pointerType;this._updateCursor(e.native,t)}}),h.TOOL),this.view.on(\"drag\",[\"Shift\"],(e=>{e.stopPropagation()}),h.TOOL),this.view.on(\"key-down\",(e=>{e.key===p.complete&&this._cursorScreenPoint&&(this._abortSnapping(),this._vertexAddHandler(e))}),h.TOOL)],this._viewHandlesKey)}_removeViewHandles(){this._handles.remove(this._viewHandlesKey)}_addDrawTool(){this._drawTool=new s({view:this.view,elevationInfo:this.elevationInfo,hasZ:this.hasZ,geometryType:\"point\",mode:\"click\"}),this.view.addAndActivateTool(this._drawTool),this._handles.add([this._drawTool.on(\"cursor-update\",(e=>{1===e.vertices.length&&this.emit(\"cursor-update\",new n(this.view,null,e.vertices[0].vertexIndex,this._drawTool.getVertexCoords()))})),this._drawTool.on(\"complete\",(e=>{this.emit(\"draw-complete\",new a(null,this._drawTool.getVertexCoords())),this._removeDrawTool()}))],this._drawToolHandlesKey)}_removeDrawTool(){this._handles.remove(this._drawToolHandlesKey),this.view.tools.remove(this._drawTool),this._drawTool=t(this._drawTool)}_addVertex(e){const t=this._coordinateHelper.arrayToVector(e);this._isDuplicateOfLastVertex(t)||(this._lastVertexUnsnapped=this._stagedVertexUnsnapped,this._popCursorVertex(),this._editGeometryOperations.appendVertex(t),this.notifyChange(\"vertices\"),this._completeDrawing())}_updateCursor(e,t=!1){if(this._popCursorVertex(),!this._cursorScreenPoint)return;const o=this.getCoordsAndPointFromScreenPoint(this._cursorScreenPoint);i(o)&&!t&&this._pushCursorVertex(o.vertex,(()=>this.emit(\"cursor-update\",new n(this.view,e,this._activeComponent.vertices.length,this.vertices,i(this._stagedVertex)?new l(this._stagedVertex):null))))}_completeDrawing(e){this._activePointerId=null,this._popCursorVertex(),this._abortSnapping(),i(this._snappingManager)&&this._snappingManager.doneSnapping();const t=new a(e,this.vertices);this.emit(\"draw-complete\",t),t.defaultPrevented||this._removeViewHandles()}};_=e([o(\"esri.views.draw.PointDrawAction\")],_);export{_ as PointDrawAction};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import{isSome as t,destroyMaybe as i}from\"../../core/maybe.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import r from\"./DrawAction.js\";import{drawingModes as n,defaultDrawingMode as a}from\"./DrawingMode.js\";import{DrawTool as d}from\"./DrawTool.js\";import{VertexRemoveEvent as h,VertexAddEvent as p,CursorUpdateEvent as l,DrawCompleteEvent as _}from\"./input/DrawEvents.js\";import{ViewEventPriorities as c}from\"../input/InputManager.js\";import{SKETCH_KEYS as v}from\"../interactive/keybindings.js\";import{createScreenPointFromEvent as m}from\"../support/screenUtils.js\";import u from\"../../geometry/Point.js\";let w=class extends r{constructor(e){super(e),this._panEnabled=!1,this._popVertexOnPointerMove=!1,this._addVertexOnPointerUp=!1,this.mode=a}initialize(){\"2d\"===this.view.type?(this._addViewHandles(),this._addUndoRedoHandles()):this._addDrawTool()}destroy(){\"2d\"===this.view.type?(this._removeViewHandles(),this._removeUndoRedoHandles()):this._removeDrawTool(),this.emit(\"destroy\")}get _dragEnabled(){return\"freehand\"===this.mode||\"hybrid\"===this.mode}get _clickEnabled(){return\"click\"===this.mode||\"hybrid\"===this.mode}undo(){super.undo(),this.notifyChange(\"vertices\")}redo(){super.redo(),this.notifyChange(\"vertices\")}complete(){\"2d\"===this.view.type?this._completeDrawing():this._drawTool.completeCreateOperation()}_getGeometryZValue(){return this.hasZ&&this.vertices.length>0?this.vertices[0][2]:this.defaultZ}_addViewHandles(){this._removeViewHandles(),this._handles.add([this.view.on(\"click\",(e=>{e.stopPropagation()}),c.TOOL),this.view.on(\"pointer-down\",(e=>{this._shouldHandlePointerEvent(e)&&(this._abortSnapping(),this._activePointerId=e.pointerId,this._addVertexOnPointerUp=!0,this._cursorScreenPoint=m(e),\"touch\"===e.pointerType&&this._updateCursor(e.native))}),c.TOOL),this.view.on(\"pointer-move\",(e=>{this._abortSnapping(),this._popVertexOnPointerMove&&(this.undo(),this._popVertexOnPointerMove=!1),this._cursorScreenPoint=m(e),\"touch\"!==e.pointerType&&this._updateCursor(e.native)}),c.TOOL),this.view.on(\"pointer-drag\",(e=>{this._shouldHandlePointerEvent(e)&&(this._abortSnapping(),this._cursorScreenPoint=m(e),this._dragEnabled&&!this._panEnabled?this._vertexAddHandler(e):this._addVertexOnPointerUp=!1)}),c.TOOL),this.view.on(\"pointer-up\",(e=>{if(this._shouldHandlePointerEvent(e))if(this._abortSnapping(),this._activePointerId=null,this._addVertexOnPointerUp){if(!this._clickEnabled)return 1===this.vertices.length&&this.vertices.pop(),void this._drawCompleteHandler(e);this._vertexAddHandler(e)}else{const t=\"touch\"===e.pointerType;this._updateCursor(e.native,t)}}),c.TOOL),this.view.on(\"drag\",(e=>{this._dragEnabled&&t(this._activePointerId)&&!this._panEnabled&&e.stopPropagation()}),c.TOOL),this.view.on(\"drag\",[\"Shift\"],(e=>{e.stopPropagation()}),c.TOOL),this.view.on(\"double-click\",(e=>{e.stopPropagation(),this._drawCompleteHandler(e)}),c.TOOL),this.view.on(\"double-click\",[\"Control\"],(e=>{e.stopPropagation(),this._drawCompleteHandler(e)}),c.TOOL),this.view.on(\"key-down\",(e=>{const{key:t,repeat:i}=e;t===v.vertexAdd&&!i&&this._cursorScreenPoint?(e.stopPropagation(),this._abortSnapping(),this._vertexAddHandler(e)):t!==v.complete||i?t!==v.undo||this.interactiveUndoDisabled||i?t!==v.redo||this.interactiveUndoDisabled||i?t!==v.pan||i||(e.stopPropagation(),this._panEnabled=!0):(e.stopPropagation(),this.redo()):(e.stopPropagation(),this.undo()):(e.stopPropagation(),this._drawCompleteHandler(e))}),c.TOOL),this.view.on(\"key-up\",(e=>{e.key===v.pan&&(e.stopPropagation(),this._panEnabled=!1)}),c.TOOL)],this._viewHandlesKey)}_addUndoRedoHandles(){this._removeUndoRedoHandles(),this._handles.add([this._editGeometryOperations.on(\"vertex-remove\",(e=>{if(this.notifyChange(\"vertices\"),\"undo\"===e.operation){const i=this._nativeEventHistory.undoStack.pop();this._nativeEventHistory.redoStack.push(i);const o=[...this._committedVertices];t(this._stagedVertex)&&o.push(this._coordinateHelper.pointToArray(this._stagedVertex)),this.emit(\"undo\",new h(this.view,i,e.vertices[0].index,o))}})),this._editGeometryOperations.on(\"vertex-add\",(e=>{if(this.notifyChange(\"vertices\"),\"apply\"===e.operation){const e=this._nativeEventHistory.undoStack[this._nativeEventHistory.undoStack.length],t=this._committedVertices.length-1,i=new p(this.view,e,t,this.vertices);this.emit(\"vertex-add\",i),i.defaultPrevented&&(this._popVertexOnPointerMove=!0)}else if(\"redo\"===e.operation){const i=this._nativeEventHistory.redoStack.pop();this._nativeEventHistory.undoStack.push(i);const o=[...this._committedVertices];t(this._stagedVertex)&&o.push(this._coordinateHelper.pointToArray(this._stagedVertex)),this.emit(\"redo\",new p(this.view,i,e.vertices[0].index,o))}}))],this._undoRedoHandlesKey)}_removeViewHandles(){this._handles.remove(this._viewHandlesKey)}_removeUndoRedoHandles(){this._handles.remove(this._undoRedoHandlesKey)}_addDrawTool(){this._drawTool=new d({view:this.view,elevationInfo:this.elevationInfo,hasZ:this.hasZ,geometryType:\"polygon\",mode:this.mode}),this.view.addAndActivateTool(this._drawTool),this._drawTool.on(\"vertex-add\",(e=>{1===e.vertices.length&&this.emit(\"vertex-add\",new p(this.view,null,e.vertices[0].vertexIndex,this._drawTool.getVertexCoords()))})),this._drawTool.on(\"cursor-update\",(e=>{1===e.vertices.length&&this.emit(\"cursor-update\",new l(this.view,null,e.vertices[0].vertexIndex,this._drawTool.getVertexCoords()))})),this._drawTool.on(\"complete\",(e=>{this.emit(\"draw-complete\",new _(null,this._drawTool.getVertexCoords())),this._removeDrawTool()}))}_removeDrawTool(){this._handles.remove(this._drawToolHandlesKey),this.view.tools.remove(this._drawTool),this._drawTool=i(this._drawTool)}_addVertex(e,t){const i=this._coordinateHelper.arrayToVector(e);if(this._isDuplicateOfLastVertex(i))return;this._lastVertexUnsnapped=this._stagedVertexUnsnapped,this._popCursorVertex(),this._editGeometryOperations.appendVertex(i);const o=t||new Event(\"placeholder\");this._nativeEventHistory.undoStack.push(o)}_updateCursor(e,i=!1){if(this._popCursorVertex(),!this._cursorScreenPoint)return;const o=this.getCoordsAndPointFromScreenPoint(this._cursorScreenPoint);t(o)&&!i&&this._pushCursorVertex(o.vertex,(()=>this.emit(\"cursor-update\",new l(this.view,e,this._activeComponent.vertices.length,this.vertices,t(this._stagedVertex)?new u(this._stagedVertex):null))))}_completeDrawing(e){if(this._activePointerId=null,this._popCursorVertex(),this._committedVertices.length<3)return;this._abortSnapping(),t(this._snappingManager)&&this._snappingManager.doneSnapping();const i=new _(e,this.vertices);this.emit(\"draw-complete\",i),i.defaultPrevented||this._removeViewHandles()}};e([o()],w.prototype,\"_dragEnabled\",null),e([o()],w.prototype,\"_clickEnabled\",null),e([o({type:n})],w.prototype,\"mode\",void 0),w=e([s(\"esri.views.draw.PolygonDrawAction\")],w);export{w as PolygonDrawAction};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import{isSome as t,destroyMaybe as i}from\"../../core/maybe.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import r from\"./DrawAction.js\";import{drawingModes as n,defaultDrawingMode as a}from\"./DrawingMode.js\";import{DrawTool as d}from\"./DrawTool.js\";import{VertexRemoveEvent as h,VertexAddEvent as p,CursorUpdateEvent as l,DrawCompleteEvent as _}from\"./input/DrawEvents.js\";import{ViewEventPriorities as c}from\"../input/InputManager.js\";import{SKETCH_KEYS as v}from\"../interactive/keybindings.js\";import{createScreenPointFromEvent as m}from\"../support/screenUtils.js\";import u from\"../../geometry/Point.js\";let w=class extends r{constructor(e){super(e),this._panEnabled=!1,this._popVertexOnPointerMove=!1,this._addVertexOnPointerUp=!1,this.mode=a}initialize(){\"2d\"===this.view.type?(this._addViewHandles(),this._addUndoRedoHandles()):this._addDrawTool()}destroy(){\"2d\"===this.view.type?(this._removeViewHandles(),this._removeUndoRedoHandles()):this._removeDrawTool(),this.emit(\"destroy\")}get _clickEnabled(){return\"click\"===this.mode||\"hybrid\"===this.mode}get _dragEnabled(){return\"freehand\"===this.mode||\"hybrid\"===this.mode}undo(){super.undo(),this.notifyChange(\"vertices\")}redo(){super.redo(),this.notifyChange(\"vertices\")}complete(){\"2d\"===this.view.type?this._completeDrawing():this._drawTool.completeCreateOperation()}_addViewHandles(){this._removeViewHandles(),this._handles.add([this.view.on(\"click\",(e=>{e.stopPropagation()}),c.TOOL),this.view.on(\"pointer-down\",(e=>{this._shouldHandlePointerEvent(e)&&!this._panEnabled&&(this._abortSnapping(),this._activePointerId=e.pointerId,this._addVertexOnPointerUp=!0,this._cursorScreenPoint=m(e),\"touch\"===e.pointerType&&this._updateCursor(e.native))}),c.TOOL),this.view.on(\"pointer-move\",(e=>{this._popVertexOnPointerMove&&(this.undo(),this._popVertexOnPointerMove=!1),this._abortSnapping(),this._cursorScreenPoint=m(e),\"touch\"!==e.pointerType&&this._updateCursor(e.native)}),c.TOOL),this.view.on(\"pointer-drag\",(e=>{this._shouldHandlePointerEvent(e)&&(this._abortSnapping(),this._cursorScreenPoint=m(e),this._dragEnabled&&!this._panEnabled?this._vertexAddHandler(e):this._addVertexOnPointerUp=!1)}),c.TOOL),this.view.on(\"pointer-up\",(e=>{if(this._shouldHandlePointerEvent(e))if(this._abortSnapping(),this._activePointerId=null,this._addVertexOnPointerUp){if(!this._clickEnabled)return 1===this.vertices.length&&this.vertices.pop(),void this._drawCompleteHandler(e);this._vertexAddHandler(e)}else{const t=\"touch\"===e.pointerType;this._updateCursor(e.native,t)}}),c.TOOL),this.view.on(\"drag\",(e=>{this._dragEnabled&&t(this._activePointerId)&&!this._panEnabled&&e.stopPropagation()}),c.TOOL),this.view.on(\"drag\",[\"Shift\"],(e=>{e.stopPropagation()}),c.TOOL),this.view.on(\"double-click\",(e=>{e.stopPropagation(),this._drawCompleteHandler(e)}),c.TOOL),this.view.on(\"double-click\",[\"Control\"],(e=>{e.stopPropagation(),this._drawCompleteHandler(e)}),c.TOOL),this.view.on(\"key-down\",(e=>{const{key:t,repeat:i}=e;t===v.vertexAdd&&!i&&this._cursorScreenPoint?(e.stopPropagation(),this._abortSnapping(),this._vertexAddHandler(e)):t!==v.complete||i?t!==v.undo||this.interactiveUndoDisabled||i?t!==v.redo||this.interactiveUndoDisabled||i?t!==v.pan||i||(e.stopPropagation(),this._panEnabled=!0):(e.stopPropagation(),this.redo()):(e.stopPropagation(),this.undo()):(e.stopPropagation(),this._drawCompleteHandler(e))}),c.TOOL),this.view.on(\"key-up\",(e=>{e.key===v.pan&&(e.stopPropagation(),this._panEnabled=!1)}),c.TOOL)],this._viewHandlesKey)}_addUndoRedoHandles(){this._removeUndoRedoHandles(),this._handles.add([this._editGeometryOperations.on(\"vertex-remove\",(e=>{if(this.notifyChange(\"vertices\"),\"undo\"===e.operation){const i=this._nativeEventHistory.undoStack.pop();this._nativeEventHistory.redoStack.push(i);const o=[...this._committedVertices];t(this._stagedVertex)&&o.push(this._coordinateHelper.pointToArray(this._stagedVertex)),this.emit(\"undo\",new h(this.view,i,e.vertices[0].index,o))}})),this._editGeometryOperations.on(\"vertex-add\",(e=>{if(this.notifyChange(\"vertices\"),\"apply\"===e.operation){const e=this._nativeEventHistory.undoStack[this._nativeEventHistory.undoStack.length],t=this._committedVertices.length-1,i=new p(this.view,e,t,this.vertices);this.emit(\"vertex-add\",i),i.defaultPrevented&&(this._popVertexOnPointerMove=!0)}else if(\"redo\"===e.operation){const i=this._nativeEventHistory.redoStack.pop();this._nativeEventHistory.undoStack.push(i);const o=[...this._committedVertices];t(this._stagedVertex)&&o.push(this._coordinateHelper.pointToArray(this._stagedVertex)),this.emit(\"redo\",new p(this.view,i,e.vertices[0].index,o))}}))],this._undoRedoHandlesKey)}_removeViewHandles(){this._handles.remove(this._viewHandlesKey)}_removeUndoRedoHandles(){this._handles.remove(this._undoRedoHandlesKey)}_addDrawTool(){this._drawTool=new d({view:this.view,elevationInfo:this.elevationInfo,hasZ:this.hasZ,geometryType:\"polyline\",mode:this.mode}),this.view.addAndActivateTool(this._drawTool),this._handles.add([this._drawTool.on(\"vertex-add\",(e=>{1===e.vertices.length&&this.emit(\"vertex-add\",new p(this.view,null,e.vertices[0].vertexIndex,this._drawTool.getVertexCoords()))})),this._drawTool.on(\"cursor-update\",(e=>{1===e.vertices.length&&this.emit(\"cursor-update\",new l(this.view,null,e.vertices[0].vertexIndex,this._drawTool.getVertexCoords()))})),this._drawTool.on(\"complete\",(e=>{this.emit(\"draw-complete\",new _(null,this._drawTool.getVertexCoords())),this._removeDrawTool()}))],this._drawToolHandlesKey)}_removeDrawTool(){this._handles.remove(this._drawToolHandlesKey),this.view.tools.remove(this._drawTool),this._drawTool=i(this._drawTool)}_addVertex(e,t){const i=this._coordinateHelper.arrayToVector(e);if(this._isDuplicateOfLastVertex(i))return;this._lastVertexUnsnapped=this._stagedVertexUnsnapped,this._popCursorVertex(),this._editGeometryOperations.appendVertex(i);const o=t||new Event(\"placeholder\");this._nativeEventHistory.undoStack.push(o)}_updateCursor(e,i=!1){if(this._popCursorVertex(),!this._cursorScreenPoint)return;const o=this.getCoordsAndPointFromScreenPoint(this._cursorScreenPoint);t(o)&&!i&&this._pushCursorVertex(o.vertex,(()=>this.emit(\"cursor-update\",new l(this.view,e,this._activeComponent.vertices.length,this.vertices,t(this._stagedVertex)?new u(this._stagedVertex):null))))}_completeDrawing(e){if(this._activePointerId=null,this._popCursorVertex(),this._committedVertices.length<2)return;this._abortSnapping(),t(this._snappingManager)&&this._snappingManager.doneSnapping();const i=new _(e,this.vertices);this.emit(\"draw-complete\",i),i.defaultPrevented||this._removeViewHandles()}};e([o()],w.prototype,\"_clickEnabled\",null),e([o()],w.prototype,\"_dragEnabled\",null),e([o({type:n})],w.prototype,\"mode\",void 0),w=e([s(\"esri.views.draw.PolylineDrawAction\")],w);export{w as PolylineDrawAction};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import{isSome as t,isNone as i,destroyMaybe as r}from\"../../core/maybe.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import{ViewingMode as n}from\"../ViewingMode.js\";import a from\"./DrawAction.js\";import{DrawTool as h}from\"./DrawTool.js\";import{VertexAddEvent as d,CursorUpdateEvent as p,DrawCompleteEvent as l}from\"./input/DrawEvents.js\";import{createViewAlignedCoordinateSystem as _}from\"./support/surfaceCoordinateSystems.js\";import{ViewEventPriorities as c}from\"../input/InputManager.js\";import{SKETCH_KEYS as m}from\"../interactive/keybindings.js\";import{EditGeometry as v,Component as g}from\"../interactive/editGeometry/EditGeometry.js\";import{EditGeometryOperations as w}from\"../interactive/editGeometry/EditGeometryOperations.js\";import{createScreenPointFromEvent as u}from\"../support/screenUtils.js\";import y from\"../../geometry/Point.js\";const T=[\"freehand\",\"click\"];let O=class extends a{constructor(e){super(e),this._isDragging=!1,this._panEnabled=!1,this._addVertexOnPointerUp=!1,this.viewAlignedCoordinateSystem=null,this.mode=\"freehand\"}initialize(){\"2d\"===this.view.type?this._addViewHandles():this._addDrawTool()}destroy(){\"2d\"===this.view.type?this._removeViewHandles():this._removeDrawTool(),this.emit(\"destroy\")}complete(){\"2d\"===this.view.type?this._completeDrawing():this._drawTool.completeCreateOperation()}_getGeometryZValue(){return this.hasZ&&this.vertices.length>0?this.vertices[0][2]:this.defaultZ}_addViewHandles(){this._removeViewHandles(),\"click\"===this.mode?this._handles.add(this._getClickModeViewHandles(),this._viewHandlesKey):this._handles.add(this._getDragModeViewHandles(),this._viewHandlesKey)}_getDragModeViewHandles(){return[this.view.on(\"immediate-click\",(e=>{if(e.stopPropagation(),e.mapPoint&&!this._panEnabled){const i=this.getCoordsFromScreenPoint(u(e));t(i)&&(this._vertexAddHandler(e),this._drawCompleteHandler(e))}}),c.TOOL),this.view.on(\"pointer-down\",(e=>{this._shouldHandlePointerEvent(e)&&(this._abortSnapping(),this._panEnabled||(this._resetGeometry(),this._addVertexOnPointerUp=!0,this._cursorScreenPoint=u(e),this._activePointerId=e.pointerId,this._vertexAddHandler(e),this._isDragging=!1,\"touch\"===e.pointerType&&this._updateCursor(e.native)))}),c.TOOL),this.view.on(\"pointer-move\",(e=>{this._abortSnapping(),i(this._activePointerId)&&\"touch\"!==e.pointerType&&(this._cursorScreenPoint=u(e),this._updateCursor(e.native))}),c.TOOL),this.view.on(\"pointer-drag\",(e=>{this._shouldHandlePointerEvent(e)&&(this._abortSnapping(),this._isDragging=!0,this._cursorScreenPoint=u(e),this._updateCursor(e.native))}),c.TOOL),this.view.on(\"pointer-up\",(e=>{this._shouldHandlePointerEvent(e)&&this._addVertexOnPointerUp&&(this._abortSnapping(),this._activePointerId=null,this._isDragging&&this._vertexAddHandler(e),2===this._committedVertices.length&&this._drawCompleteHandler(e),this._isDragging=!1)}),c.TOOL),this.view.on(\"key-down\",(e=>{e.key===m.complete&&this._cursorScreenPoint?(this._abortSnapping(),this._vertexAddHandler(e),this._drawCompleteHandler(e)):e.key===m.pan&&(this._panEnabled=!0)}),c.TOOL),this.view.on(\"key-up\",(e=>{e.key===m.pan&&(this._panEnabled=!1)}),c.TOOL),this.view.on(\"drag\",(e=>{t(this._activePointerId)&&e.stopPropagation()}),c.TOOL),this.view.on(\"drag\",[\"Shift\"],(e=>{e.stopPropagation()}),c.TOOL)]}_getClickModeViewHandles(){return[this.view.on(\"pointer-down\",(e=>{this._abortSnapping(),this._cursorScreenPoint=u(e),this._activePointerId=e.pointerId,this._isDragging=!1,\"touch\"===e.pointerType&&this._updateCursor(e.native)}),c.TOOL),this.view.on(\"pointer-move\",(e=>{this._abortSnapping(),this._cursorScreenPoint=u(e),i(this._activePointerId)&&\"touch\"!==e.pointerType&&this._updateCursor(e.native)}),c.TOOL),this.view.on(\"pointer-drag\",(e=>{this._shouldHandlePointerEvent(e)&&(this._abortSnapping(),this._isDragging=!0)}),c.TOOL),this.view.on(\"pointer-up\",(e=>{this._shouldHandlePointerEvent(e)&&(this._abortSnapping(),this._activePointerId=null,e.stopPropagation(),this._isDragging||this._vertexAddHandler(e),2!==this.vertices.length||this._isDragging||this._drawCompleteHandler(e),this._isDragging=!1)}),c.TOOL),this.view.on(\"key-down\",(e=>{e.key===m.vertexAdd&&this._cursorScreenPoint&&(this._vertexAddHandler(e),2===this.vertices.length&&this._drawCompleteHandler(e)),e.key===m.complete&&this._cursorScreenPoint&&2===this.vertices.length&&(this._vertexAddHandler(e),this._drawCompleteHandler(e))}),c.TOOL)]}_removeViewHandles(){this._handles.remove(this._viewHandlesKey)}_addDrawTool(){this._drawTool=new h({view:this.view,elevationInfo:this.elevationInfo,hasZ:this.hasZ,geometryType:\"segment\",mode:this.mode}),this.view.addAndActivateTool(this._drawTool),this._handles.add([this._drawTool.on(\"vertex-add\",(e=>{1===e.vertices.length&&this.emit(\"vertex-add\",new d(this.view,null,e.vertices[0].vertexIndex,this._drawTool.getVertexCoords()))})),this._drawTool.on(\"cursor-update\",(e=>{1===e.vertices.length&&this.emit(\"cursor-update\",new p(this.view,null,e.vertices[0].vertexIndex,this._drawTool.getVertexCoords()))})),this._drawTool.on(\"complete\",(e=>{this.emit(\"draw-complete\",new l(null,this._drawTool.getVertexCoords())),this._removeDrawTool()}))],this._drawToolHandlesKey)}_removeDrawTool(){this._handles.remove(this._drawToolHandlesKey),this.view.tools.remove(this._drawTool),this._drawTool=r(this._drawTool)}_addVertex(e,t){const i=this._coordinateHelper.arrayToVector(e);if(this._isDuplicateOfLastVertex(i))return;this._lastVertexUnsnapped=this._stagedVertexUnsnapped,this._popCursorVertex(),this._editGeometryOperations.appendVertex(i),1===this._committedVertices.length&&(this.viewAlignedCoordinateSystem=_(this.view,this._committedVertices[0]));const r=this._committedVertices.length-1,s=new d(this.view,t,r,this.vertices);this.emit(\"vertex-add\",s)}_updateCursor(e){if(this._popCursorVertex(),!this._cursorScreenPoint)return;const i=this.getCoordsAndPointFromScreenPoint(this._cursorScreenPoint);t(i)&&this._pushCursorVertex(i.vertex,(()=>this.emit(\"cursor-update\",new p(this.view,e,this._activeComponent.vertices.length,this.vertices,t(this._stagedVertex)?new y(this._stagedVertex):null))))}_completeDrawing(e){if(this._activePointerId=null,this._popCursorVertex(),this._cursorScreenPoint=null,this._isDragging=!1,this._abortSnapping(),t(this._snappingManager)&&this._snappingManager.doneSnapping(),this.vertices.length<1)return;const i=new l(e,this.vertices);this.emit(\"draw-complete\",i),i.defaultPrevented||this._removeViewHandles()}_resetGeometry(){this._editGeometryOperations.destroy(),this._editGeometryOperations=new w(new v(\"polygon\",this._coordinateHelper)),this._activeComponent=new g(this._coordinateHelper.spatialReference,n.Local),this._editGeometryOperations.data.components.push(this._activeComponent)}};e([s({type:T})],O.prototype,\"mode\",void 0),O=e([o(\"esri/views/2d/engine/markup/SegmentDrawAction\")],O);export{O as SegmentDrawAction};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Accessor.js\";import\"../../core/has.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import{M as r}from\"../../chunks/MultipointDrawAction.js\";import{PointDrawAction as s}from\"./PointDrawAction.js\";import{PolygonDrawAction as c}from\"./PolygonDrawAction.js\";import{PolylineDrawAction as n}from\"./PolylineDrawAction.js\";import{SegmentDrawAction as a}from\"./SegmentDrawAction.js\";let p=class extends e{constructor(){super(...arguments),this.activeAction=null,this.type=\"draw\",this.view=null}destroy(){this.activeAction&&(this.activeAction.destroy(),this.activeAction=null)}create(t,e){this.reset();const o={view:this.view,...e};switch(t){case\"point\":o.editGeometryType=\"point\",this.activeAction=new s(o);break;case\"polyline\":o.editGeometryType=\"polyline\",this.activeAction=new n(o);break;case\"multipoint\":o.editGeometryType=\"polygon\",this.activeAction=new r(o);break;case\"polygon\":o.editGeometryType=\"polygon\",this.activeAction=new c(o);break;case\"rectangle\":case\"circle\":case\"ellipse\":case\"triangle\":o.editGeometryType=\"polygon\",this.activeAction=new a(o)}return this.activeAction}complete(){this.activeAction&&this.activeAction.complete(),this.activeAction=null}reset(){this.activeAction&&this.activeAction.destroy(),this.activeAction=null}};t([o()],p.prototype,\"activeAction\",void 0),t([o({readOnly:!0})],p.prototype,\"type\",void 0),t([o()],p.prototype,\"view\",void 0),p=t([i(\"esri.views.draw.Draw\")],p);const l=p;export{l as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import i from\"../../core/Evented.js\";import{isNone as o,isSome as s}from\"../../core/maybe.js\";import{watch as r,sync as l}from\"../../core/reactiveUtils.js\";import{pt2px as a,screenPointObjectToArray as n,createScreenPointArray as c}from\"../../core/screenUtils.js\";import{property as h}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import{s as m}from\"../../chunks/vec2.js\";import{i as u}from\"../../chunks/vec3.js\";import{c as y}from\"../../chunks/vec3f64.js\";import{canProjectWithoutEngine as g,project as b,projectPointToVector as d}from\"../../geometry/projection.js\";import{getGraphicEffectiveElevationMode as f}from\"../../support/elevationInfoUtils.js\";import{getDefaultSymbol2D as _}from\"../../symbols/support/defaults.js\";import v from\"../../symbols/support/ElevationInfo.js\";import{intersectsDrapedGeometry as S}from\"../support/drapedUtils.js\";let C=class extends t{constructor(e){super(e),this.layer=null,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.dragging=!1,this.cursor=null,this.events=new i.EventEmitter,this._circleCollisionCache=null,this._graphicSymbolChangedHandle=null,this._originalSymbol=null}set graphic(e){this._circleCollisionCache=null,this._originalSymbol=e.symbol,this._set(\"graphic\",e),this.attachSymbolChanged()}get elevationInfo(){const e=\"elevationInfo\"in this.graphic.layer&&this.graphic.layer.elevationInfo,t=f(this.graphic),i=e?e.offset:0;return new v({mode:t,offset:i})}set focusedSymbol(e){e!==this._get(\"focusedSymbol\")&&(this._set(\"focusedSymbol\",e),this._updateGraphicSymbol(),this._circleCollisionCache=null)}grabbableForEvent(){return!0}set grabbing(e){e!==this._get(\"grabbing\")&&(this._set(\"grabbing\",e),this._updateGraphicSymbol())}set hovering(e){e!==this._get(\"hovering\")&&(this._set(\"hovering\",e),this._updateGraphicSymbol())}set selected(e){e!==this._get(\"selected\")&&(this._set(\"selected\",e),this._updateGraphicSymbol(),this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"}))}get _focused(){return this._get(\"hovering\")||this._get(\"grabbing\")}destroy(){this.detachSymbolChanged(),this._resetGraphicSymbol(),this._set(\"view\",null)}intersectionDistance(e){const t=this.graphic;if(!1===t.visible)return null;const i=t.geometry;if(o(i))return null;const r=this._get(\"focusedSymbol\"),l=s(r)?r:t.symbol;return\"2d\"===this.view.type?this._intersectDistance2D(this.view,e,i,l):this._intersectDistance3D(this.view,e,t)}attach(){this.attachSymbolChanged(),s(this.layer)&&this.layer.add(this.graphic)}detach(){this.detachSymbolChanged(),this._resetGraphicSymbol(),s(this.layer)&&this.layer.remove(this.graphic)}attachSymbolChanged(){this.detachSymbolChanged(),this._graphicSymbolChangedHandle=r((()=>this.graphic?.symbol),(e=>{s(e)&&e!==this.focusedSymbol&&e!==this._originalSymbol&&(this._originalSymbol=e,this._focused&&s(this.focusedSymbol)&&(this.graphic.symbol=this.focusedSymbol))}),l)}detachSymbolChanged(){s(this._graphicSymbolChangedHandle)&&(this._graphicSymbolChangedHandle.remove(),this._graphicSymbolChangedHandle=null)}_updateGraphicSymbol(){this.graphic.symbol=this._focused&&s(this.focusedSymbol)?this.focusedSymbol:this._originalSymbol}_resetGraphicSymbol(){this.graphic.symbol=this._originalSymbol}_intersectDistance2D(e,t,i,r){if(r=r||_(i),o(r))return null;const l=1;let c=this._circleCollisionCache;if(\"point\"!==i.type||\"simple-marker\"!==r.type)return S(t,i,e)?l:null;if(o(c)||!c.originalPoint.equals(i)){const t=i,o=e.spatialReference;if(g(t.spatialReference,o)){const e=b(t,o);c={originalPoint:t.clone(),mapPoint:e,radiusPx:a(r.size)},this._circleCollisionCache=c}}if(s(c)){const i=n(t,D),o=e.toScreen(c.mapPoint),s=c.radiusPx,h=o.x+a(r.xoffset),p=o.y-a(r.yoffset);return m(i,[h,p])<s*s?l:null}return null}_intersectDistance3D(e,t,i){const o=e.toMap(t,{include:[i]});return o&&d(o,j,e.renderSpatialReference)?u(j,e.state.camera.eye):null}};e([h({constructOnly:!0,nonNullable:!0})],C.prototype,\"graphic\",null),e([h()],C.prototype,\"elevationInfo\",null),e([h({constructOnly:!0,nonNullable:!0})],C.prototype,\"view\",void 0),e([h({value:null})],C.prototype,\"focusedSymbol\",null),e([h({constructOnly:!0})],C.prototype,\"layer\",void 0),e([h()],C.prototype,\"interactive\",void 0),e([h()],C.prototype,\"selectable\",void 0),e([h()],C.prototype,\"grabbable\",void 0),e([h({value:!1})],C.prototype,\"grabbing\",null),e([h()],C.prototype,\"dragging\",void 0),e([h()],C.prototype,\"hovering\",null),e([h({value:!1})],C.prototype,\"selected\",null),e([h()],C.prototype,\"cursor\",void 0),C=e([p(\"esri.views.interactive.GraphicManipulator\")],C);const j=y(),D=c();export{C as GraphicManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nfunction t(t,e){return e?\"xoffset\"in e&&e.xoffset?Math.max(t,Math.abs(e.xoffset)):\"yoffset\"in e&&e.yoffset?Math.max(t,Math.abs(e.yoffset||0)):t:t}function e(t){let e=0,n=0;for(let r=0;r<t.length;r++){const s=t[r].size;\"number\"==typeof s&&(e+=s,n++)}return e/n}function n(t,n){return\"number\"==typeof t?t:t&&t.stops&&t.stops.length?e(t.stops):n}function r(t,e){if(!e)return t;const r=e.filter((t=>\"size\"===t.type)).map((e=>{const{maxSize:r,minSize:s}=e;return(n(r,t)+n(s,t))/2}));let s=0;const o=r.length;if(0===o)return t;for(let n=0;n<o;n++)s+=r[n];const f=Math.floor(s/o);return Math.max(f,t)}function s(e){const n=e&&e.renderer,s=\"touch\"===(e&&e.event&&e.event.pointerType)?9:6;if(!n)return s;const o=\"visualVariables\"in n?r(s,n.visualVariables):s;if(\"simple\"===n.type)return t(o,n.symbol);if(\"unique-value\"===n.type){let e=o;return n.uniqueValueInfos.forEach((n=>{e=t(e,n.symbol)})),e}if(\"class-breaks\"===n.type){let e=o;return n.classBreakInfos.forEach((n=>{e=t(e,n.symbol)})),e}return\"dot-density\"===n.type||n.type,o}export{s as calculateTolerance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import t from\"../../Graphic.js\";import\"../../intl.js\";import\"../../symbols.js\";import s from\"../../core/Handles.js\";import{destroyMaybe as i}from\"../../core/maybe.js\";import{watch as r,initial as o}from\"../../core/reactiveUtils.js\";import{formatDecimal as a,formatImperialLength as n,formatMetricLength as l}from\"../../core/unitFormatUtils.js\";import{convertUnit as m}from\"../../core/unitUtils.js\";import{property as h}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as c}from\"../../core/accessorSupport/decorators/subclass.js\";import{geodesicLength as p,geodesicDensify as d,planarLength as u}from\"../../geometry/geometryEngine.js\";import{project as y}from\"../../geometry/projection.js\";import{isSupported as v,geodesicLengths as _,geodesicDensify as f}from\"../../geometry/support/geodesicUtils.js\";import w from\"../../layers/GraphicsLayer.js\";import{ViewingMode as g}from\"../../views/ViewingMode.js\";import b from\"../../views/draw/Draw.js\";import{createManipulatorDragEventPipeline as j,screenToMap as S,dragGraphic as L}from\"../../views/interactive/dragEventPipeline.js\";import{GraphicManipulator as A}from\"../../views/interactive/GraphicManipulator.js\";import{InteractiveToolBase as M}from\"../../views/interactive/InteractiveToolBase.js\";import{fetchMessageBundle as x}from\"../../intl/messages.js\";import{onLocaleChange as I}from\"../../intl/locale.js\";import C from\"../../geometry/Point.js\";import k from\"../../symbols/CIMSymbol.js\";import D from\"../../symbols/TextSymbol.js\";import G from\"../../symbols/Font.js\";import T from\"../../symbols/SimpleMarkerSymbol.js\";import P from\"../../geometry/Polyline.js\";import R from\"../../geometry/SpatialReference.js\";const W=1e5;let E=class extends M{constructor(e){super(e),this._drawActive=!1,this._handles=new s,this._measurementLayer=new w({internal:!0,listMode:\"hide\",visible:!1}),this._manipulatorLayer=new w({internal:!0,listMode:\"hide\",visible:!1}),this._vertices=[],this.geodesicDistanceThreshold=1e5,this.measurement=null,this.measurementLabel=null}initialize(){x(\"esri/core/t9n/Units\").then((e=>{this.messages=e})),this._handles.add(I((async()=>{this.messages=await x(\"esri/core/t9n/Units\")})));const e=this.view;this._draw=new b({view:e}),e.map.addMany([this._measurementLayer,this._manipulatorLayer]),e.focus(),this._handles.add([r((()=>[this.unit,this.geodesicDistanceThreshold,this.palette,this.messages]),(()=>{this._vertices.length>0&&this._updatePolylines()}),o)])}destroy(){const{map:e}=this.view;this._draw.view=null,this._draw=i(this._draw),e.removeMany([this._measurementLayer,this._manipulatorLayer]),this._handles.removeAll(),this._measurementLayer.removeAll(),this._manipulatorLayer.removeAll(),this._set(\"measurement\",null),this._set(\"measurementLabel\",null),this._handles=i(this._handles),this._measurementLayer=i(this._measurementLayer),this._manipulatorLayer=i(this._manipulatorLayer)}get cursor(){return this._drawActive?\"crosshair\":null}set editable(e){this._set(\"editable\",e),e||this._draw.reset()}onActivate(){this._drawActive||0!==this._vertices.length||this._startSketch()}onShow(){this._measurementLayer.visible=!0,this._manipulatorLayer.visible=!0}onHide(){this._measurementLayer.visible=!1,this._manipulatorLayer.visible=!1}reset(){this._vertices=[],this._measurementLayer.removeAll(),this._set(\"measurement\",null),this._set(\"measurementLabel\",null),this._draw.reset(),this._drawActive=!1,this._updateSketch([])}_startSketch(){this._drawActive=!0;const e=this._draw.create(\"polyline\",{mode:\"click\"});e.on([\"vertex-add\",\"vertex-update\",\"vertex-remove\",\"cursor-update\",\"undo\",\"redo\"],(e=>this._updateSketch(e.vertices))),e.on(\"draw-complete\",(()=>{this._stopSketch()}))}_stopSketch(){this.manipulators.forEach((e=>{e.manipulator.interactive=!0})),this._drawActive=!1,this.finishToolCreation()}_updateSketch(e){if(e.length<2)return this._vertices=[],this.manipulators.removeAll(),void this._measurementLayer.removeAll();const{spatialReference:t}=this.view;for(;this._vertices.length>e.length;){const{manipulatorId:e}=this._vertices.pop();this.manipulators.remove(e)}for(let n=this._vertices.length;n<e.length;n++){const[s,i]=e[n],r=U(new C({x:s,y:i,spatialReference:t}),this.view,this._manipulatorLayer,this.palette),o=this.manipulators.add(r);j(r,((e,t)=>{t.next(S(this.view)).next(L(e.graphic,g.Local)).next((()=>{const t=e.graphic.geometry;this._vertices[n].coord=[t.x,t.y],this._updatePolylines()}))})),this._vertices.push({manipulatorId:o,coord:[s,i]})}const s=this._vertices.length-1,i=this._vertices[s],[r,o]=e[s];if(i.coord[0]!==r||i.coord[1]!==o){i.coord=[r,o];const e=new C({x:r,y:o,spatialReference:t});this.manipulators.findById(i.manipulatorId).graphic.geometry=e}const a=this._drawActive?this._vertices[s].manipulatorId:null;this.manipulators.forEach((e=>{e.manipulator.interactive=null==a||e.id!==a})),this._updatePolylines()}_updatePolylines(){const e=this._vertices.map((e=>e.coord)),{measurement:s,drawing:i,original:r}=z(e,this.view.spatialReference,this.geodesicDistanceThreshold);this._set(\"measurement\",s);const o=F(this.messages,s,this.unit);let a,n;this._set(\"measurementLabel\",o);const{graphics:l}=this._measurementLayer;if(2===l.length)a=l.getItemAt(0),n=l.getItemAt(1);else{const{pathPrimaryColor:e,pathSecondaryColor:s,pathWidth:i}=this.palette;a=new t({symbol:new k({data:{type:\"CIMSymbolReference\",symbol:{type:\"CIMLineSymbol\",symbolLayers:[{type:\"CIMSolidStroke\",effects:[{type:\"CIMGeometricEffectDashes\",dashTemplate:[14,12],lineDashEnding:\"FullGap\",controlPointEnding:\"NoConstraint\"}],enable:!0,capStyle:\"Butt\",joinStyle:\"Round\",width:i-1.5,color:s},{type:\"CIMSolidStroke\",enable:!0,capStyle:\"Butt\",joinStyle:\"Round\",width:i,color:e}]}}})}),n=new t({symbol:new D({color:[255,255,255,1],haloColor:[0,0,0,.5],haloSize:2,font:new G({size:14,family:\"sans-serif\"})})}),l.removeAll(),l.addMany([a,n])}a.geometry=i,n.geometry=r.extent.center,n.symbol.text=o}};function U(e,s,i,r){const o=new T({style:\"circle\",color:r.handleColor,size:r.handleWidth,outline:{type:\"simple-line\",width:0}}),a=new T({style:\"circle\",color:r.handleColor,size:1.5*r.handleWidth,outline:{type:\"simple-line\",width:0}}),n=new t({geometry:e,symbol:o});return new A({view:s,layer:i,graphic:n,focusedSymbol:a})}function z(e,t,s){const i=new P({paths:[e],spatialReference:t});let r,o;if(t.isGeographic)if(v(t))r=_([i],\"meters\")[0],o=f(i,W);else{const e=y(i,R.WGS84),s=f(e,W);r=_([e],\"meters\")[0],o=y(s,t)}else if(t.isWebMercator)r=p(i,\"meters\"),o=d(i,W,\"meters\");else{const e=u(i,\"meters\");if(e>=s){const e=y(i,R.WGS84),s=f(e,W);r=_([e],\"meters\")[0],o=y(s,t)}else r=e,o=i}return{measurement:{geometry:o,length:r},original:i,drawing:o}}function B(e){return null!=e}function O(e){if(!e)return!1;const{isGeographic:t,isWebMercator:s,isWGS84:i}=e;return t&&!i&&!v(e)||!t&&!s}function F(e,t,s){if(!t||!e)return null;switch(s){case\"metric\":return l(e,t.length,\"meters\");case\"imperial\":return n(e,t.length,\"meters\");default:return a(e,m(t.length,\"meters\",s),s)}}e([h()],E.prototype,\"_drawActive\",void 0),e([h({readOnly:!0})],E.prototype,\"cursor\",null),e([h({value:!0})],E.prototype,\"editable\",null),e([h({type:Number})],E.prototype,\"geodesicDistanceThreshold\",void 0),e([h({readOnly:!0})],E.prototype,\"measurement\",void 0),e([h({readOnly:!0})],E.prototype,\"measurementLabel\",void 0),e([h()],E.prototype,\"messages\",void 0),e([h()],E.prototype,\"palette\",void 0),e([h()],E.prototype,\"unit\",void 0),e([h({constructOnly:!0})],E.prototype,\"view\",void 0),E=e([c(\"esri.widgets.DistanceMeasurement2D.DistanceMeasurement2DTool\")],E);export{E as DistanceMeasurement2DTool,z as createDistanceMeasurementInfo2D,F as createDistanceMeasurementLabel,O as isProjectionEngineRequired,B as isSupported};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Handles.js\";import{isSome as i,isNone as s,unwrap as o}from\"../../core/maybe.js\";import{watch as r,initial as a,whenOnce as n}from\"../../core/reactiveUtils.js\";import{measurementLengthUnits as l}from\"../../core/unitUtils.js\";import{property as h}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import{load as d}from\"../../geometry/projection.js\";import{defaultUnitPropertyMetadata as u}from\"../../properties/defaultUnit.js\";import{isSupported as c,isProjectionEngineRequired as m,DistanceMeasurement2DTool as v}from\"./DistanceMeasurement2DTool.js\";import{InteractiveToolViewModel as y}from\"../support/InteractiveToolViewModel.js\";const f={handleWidth:8,handleColor:[255,128,0,.5],pathWidth:5,pathPrimaryColor:[255,128,0,255],pathSecondaryColor:[255,255,255,255]};let g=class extends y{constructor(t){super(t),this.supportedViewType=\"2d\",this.unsupportedErrorMessage=\"DistanceMeasurement2DViewModel is only supported in 2D views.\",this._handles=new e,this.geodesicDistanceThreshold=1e5,this.measurement=null,this.measurementLabel=null,this.palette=f}initialize(){this._handles.add([r((()=>o(this.view)?.spatialReference),(()=>this.clear())),r((()=>this.unit),(t=>{i(this.tool)&&(this.tool.unit=t)}),a),r((()=>this.geodesicDistanceThreshold),(t=>{i(this.tool)&&(this.tool.geodesicDistanceThreshold=t)}),a),r((()=>this.palette),(t=>{i(this.tool)&&(this.tool.palette=t)}),a)])}destroy(){this._handles&&(this._handles.destroy(),this._handles=null)}get state(){return this.disabled||s(this.view)||!c(this.view?.spatialReference)?\"disabled\":i(this.tool)&&this.measurement?this.tool.active?\"measuring\":\"measured\":\"ready\"}get unit(){return this._validateUnit(this.defaultUnit)}set unit(t){void 0!==t?this._override(\"unit\",this._validateUnit(t)):this._clearOverride(\"unit\")}get unitOptions(){return l}set unitOptions(t){void 0!==t?this._override(\"unitOptions\",this._validateUnits(t)):this._clearOverride(\"unitOptions\")}async start(){const t=this.view;i(t)&&(await n((()=>t.ready)),m(t.spatialReference)&&await d()),this.createTool({interactive:!0})}clear(){this.removeTool()}constructTool(){return new v({view:o(this.view),visible:this.visible,geodesicDistanceThreshold:this.geodesicDistanceThreshold,palette:this.palette,unit:this.unit})}_validateUnit(t){return this.unitOptions.includes(t)?t:this.unitOptions.includes(this.defaultUnit)?this.defaultUnit:this.unitOptions[0]}_validateUnits(t=[]){const e=t.filter((t=>l.includes(t)));return 0===e.length?l.slice():e}};t([h(u)],g.prototype,\"defaultUnit\",void 0),t([h({type:Number})],g.prototype,\"geodesicDistanceThreshold\",void 0),t([h({readOnly:!0,aliasOf:\"tool.measurement\"})],g.prototype,\"measurement\",void 0),t([h({readOnly:!0,aliasOf:\"tool.measurementLabel\"})],g.prototype,\"measurementLabel\",void 0),t([h()],g.prototype,\"palette\",void 0),t([h({readOnly:!0})],g.prototype,\"state\",null),t([h({type:String})],g.prototype,\"unit\",null),t([h({type:[String]})],g.prototype,\"unitOptions\",null),g=t([p(\"esri.widgets.DistanceMeasurement2D.DistanceMeasurement2DViewModel\")],g);const w=g;export{w as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import{ignoreAbortErrors as t}from\"../core/promiseUtils.js\";import{isMeasurementSystem as s}from\"../core/unitUtils.js\";import{aliasOf as i}from\"../core/accessorSupport/decorators/aliasOf.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import{property as n}from\"../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../core/accessorSupport/decorators/subclass.js\";import a from\"./Widget.js\";import o from\"./DistanceMeasurement2D/DistanceMeasurement2DViewModel.js\";import{accessibleHandler as l}from\"./support/decorators/accessibleHandler.js\";import{messageBundle as u}from\"./support/decorators/messageBundle.js\";import{tsx as m}from\"./support/jsxFactory.js\";import\"./support/widgetUtils.js\";const c=\"esri-distance-measurement-2d\",p={buttonDisabled:\"esri-button--disabled\",widgetIcon:\"esri-icon-measure-line\",base:`${c} esri-widget esri-widget--panel`,container:`${c}__container`,hint:`${c}__hint`,hintText:`${c}__hint-text`,panelError:`${c}__panel--error`,measurement:`${c}__measurement`,measurementItem:`${c}__measurement-item`,measurementItemDisabled:`${c}__measurement-item--disabled`,measurementItemTitle:`${c}__measurement-item-title`,measurementItemValue:`${c}__measurement-item-value`,settings:`${c}__settings`,units:`${c}__units`,unitsLabel:`${c}__units-label`,unitsSelect:`${c}__units-select esri-select`,unitsSelectWrapper:`${c}__units-select-wrapper`,actionSection:`${c}__actions`,newMeasurementButton:`${c}__clear-button esri-button esri-button--primary`};let d=class extends a{constructor(e,t){super(e,t),this.iconClass=p.widgetIcon,this.label=void 0,this.messages=null,this.messagesUnits=null,this.unit=null,this.unitOptions=null,this.view=null,this.viewModel=new o}render(){const{id:e,messages:t,messagesUnits:i,viewModel:n,visible:r}=this,{active:a,supported:o,measurementLabel:l,state:u,unit:c,unitOptions:d}=n,v=\"disabled\"===u,b=\"measuring\"===u||\"measured\"===u,_=a&&\"ready\"===u?m(\"section\",{key:\"hint\",class:p.hint},m(\"p\",{class:p.hintText},t.hint)):null,w=o?null:m(\"section\",{key:\"unsupported\",class:p.panelError},m(\"p\",null,t.unsupported)),h=(e,t,s)=>t?m(\"div\",{key:`${s}-enabled`,class:p.measurementItem},m(\"span\",{class:p.measurementItemTitle},e),m(\"span\",{class:p.measurementItemValue},t)):m(\"div\",{key:`${s}-disabled`,class:this.classes(p.measurementItem,p.measurementItemDisabled),\"aria-disabled\":\"true\"},m(\"span\",{class:p.measurementItemTitle},e)),y=b?m(\"section\",{key:\"measurement\",class:p.measurement},h(t.distance,l,\"distance\")):null,g=`${e}-units`,M=b?m(\"section\",{key:\"units\",class:p.units},m(\"label\",{class:p.unitsLabel,for:g},t.unit),m(\"div\",{class:p.unitsSelectWrapper},m(\"select\",{class:p.unitsSelect,id:g,onchange:this._changeUnit,bind:this,value:c},d.map((e=>m(\"option\",{key:e,value:e},s(e)?i.systems[e]:i.units[e]?.pluralCapitalized)))))):null,$=b?m(\"div\",{key:\"settings\",class:p.settings},M):null,j=!o||a&&!b?null:m(\"div\",{class:p.actionSection},m(\"button\",{disabled:v,class:this.classes(p.newMeasurementButton,v&&p.buttonDisabled),bind:this,onclick:this._newMeasurement,title:t.newMeasurement,\"aria-label\":t.newMeasurement,type:\"button\"},t.newMeasurement)),f=r?m(\"div\",{class:p.container},w,_,$,y,j):null;return m(\"div\",{class:p.base},f)}_newMeasurement(){t(this.viewModel.start())}_changeUnit(e){const t=e.target,s=t.options[t.selectedIndex];s&&(this.viewModel.unit=s.value)}};e([i(\"viewModel.active\")],d.prototype,\"active\",void 0),e([n()],d.prototype,\"iconClass\",void 0),e([n({aliasOf:{source:\"messages.widgetLabel\",overridable:!0}})],d.prototype,\"label\",void 0),e([n()],d.prototype,\"uiStrings\",void 0),e([n(),u(\"esri/widgets/DistanceMeasurement2D/t9n/DistanceMeasurement2D\")],d.prototype,\"messages\",void 0),e([n(),u(\"esri/core/t9n/Units\")],d.prototype,\"messagesUnits\",void 0),e([i(\"viewModel.unit\")],d.prototype,\"unit\",void 0),e([i(\"viewModel.unitOptions\")],d.prototype,\"unitOptions\",void 0),e([i(\"viewModel.view\")],d.prototype,\"view\",void 0),e([n({type:o})],d.prototype,\"viewModel\",void 0),e([i(\"viewModel.visible\")],d.prototype,\"visible\",void 0),e([l()],d.prototype,\"_newMeasurement\",null),e([l()],d.prototype,\"_changeUnit\",null),d=e([r(\"esri.widgets.DistanceMeasurement2D\")],d);const v=d;export{v as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import o from\"../../core/Handles.js\";import s from\"../../core/Logger.js\";import{isSome as r,destroyMaybe as i,isNone as l,applySome as p}from\"../../core/maybe.js\";import{watch as a,syncAndInitial as h,when as n}from\"../../core/reactiveUtils.js\";import{property as d}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as c}from\"../../core/accessorSupport/decorators/subclass.js\";let v=class extends t{constructor(e){super(e),this.tool=null,this._baseHandles=new o,this._loggedUnsupportedErrorOnce=!1,this.logger=s.getLogger(this.declaredClass),e&&null!=e.visible&&(this.visible=e.visible)}initialize(){this._baseHandles.add(a((()=>({ready:r(this.view)&&this.view.ready,supported:this.supported})),(({ready:e,supported:t})=>{!e||t||this._loggedUnsupportedErrorOnce||(this.logError(this.unsupportedErrorMessage),this._loggedUnsupportedErrorOnce=!0)}),h))}destroy(){this.removeTool(),this.view=null,this._baseHandles=i(this._baseHandles)}get supported(){return l(this.view)||this.view.type===this.supportedViewType}get view(){return this._get(\"view\")}set view(e){if(e===this.view)return;this.removeTool(),this._set(\"view\",e);const t=\"tools\";this._baseHandles.remove(t),l(e)||this._baseHandles.add(e.tools.on(\"after-remove\",(e=>{e.item===this.tool&&this._set(\"tool\",null)})),t)}set visible(e){this._set(\"visible\",e),r(this.tool)&&(this.tool.visible=e)}get active(){return r(this.tool)&&this.tool.active}get disabled(){return l(this.view)||!this.view.ready||!this.supported}createTool(e={interactive:!1}){if(this.removeTool(),l(this.view)||!this.view.ready||!this.supported)return;const t=this.constructTool();t.created?(this._set(\"tool\",t),this.view.tools.add(t)):e.interactive?(this._set(\"tool\",t),this.view.addAndActivateTool(t),n((()=>t.created),(()=>{t.active&&r(this.view)&&(this.view.activeTool=null)}),{initial:!0,once:!0})):t.destroy()}removeTool(){const e=this.tool;if(l(e))return;const t=p(this.view,(e=>e.tools));r(t)?t.remove(e):e.destroy(),this._set(\"tool\",null)}logError(...e){this.logger.error(...e)}};e([d({constructOnly:!0})],v.prototype,\"tool\",void 0),e([d()],v.prototype,\"supported\",null),e([d({value:null})],v.prototype,\"view\",null),e([d({type:Boolean,value:!0})],v.prototype,\"visible\",null),e([d()],v.prototype,\"active\",null),e([d()],v.prototype,\"disabled\",null),v=e([c(\"esri.widgets.support.InteractiveToolViewModel\")],v);export{v as InteractiveToolViewModel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import{isSome as e,isNone as t}from\"../../core/maybe.js\";import{getMetersPerUnitForSR as r}from\"../../core/unitUtils.js\";import{calculateTolerance as n}from\"../../renderers/support/clickToleranceUtils.js\";import i from\"../../geometry/Extent.js\";function a(t,n,a,o=new i){let s;if(\"2d\"===a.type)s=n*a.resolution;else if(\"3d\"===a.type){const i=a.overlayPixelSizeInMapUnits(t),o=a.basemapSpatialReference;s=e(o)&&!o.equals(a.spatialReference)?r(o)/r(a.spatialReference):n*i}const m=t.x-s,p=t.y-s,c=t.x+s,l=t.y+s,{spatialReference:f}=a;return o.xmin=Math.min(m,c),o.ymin=Math.min(p,l),o.xmax=Math.max(m,c),o.ymax=Math.max(p,l),o.spatialReference=f,o}function o(e,r,i){const o=i.toMap(e);if(t(o))return!1;return a(o,n(),i,s).intersects(r)}const s=new i;export{a as createQueryGeometry,o as intersectsDrapedGeometry};\n"],"sourceRoot":""}