{"version":3,"sources":["webpack:///./node_modules/@arcgis/core/core/multiOriginJSONSupportUtils.js","webpack:///./node_modules/@arcgis/core/layers/support/I3SLayerDefinitions.js","webpack:///./node_modules/@arcgis/core/layers/support/I3SIndexInfo.js","webpack:///./node_modules/@arcgis/core/webdoc/support/saveUtils.js","webpack:///./node_modules/@arcgis/core/layers/mixins/SceneService.js","webpack:///./node_modules/@arcgis/core/portal/support/resourceExtension.js","webpack:///./node_modules/@arcgis/core/core/accessorSupport/decorators/persistable.js","webpack:///./node_modules/@arcgis/core/core/accessorSupport/originUtils.js","webpack:///./node_modules/@arcgis/core/layers/support/SceneModification.js","webpack:///./node_modules/@arcgis/core/layers/support/SceneModifications.js","webpack:///./node_modules/@arcgis/core/layers/IntegratedMeshLayer.js","webpack:///./node_modules/@arcgis/core/portal/support/resourceUtils.js"],"names":["i","s","t","constructor","super","arguments","this","nodesPerPage","rootIndex","lodSelectionMetricType","e","o","type","Number","prototype","String","p","factor","json","read","source","a","baseColorFactor","baseColorTexture","metallicRoughnessTexture","metallicFactor","roughnessFactor","l","alphaMode","alphaCutoff","doubleSided","cullFace","normalTexture","occlusionTexture","emissiveTexture","emissiveFactor","pbrMetallicRoughness","r","opaque","mask","blend","Boolean","none","back","front","n","reader","index","jpg","png","dds","ktx2","basis","u","atlas","y","Float32","UInt64","UInt32","UInt16","UInt8","d","draco","c","offset","m","triangle","async","Math","floor","rootPage","query","f","token","responseType","signal","data","pageSize","lodMetric","urlPrefix","warn","split","pop","rootNode","pageError","nodeError","url","resources","h","portalItem","Set","paths","length","toKeep","map","resource","path","forEach","delete","push","toUpdate","has","content","finish","error","add","toAdd","resourceFromPath","removeResource","catch","filter","errors","addResource","ok","update","R","getLogger","A","spatialReference","fullExtent","heightModelInfo","minScale","maxScale","version","major","NaN","minor","versionString","copyright","sublayerTitleMode","title","layerId","indexInfo","_debouncedSaveOperations","K","SAVE","_save","SAVE_AS","_saveAs","readSpatialReference","_readSpatialReference","fromJSON","store","indexCRS","geographicCRS","parseInt","substring","lastIndexOf","readFullExtent","extent","Array","isArray","some","N","xmin","ymin","xmax","ymax","parseVersionString","readVersion","toString","readTitlePortalItem","readTitleService","name","v","S","layer","nonStandardUrlAllowed","logger","_set","writeUrl","g","_get","x","parsedUrl","apiKey","hasZ","_updateExtent","nodes","obb","center","halfSize","sqrt","zmin","zmax","mbs","test","_fetchFirstLayerId","_fetchServiceLayer","layers","id","ssl","replace","layerType","_fetchVoxelServiceLayer","origin","validateLayer","load","beforeSave","_updateTypeKeywords","typeKeywords","getTypeKeywords","indexOf","U","newItem","O","j","from","Promise","reject","clone","portal","b","getDefault","_ensureLoadBeforeSave","T","messages","writtenProperties","blockedRelativeUrls","pendingOperations","write","all","_validateAgainstJSONSchema","_signIn","user","addItem","item","folder","_","resourceReferences","itemUrl","existingItem","message","details","validationOptions","ignoreUnsupported","enabled","E","validate","portalItemLayerType","join","failPolicy","concat","combined","w","readOnly","origins","service","target","isRequired","ignoreOrigin","I","Blob","jpeg","bmp","gif","txt","xml","svg","zip","pbf","gz","writer","verifyItemRelativeUrls","writtenUrls","rootPath","NO","originIdOf","P","then","itemRelativeUrl","JSON","stringify","toJSON","default","propName","newOrigin","originOf","updateOrigin","geometry","writeGeometry","equals","modification","context","nonNullable","ofType","items","toArray","_handles","geometryType","operationalLayerType","nodePages","materialDefinitions","textureSetDefinitions","geometryDefinitions","serviceUpdateTimeStamp","profile","modifications","_modificationsSource","elevationInfo","destroy","initialize","normalizeCtorArgs","readModifications","M","addResolvingPromise","_doLoad","loadFromPortal","supportedTypes","_fetchService","fromUrl","setAtOrigin","_fetchIndexAndUpdateExtent","_getTypeKeywords","isNaN","serviceVersion","supportedVersions","L","prefix","start","num","sortOrder","sortField","_request","total","nextStart","created","size","Date","hasPath","userItemUrl","FormData","append","access","method","body","deleteAll","slice"],"mappings":"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","file":"js/chunk-69b3b5db.138f11f7.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nfunction i(i){return i&&\"getAtOrigin\"in i&&\"originOf\"in i}export{i as isMultiOriginJSONMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{JSONSupport as t}from\"../../core/JSONSupport.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{enumeration as r}from\"../../core/accessorSupport/decorators/enumeration.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";let s=class extends t{constructor(){super(...arguments),this.nodesPerPage=null,this.rootIndex=0,this.lodSelectionMetricType=null}};e([o({type:Number})],s.prototype,\"nodesPerPage\",void 0),e([o({type:Number})],s.prototype,\"rootIndex\",void 0),e([o({type:String})],s.prototype,\"lodSelectionMetricType\",void 0),s=e([p(\"esri.layer.support.I3SNodePageDefinition\")],s);let i=class extends t{constructor(){super(...arguments),this.factor=1}};e([o({type:Number,json:{read:{source:\"textureSetDefinitionId\"}}})],i.prototype,\"id\",void 0),e([o({type:Number})],i.prototype,\"factor\",void 0),i=e([p(\"esri.layer.support.I3SMaterialTexture\")],i);let a=class extends t{constructor(){super(...arguments),this.baseColorFactor=[1,1,1,1],this.baseColorTexture=null,this.metallicRoughnessTexture=null,this.metallicFactor=1,this.roughnessFactor=1}};e([o({type:[Number]})],a.prototype,\"baseColorFactor\",void 0),e([o({type:i})],a.prototype,\"baseColorTexture\",void 0),e([o({type:i})],a.prototype,\"metallicRoughnessTexture\",void 0),e([o({type:Number})],a.prototype,\"metallicFactor\",void 0),e([o({type:Number})],a.prototype,\"roughnessFactor\",void 0),a=e([p(\"esri.layer.support.I3SMaterialPBRMetallicRoughness\")],a);let l=class extends t{constructor(){super(...arguments),this.alphaMode=\"opaque\",this.alphaCutoff=.25,this.doubleSided=!1,this.cullFace=\"none\",this.normalTexture=null,this.occlusionTexture=null,this.emissiveTexture=null,this.emissiveFactor=null,this.pbrMetallicRoughness=null}};e([r({opaque:\"opaque\",mask:\"mask\",blend:\"blend\"})],l.prototype,\"alphaMode\",void 0),e([o({type:Number})],l.prototype,\"alphaCutoff\",void 0),e([o({type:Boolean})],l.prototype,\"doubleSided\",void 0),e([r({none:\"none\",back:\"back\",front:\"front\"})],l.prototype,\"cullFace\",void 0),e([o({type:i})],l.prototype,\"normalTexture\",void 0),e([o({type:i})],l.prototype,\"occlusionTexture\",void 0),e([o({type:i})],l.prototype,\"emissiveTexture\",void 0),e([o({type:[Number]})],l.prototype,\"emissiveFactor\",void 0),e([o({type:a})],l.prototype,\"pbrMetallicRoughness\",void 0),l=e([p(\"esri.layer.support.I3SMaterialDefinition\")],l);let n=class extends t{};e([o({type:String,json:{read:{source:[\"name\",\"index\"],reader:(e,t)=>null!=e?e:`${t.index}`}}})],n.prototype,\"name\",void 0),e([r({jpg:\"jpg\",png:\"png\",dds:\"dds\",\"ktx-etc2\":\"ktx-etc2\",ktx2:\"ktx2\",basis:\"basis\"})],n.prototype,\"format\",void 0),n=e([p(\"esri.layer.support.I3STextureFormat\")],n);let u=class extends t{constructor(){super(...arguments),this.atlas=!1}};e([o({type:[n]})],u.prototype,\"formats\",void 0),e([o({type:Boolean})],u.prototype,\"atlas\",void 0),u=e([p(\"esri.layer.support.I3STextureSetDefinition\")],u);let y=class extends t{};e([r({Float32:\"Float32\",UInt64:\"UInt64\",UInt32:\"UInt32\",UInt16:\"UInt16\",UInt8:\"UInt8\"})],y.prototype,\"type\",void 0),e([o({type:Number})],y.prototype,\"component\",void 0),y=e([p(\"esri.layer.support.I3SGeometryAttribute\")],y);let d=class extends t{};e([r({draco:\"draco\"})],d.prototype,\"encoding\",void 0),e([o({type:[String]})],d.prototype,\"attributes\",void 0),d=e([p(\"esri.layer.support.I3SGeometryCompressedAttributes\")],d);let c=class extends t{constructor(){super(...arguments),this.offset=0}};e([o({type:Number})],c.prototype,\"offset\",void 0),e([o({type:y})],c.prototype,\"position\",void 0),e([o({type:y})],c.prototype,\"normal\",void 0),e([o({type:y})],c.prototype,\"uv0\",void 0),e([o({type:y})],c.prototype,\"color\",void 0),e([o({type:y})],c.prototype,\"uvRegion\",void 0),e([o({type:y})],c.prototype,\"featureId\",void 0),e([o({type:y})],c.prototype,\"faceRange\",void 0),e([o({type:d})],c.prototype,\"compressedAttributes\",void 0),c=e([p(\"esri.layer.support.I3SGeometryBuffer\")],c);let m=class extends t{};e([r({triangle:\"triangle\"})],m.prototype,\"topology\",void 0),e([o()],m.prototype,\"geometryBuffers\",void 0),m=e([p(\"esri.layer.support.I3SGeometryDefinition\")],m);export{y as I3SGeometryAttribute,c as I3SGeometryBuffer,d as I3SGeometryCompressedAttributes,m as I3SGeometryDefinition,l as I3SMaterialDefinition,a as I3SMaterialPBRMetallicRoughness,i as I3SMaterialTexture,s as I3SNodePageDefinition,n as I3STextureFormat,u as I3STextureSetDefinition};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import o from\"../../core/Error.js\";import{isSome as r}from\"../../core/maybe.js\";async function n(n,t,s,a,i,d){let l=null;if(r(s)){const o=`${n}/nodepages/`,t=o+Math.floor(s.rootIndex/s.nodesPerPage);try{return{type:\"page\",rootPage:(await e(t,{query:{f:\"json\",token:a},responseType:\"json\",signal:d})).data,rootIndex:s.rootIndex,pageSize:s.nodesPerPage,lodMetric:s.lodSelectionMetricType,urlPrefix:o}}catch(f){r(i)&&i.warn(\"#fetchIndexInfo()\",\"Failed to load root node page. Falling back to node documents.\",t,f),l=f}}if(!t)return null;const p=`${n}/nodes/`,c=p+(t&&t.split(\"/\").pop());try{return{type:\"node\",rootNode:(await e(c,{query:{f:\"json\",token:a},responseType:\"json\",signal:d})).data,urlPrefix:p}}catch(f){throw new o(\"sceneservice:root-node-missing\",\"Root node missing.\",{pageError:l,nodeError:f,url:c})}}export{n as fetchIndexInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{result as r}from\"../../core/asyncUtils.js\";import e from\"../../core/Error.js\";import{eachAlways as o,throwIfAborted as t}from\"../../core/promiseUtils.js\";import{generateUUID as s}from\"../../core/uuid.js\";import{getSiblingOfSameTypeI as c}from\"../../portal/support/resourceUtils.js\";async function a(r,a,u){if(!a||!a.resources)return;const h=a.portalItem===r.portalItem?new Set(r.paths):new Set;r.paths.length=0,r.portalItem=a.portalItem;const i=new Set(a.resources.toKeep.map((r=>r.resource.path))),f=new Set,m=[];i.forEach((e=>{h.delete(e),r.paths.push(e)}));for(const e of a.resources.toUpdate)if(h.delete(e.resource.path),i.has(e.resource.path)||f.has(e.resource.path)){const{resource:o,content:t,finish:a,error:p}=e,h=c(o,s());r.paths.push(h.path),m.push(n({resource:h,content:t,finish:a,error:p},u))}else r.paths.push(e.resource.path),m.push(p(e,u)),f.add(e.resource.path);for(const e of a.resources.toAdd)m.push(n(e,u)),r.paths.push(e.resource.path);if(h.forEach((r=>{const e=a.portalItem.resourceFromPath(r);m.push(e.portalItem.removeResource(e).catch((()=>{})))})),0===m.length)return;const l=await o(m);t(u);const d=l.filter((r=>\"error\"in r)).map((r=>r.error));if(d.length>0)throw new e(\"save:resources\",\"Failed to save one or more resources\",{errors:d})}async function n(e,o){const t=await r(e.resource.portalItem.addResource(e.resource,e.content,o));if(!0!==t.ok)throw e.error&&e.error(t.error),t.error;e.finish&&e.finish(e.resource)}async function p(e,o){const t=await r(e.resource.update(e.content,o));if(!0!==t.ok)throw e.error(t.error),t.error;e.finish(e.resource)}export{a as saveResources};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../request.js\";import r from\"../../core/Error.js\";import\"../../core/has.js\";import i from\"../../core/Logger.js\";import{isSome as o}from\"../../core/maybe.js\";import{debounce as s}from\"../../core/promiseUtils.js\";import{urlToObject as a}from\"../../core/urlUtils.js\";import{property as n}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{reader as l}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as c}from\"../../core/accessorSupport/decorators/writer.js\";import{updateOrigins as d}from\"../../core/accessorSupport/originUtils.js\";import u from\"../../geometry/Extent.js\";import m from\"../../geometry/HeightModelInfo.js\";import y from\"../../geometry/SpatialReference.js\";import{titleFromUrlAndName as h,parse as f,cleanTitle as v,sanitizeUrlWithLayerId as S,writeUrlWithLayerId as g}from\"../support/arcgisLayerUrl.js\";import{id as w,url as I}from\"../support/commonProperties.js\";import{fetchIndexInfo as x}from\"../support/I3SIndexInfo.js\";import b from\"../../portal/Portal.js\";import j from\"../../portal/PortalItem.js\";import{saveResources as _}from\"../../webdoc/support/saveUtils.js\";const R=i.getLogger(\"esri.layers.mixins.SceneService\"),A=i=>{let A=class extends i{constructor(){super(...arguments),this.spatialReference=null,this.fullExtent=null,this.heightModelInfo=null,this.minScale=0,this.maxScale=0,this.version={major:Number.NaN,minor:Number.NaN,versionString:\"\"},this.copyright=null,this.sublayerTitleMode=\"item-title\",this.title=null,this.layerId=null,this.indexInfo=null,this._debouncedSaveOperations=s((async(e,t,r)=>{switch(e){case K.SAVE:return this._save(t);case K.SAVE_AS:return this._saveAs(r,t)}}))}readSpatialReference(e,t){return this._readSpatialReference(t)}_readSpatialReference(e){if(null!=e.spatialReference)return y.fromJSON(e.spatialReference);{const t=e.store,r=t.indexCRS||t.geographicCRS,i=r&&parseInt(r.substring(r.lastIndexOf(\"/\")+1,r.length),10);return null!=i?new y(i):null}}readFullExtent(e,t,r){if(null!=e&&\"object\"==typeof e){const i=null==e.spatialReference?{...e,spatialReference:this._readSpatialReference(t)}:e;return u.fromJSON(i,r)}const i=t.store,o=this._readSpatialReference(t);return null==o||null==i||null==i.extent||!Array.isArray(i.extent)||i.extent.some((e=>e<N))?null:new u({xmin:i.extent[0],ymin:i.extent[1],xmax:i.extent[2],ymax:i.extent[3],spatialReference:o})}parseVersionString(e){const t={major:Number.NaN,minor:Number.NaN,versionString:e},r=e.split(\".\");return r.length>=2&&(t.major=parseInt(r[0],10),t.minor=parseInt(r[1],10)),t}readVersion(e,t){const r=t.store,i=null!=r.version?r.version.toString():\"\";return this.parseVersionString(i)}readTitlePortalItem(e){return\"item-title\"!==this.sublayerTitleMode?void 0:e}readTitleService(e,t){const r=this.portalItem&&this.portalItem.title;if(\"item-title\"===this.sublayerTitleMode)return h(this.url,t.name);let i=t.name;if(!i&&this.url){const e=f(this.url);o(e)&&(i=e.title)}return\"item-title-and-service-name\"===this.sublayerTitleMode&&r&&(i=r+\" - \"+i),v(i)}set url(e){const t=S({layer:this,url:e,nonStandardUrlAllowed:!1,logger:R});this._set(\"url\",t.url),null!=t.layerId&&this._set(\"layerId\",t.layerId)}writeUrl(e,t,r,i){g(this,e,\"layers\",t,i)}get parsedUrl(){const e=this._get(\"url\");if(!e)return null;const t=a(e);return null!=this.layerId&&(t.path=`${t.path}/layers/${this.layerId}`),t}async _fetchIndexAndUpdateExtent(e,t){this.indexInfo=x(this.parsedUrl.path,this.rootNode,e,this.apiKey,R,t),null==this.fullExtent||this.fullExtent.hasZ||this._updateExtent(await this.indexInfo)}_updateExtent(e){if(\"page\"===e?.type){const t=e.rootIndex%e.pageSize,i=e.rootPage?.nodes?.[t];if(null==i||null==i.obb||null==i.obb.center||null==i.obb.halfSize)throw new r(\"sceneservice:invalid-node-page\",\"Invalid node page.\");if(i.obb.center[0]<N||null==this.fullExtent||this.fullExtent.hasZ)return;const o=i.obb.halfSize,s=i.obb.center[2],a=Math.sqrt(o[0]*o[0]+o[1]*o[1]+o[2]*o[2]);this.fullExtent.zmin=s-a,this.fullExtent.zmax=s+a}else if(\"node\"===e?.type){const t=e.rootNode?.mbs;if(!Array.isArray(t)||4!==t.length||t[0]<N)return;const r=t[2],i=t[3];this.fullExtent.zmin=r-i,this.fullExtent.zmax=r+i}}async _fetchService(e){if(null==this.url)throw new r(\"sceneservice:url-not-set\",\"Scene service can not be loaded without valid portal item or url\");if(null==this.layerId&&/SceneServer\\/*$/i.test(this.url)){const t=await this._fetchFirstLayerId(e);null!=t&&(this.layerId=t)}return this._fetchServiceLayer(e)}async _fetchFirstLayerId(e){const r=await t(this.url,{query:{f:\"json\",token:this.apiKey},responseType:\"json\",signal:e});if(r.data&&Array.isArray(r.data.layers)&&r.data.layers.length>0)return r.data.layers[0].id}async _fetchServiceLayer(e){const r=await t(this.parsedUrl.path,{query:{f:\"json\",token:this.apiKey},responseType:\"json\",signal:e});r.ssl&&(this.url=this.url.replace(/^http:/i,\"https:\"));let i=!1;if(r.data.layerType&&\"Voxel\"===r.data.layerType&&(i=!0),i)return this._fetchVoxelServiceLayer();const o=r.data;this.read(o,{origin:\"service\",url:this.parsedUrl}),this.validateLayer(o)}async _fetchVoxelServiceLayer(e){const r=(await t(this.parsedUrl.path+\"/layer\",{query:{f:\"json\",token:this.apiKey},responseType:\"json\",signal:e})).data;this.read(r,{origin:\"service\",url:this.parsedUrl}),this.validateLayer(r)}async _ensureLoadBeforeSave(){await this.load(),\"beforeSave\"in this&&\"function\"==typeof this.beforeSave&&await this.beforeSave()}validateLayer(e){}_updateTypeKeywords(e,t,r){e.typeKeywords||(e.typeKeywords=[]);const i=t.getTypeKeywords();for(const o of i)e.typeKeywords.push(o);e.typeKeywords&&(e.typeKeywords=e.typeKeywords.filter(((e,t,r)=>r.indexOf(e)===t)),r===U.newItem&&(e.typeKeywords=e.typeKeywords.filter((e=>\"Hosted Service\"!==e))))}async _saveAs(e,t){const i={...O,...t};let o=j.from(e);o||(R.error(\"_saveAs(): requires a portal item parameter\"),await Promise.reject(new r(\"sceneservice:portal-item-required\",\"_saveAs() requires a portal item to save to\"))),o.id&&(o=o.clone(),o.id=null);const s=o.portal||b.getDefault();await this._ensureLoadBeforeSave(),o.type=T,o.portal=s;const a={origin:\"portal-item\",url:null,messages:[],portal:s,portalItem:o,writtenProperties:[],blockedRelativeUrls:[],resources:{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}},n={layers:[this.write({},a)]};return await Promise.all(a.resources.pendingOperations),await this._validateAgainstJSONSchema(n,a,i),o.url=this.url,o.title||(o.title=this.title),this._updateTypeKeywords(o,i,U.newItem),await s._signIn(),await s.user.addItem({item:o,folder:i&&i.folder,data:n}),await _(this.resourceReferences,a,null),this.portalItem=o,d(a),a.portalItem=o,o}async _save(e){const t={...O,...e};this.portalItem||(R.error(\"_save(): requires the .portalItem property to be set\"),await Promise.reject(new r(\"sceneservice:portal-item-not-set\",\"Portal item to save to has not been set on this SceneService\"))),this.portalItem.type!==T&&(R.error(\"_save(): Non-matching portal item type. Got \"+this.portalItem.type+\", expected \"+T),await Promise.reject(new r(\"sceneservice:portal-item-wrong-type\",`Portal item needs to have type \"${T}\"`))),await this._ensureLoadBeforeSave();const i={origin:\"portal-item\",url:this.portalItem.itemUrl&&a(this.portalItem.itemUrl),messages:[],portal:this.portalItem.portal||b.getDefault(),portalItem:this.portalItem,writtenProperties:[],blockedRelativeUrls:[],resources:{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}},o={layers:[this.write({},i)]};return await Promise.all(i.resources.pendingOperations),await this._validateAgainstJSONSchema(o,i,t),this.portalItem.url=this.url,this.portalItem.title||(this.portalItem.title=this.title),this._updateTypeKeywords(this.portalItem,t,U.existingItem),await this.portalItem.update({data:o}),await _(this.resourceReferences,i,null),d(i),this.portalItem}async _validateAgainstJSONSchema(e,t,i){let o=t.messages.filter((e=>\"error\"===e.type)).map((e=>new r(e.name,e.message,e.details)));if(i&&i.validationOptions.ignoreUnsupported&&(o=o.filter((e=>\"layer:unsupported\"!==e.name&&\"symbol:unsupported\"!==e.name&&\"symbol-layer:unsupported\"!==e.name&&\"property:unsupported\"!==e.name&&\"url:unsupported\"!==e.name&&\"scenemodification:unsupported\"!==e.name))),i.validationOptions.enabled||E){const t=(await import(\"../support/schemaValidator.js\")).validate(e,i.portalItemLayerType);if(t.length>0){const e=`Layer item did not validate:\\n${t.join(\"\\n\")}`;if(R.error(`_validateAgainstJSONSchema(): ${e}`),\"throw\"===i.validationOptions.failPolicy){const e=t.map((e=>new r(\"sceneservice:schema-validation\",e))).concat(o);throw new r(\"sceneservice-validate:error\",\"Failed to save layer item due to schema validation, see `details.errors`.\",{combined:e})}}}if(o.length>0)throw new r(\"sceneservice:save\",\"Failed to save SceneService due to unsupported or invalid content. See 'details.errors' for more detailed information\",{errors:o})}};return e([n(w)],A.prototype,\"id\",void 0),e([n({type:y})],A.prototype,\"spatialReference\",void 0),e([l(\"spatialReference\",[\"spatialReference\",\"store.indexCRS\",\"store.geographicCRS\"])],A.prototype,\"readSpatialReference\",null),e([n({type:u})],A.prototype,\"fullExtent\",void 0),e([l(\"fullExtent\",[\"fullExtent\",\"store.extent\",\"spatialReference\",\"store.indexCRS\",\"store.geographicCRS\"])],A.prototype,\"readFullExtent\",null),e([n({readOnly:!0,type:m})],A.prototype,\"heightModelInfo\",void 0),e([n({type:Number,json:{name:\"layerDefinition.minScale\",write:!0,origins:{service:{read:{source:\"minScale\"},write:!1}}}})],A.prototype,\"minScale\",void 0),e([n({type:Number,json:{name:\"layerDefinition.maxScale\",write:!0,origins:{service:{read:{source:\"maxScale\"},write:!1}}}})],A.prototype,\"maxScale\",void 0),e([n({readOnly:!0})],A.prototype,\"version\",void 0),e([l(\"version\",[\"store.version\"])],A.prototype,\"readVersion\",null),e([n({type:String,json:{read:{source:\"copyrightText\"}}})],A.prototype,\"copyright\",void 0),e([n({type:String,json:{read:!1}})],A.prototype,\"sublayerTitleMode\",void 0),e([n({type:String})],A.prototype,\"title\",void 0),e([l(\"portal-item\",\"title\")],A.prototype,\"readTitlePortalItem\",null),e([l(\"service\",\"title\",[\"name\"])],A.prototype,\"readTitleService\",null),e([n({type:Number,json:{origins:{service:{read:{source:\"id\"}},\"portal-item\":{write:{target:\"id\",isRequired:!0,ignoreOrigin:!0},read:!1}}}})],A.prototype,\"layerId\",void 0),e([n(I)],A.prototype,\"url\",null),e([c(\"url\")],A.prototype,\"writeUrl\",null),e([n()],A.prototype,\"parsedUrl\",null),e([n({readOnly:!0})],A.prototype,\"store\",void 0),e([n({type:String,readOnly:!0,json:{read:{source:\"store.rootNode\"}}})],A.prototype,\"rootNode\",void 0),A=e([p(\"esri.layers.mixins.SceneService\")],A),A},N=-1e38,E=!1;var U;!function(e){e[e.existingItem=0]=\"existingItem\",e[e.newItem=1]=\"newItem\"}(U||(U={}));const T=\"Scene Service\",O={getTypeKeywords:()=>[],portalItemLayerType:\"unknown\",validationOptions:{enabled:!0,ignoreUnsupported:!1,failPolicy:\"throw\"}};var K;!function(e){e[e.SAVE=0]=\"SAVE\",e[e.SAVE_AS=1]=\"SAVE_AS\"}(K||(K={}));export{T as SCENE_SERVICE_ITEM_TYPE,K as SaveOperationType,A as SceneService};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{getPathExtension as i}from\"../../core/urlUtils.js\";function p(i){return o[n(i)]||e}function n(i){return i instanceof Blob?i.type:t(i.url)}function t(p){const n=i(p);return g[n]||a}const o={},a=\"text/plain\",e=o[a],g={png:\"image/png\",jpeg:\"image/jpeg\",jpg:\"image/jpg\",bmp:\"image/bmp\",gif:\"image/gif\",json:\"application/json\",txt:\"text/plain\",xml:\"application/xml\",svg:\"image/svg+xml\",zip:\"application/zip\",pbf:\"application/vnd.mapbox-vector-tile\",gz:\"application/gzip\"};for(const l in g)o[g[l]]=l;export{p as getResourceContentExtension};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSome as t,isNone as r,get as e}from\"../../maybe.js\";import{isMultiOriginJSONMixin as o}from\"../../multiOriginJSONSupportUtils.js\";import{isAbsolute as i,isBlobProtocol as n,join as s,getPathExtension as u}from\"../../urlUtils.js\";import{generateUUID as p}from\"../../uuid.js\";import{getOwnPropertyMetadata as a}from\"../metadata.js\";import{nameToId as c}from\"../PropertyOrigin.js\";import{propertyJSONMeta as l}from\"./property.js\";import{getResourceContentExtension as f}from\"../../../portal/support/resourceExtension.js\";import{r as m,t as y,M as h,i as d,p as g}from\"../../../chunks/persistableUrlUtils.js\";function w(r){const e=t(r)&&r.origins?r.origins:[void 0];return(t,o)=>{const i=v(r,t,o);for(const r of e){const e=l(t,r,o);for(const t in i)e[t]=i[t]}}}function v(r,e,o){if(t(r)&&\"resource\"===r.type)return U(r,e,o);switch(t(r)&&r.type?r.type:\"other\"){case\"other\":return{read:!0,write:!0};case\"url\":{const{read:t,write:r}=g;return{read:t,write:r}}}}function U(e,s,u){const p=a(s,u);return{type:String,read:(t,r,e)=>{const o=m(t,r,e);return p.type===String?o:\"function\"==typeof p.type?new p.type({url:o}):void 0},write:{writer(s,a,l,f){if(!f||!f.resources)return\"string\"==typeof s?void(a[l]=y(s,f)):void(a[l]=s.write({},f));const m=R(s),g=m?y(m,{...f,verifyItemRelativeUrls:f&&f.verifyItemRelativeUrls?{writtenUrls:f.verifyItemRelativeUrls.writtenUrls,rootPath:null}:null},h.NO):null,w=p.type!==String&&(!o(this)||f&&f.origin&&this.originIdOf(u)>c(f.origin));f&&f.portalItem&&t(g)&&!i(g)?w?I(this,u,s,g,a,l,f,e):O(g,a,l,f):f&&f.portalItem&&(r(g)||t(d(g))||n(g)||w)?j(this,u,s,g,a,l,f,e):a[l]=g}}}}function j(t,r,o,i,u,a,c,l){const m=p(),y=b(o,i,c),h=s(e(l,\"prefix\"),m),d=`${h}.${f(y)}`,g=c.portalItem.resourceFromPath(d);n(i)&&c.resources.pendingOperations.push(P(i).then((t=>{g.path=`${h}.${f(t)}`,u[a]=g.itemRelativeUrl})).catch((()=>{}))),S(t,r,g,y,c.resources.toAdd),u[a]=g.itemRelativeUrl}function I(t,r,e,o,i,n,s,p){const a=s.portalItem.resourceFromPath(o),c=b(e,o,s);f(c)===u(a.path)?(S(t,r,a,c,s.resources.toUpdate),i[n]=o):j(t,r,e,o,i,n,s,p)}function O(t,r,e,o){o.resources.toKeep.push({resource:o.portalItem.resourceFromPath(t)}),r[e]=t}function S(t,r,e,o,i){i.push({resource:e,content:o,finish:e=>{N(t,r,e)}})}function b(t,r,e){return\"string\"==typeof t?{url:r}:new Blob([JSON.stringify(t.toJSON(e))],{type:\"application/json\"})}async function P(t){const r=(await import(\"../../../request.js\")).default,{data:e}=await r(t,{responseType:\"blob\"});return e}function R(t){return r(t)?null:\"string\"==typeof t?t:t.url}function N(t,r,e){\"string\"==typeof t[r]?t[r]=e.url:t[r].url=e.url}export{w as persistable};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isMultiOriginJSONMixin as r}from\"../multiOriginJSONSupportUtils.js\";function i(i){i&&i.writtenProperties&&i.writtenProperties.forEach((({target:i,propName:t,newOrigin:e})=>{r(i)&&e&&i.originOf(t)!==e&&i.updateOrigin(t,e)}))}export{i as updateOrigins};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import{JSONSupport as r}from\"../../core/JSONSupport.js\";import{clone as o}from\"../../core/lang.js\";import t from\"../../core/Warning.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as i}from\"../../core/accessorSupport/decorators/writer.js\";import{persistable as a}from\"../../core/accessorSupport/decorators/persistable.js\";import{canProjectWithoutEngine as c,projectPolygon as n}from\"../../geometry/projection.js\";import l from\"../../geometry/Polygon.js\";var m;let y=m=class extends r{constructor(e){super(e),this.geometry=null,this.type=\"clip\"}writeGeometry(e,r,o,s){if(s.layer&&s.layer.spatialReference&&!s.layer.spatialReference.equals(this.geometry.spatialReference)){if(!c(e.spatialReference,s.layer.spatialReference))return void(s&&s.messages&&s.messages.push(new t(\"scenemodification:unsupported\",\"Scene modifications with incompatible spatial references are not supported\",{modification:this,spatialReference:s.layer.spatialReference,context:s})));const p=new l;n(e,p,s.layer.spatialReference),r[o]=p.toJSON(s)}else r[o]=e.toJSON(s);delete r[o].spatialReference}clone(){return new m({geometry:o(this.geometry),type:this.type})}};e([s({type:l}),a()],y.prototype,\"geometry\",void 0),e([i([\"web-scene\",\"portal-item\"],\"geometry\")],y.prototype,\"writeGeometry\",null),e([s({type:[\"clip\",\"mask\",\"replace\"],nonNullable:!0}),a()],y.prototype,\"type\",void 0),y=m=e([p(\"esri.layers.support.SceneModification\")],y);const f=y;export{f as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import o from\"../../request.js\";import t from\"../../core/Collection.js\";import{JSONSupportMixin as e}from\"../../core/JSONSupport.js\";import{get as s}from\"../../core/maybe.js\";import{urlToObject as i}from\"../../core/urlUtils.js\";import{property as c}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import m from\"./SceneModification.js\";var a;let n=a=class extends(e(t.ofType(m))){constructor(r){super(r),this.url=null}clone(){return new a({url:this.url,items:this.items.map((r=>r.clone()))})}toJSON(r){return this.toArray().map((o=>o.toJSON(r))).filter((r=>!!r.geometry))}static fromJSON(r,o){const t=new a;for(const e of r)t.add(m.fromJSON(e,o));return t}static async fromUrl(r,t,e){const c={url:i(r),origin:\"service\"},p=await o(r,{responseType:\"json\",signal:s(e,\"signal\")}),n=t.toJSON(),l=[];for(const o of p.data)l.push(m.fromJSON({...o,geometry:{...o.geometry,spatialReference:n}},c));return new a({url:r,items:l})}};r([c({type:String})],n.prototype,\"url\",void 0),n=a=r([p(\"esri.layers.support.SceneModifications\")],n);const l=n;export{l as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../core/Error.js\";import r from\"../core/Handles.js\";import{get as o,isSome as i,isNone as s}from\"../core/maybe.js\";import{MultiOriginJSONMixin as a}from\"../core/MultiOriginJSONSupport.js\";import{throwIfAbortError as n}from\"../core/promiseUtils.js\";import{on as p,sync as d}from\"../core/reactiveUtils.js\";import{property as m}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import{reader as c}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as y}from\"../core/accessorSupport/decorators/subclass.js\";import{persistable as l}from\"../core/accessorSupport/decorators/persistable.js\";import h from\"./Layer.js\";import{APIKeyMixin as f}from\"./mixins/APIKeyMixin.js\";import{ArcGISService as u}from\"./mixins/ArcGISService.js\";import{OperationalLayer as v}from\"./mixins/OperationalLayer.js\";import{PortalLayer as S}from\"./mixins/PortalLayer.js\";import{ScaleRangeLayer as g}from\"./mixins/ScaleRangeLayer.js\";import{SceneService as j,SaveOperationType as w}from\"./mixins/SceneService.js\";import{elevationInfo as _}from\"./support/commonProperties.js\";import{I3SNodePageDefinition as T,I3SMaterialDefinition as x,I3STextureSetDefinition as L,I3SGeometryDefinition as I}from\"./support/I3SLayerDefinitions.js\";import O from\"./support/SceneModifications.js\";import{f as M}from\"../chunks/persistableUrlUtils.js\";let b=class extends(j(u(v(S(g(a(f(h)))))))){constructor(...e){super(...e),this._handles=new r,this.geometryType=\"mesh\",this.operationalLayerType=\"IntegratedMeshLayer\",this.type=\"integrated-mesh\",this.nodePages=null,this.materialDefinitions=null,this.textureSetDefinitions=null,this.geometryDefinitions=null,this.serviceUpdateTimeStamp=null,this.profile=\"mesh-pyramids\",this.modifications=null,this._modificationsSource=null,this.elevationInfo=null,this.path=null}destroy(){this._handles.destroy()}initialize(){this._handles.add(p((()=>this.modifications),\"after-changes\",(()=>this.modifications=this.modifications),d))}normalizeCtorArgs(e,t){return\"string\"==typeof e?{url:e,...t}:e}readModifications(e,t,r){this._modificationsSource={url:M(e,r),context:r}}async load(e){return this.addResolvingPromise(this._doLoad(e)),this}async _doLoad(e){const t=o(e,\"signal\");try{await this.loadFromPortal({supportedTypes:[\"Scene Service\"]},e)}catch(r){n(r)}if(await this._fetchService(t),i(this._modificationsSource)){const t=await O.fromUrl(this._modificationsSource.url,this.spatialReference,e);this.setAtOrigin(\"modifications\",t,this._modificationsSource.context.origin),this._modificationsSource=null}await this._fetchIndexAndUpdateExtent(this.nodePages,t)}beforeSave(){if(!s(this._modificationsSource))return this.load().then((()=>{}),(()=>{}))}async saveAs(e,t){return this._debouncedSaveOperations(w.SAVE_AS,{...t,getTypeKeywords:()=>this._getTypeKeywords(),portalItemLayerType:\"integrated-mesh\"},e)}async save(){const e={getTypeKeywords:()=>this._getTypeKeywords(),portalItemLayerType:\"integrated-mesh\"};return this._debouncedSaveOperations(w.SAVE,e)}validateLayer(e){if(e.layerType&&\"IntegratedMesh\"!==e.layerType)throw new t(\"integrated-mesh-layer:layer-type-not-supported\",\"IntegratedMeshLayer does not support this layer type\",{layerType:e.layerType});if(isNaN(this.version.major)||isNaN(this.version.minor))throw new t(\"layer:service-version-not-supported\",\"Service version is not supported.\",{serviceVersion:this.version.versionString,supportedVersions:\"1.x\"});if(this.version.major>1)throw new t(\"layer:service-version-too-new\",\"Service version is too new.\",{serviceVersion:this.version.versionString,supportedVersions:\"1.x\"})}_getTypeKeywords(){return[\"IntegratedMeshLayer\"]}};e([m({type:String,readOnly:!0})],b.prototype,\"geometryType\",void 0),e([m({type:[\"show\",\"hide\"]})],b.prototype,\"listMode\",void 0),e([m({type:[\"IntegratedMeshLayer\"]})],b.prototype,\"operationalLayerType\",void 0),e([m({json:{read:!1},readOnly:!0})],b.prototype,\"type\",void 0),e([m({type:T,readOnly:!0})],b.prototype,\"nodePages\",void 0),e([m({type:[x],readOnly:!0})],b.prototype,\"materialDefinitions\",void 0),e([m({type:[L],readOnly:!0})],b.prototype,\"textureSetDefinitions\",void 0),e([m({type:[I],readOnly:!0})],b.prototype,\"geometryDefinitions\",void 0),e([m({readOnly:!0})],b.prototype,\"serviceUpdateTimeStamp\",void 0),e([m({type:O}),l({origins:[\"web-scene\",\"portal-item\"],type:\"resource\",prefix:\"modifications\"})],b.prototype,\"modifications\",void 0),e([c([\"web-scene\",\"portal-item\"],\"modifications\")],b.prototype,\"readModifications\",null),e([m(_)],b.prototype,\"elevationInfo\",void 0),e([m({type:String,json:{origins:{\"web-scene\":{read:!0,write:!0},\"portal-item\":{read:!0,write:!0}},read:!1}})],b.prototype,\"path\",void 0),b=e([y(\"esri.layers.IntegratedMeshLayer\")],b);const A=b;export{A as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import t from\"../../core/Error.js\";import{get as r,isSome as a,isNone as o}from\"../../core/maybe.js\";import{join as s,getPathExtension as n}from\"../../core/urlUtils.js\";async function c(e,t={},a){await e.load(a);const o=s(e.itemUrl,\"resources\"),{start:n=1,num:c=10,sortOrder:u=\"asc\",sortField:i=\"created\"}=t,l={query:{start:n,num:c,sortOrder:u,sortField:i,token:e.apiKey},signal:r(a,\"signal\")},p=await e.portal._request(o,l);return{total:p.total,nextStart:p.nextStart,resources:p.resources.map((({created:t,size:r,resource:a})=>({created:new Date(t),size:r,resource:e.resourceFromPath(a)})))}}async function u(e,o,n,c){if(!e.hasPath())throw new t(`portal-item-resource-${o}:invalid-path`,\"Resource does not have a valid path\");const u=e.portalItem;await u.load(c);const i=s(u.userItemUrl,\"add\"===o?\"addResources\":\"updateResources\"),[l,d]=p(e.path),m=await h(n),f=new FormData;return l&&\".\"!==l&&f.append(\"resourcesPrefix\",l),f.append(\"fileName\",d),f.append(\"file\",m,d),f.append(\"f\",\"json\"),a(c)&&c.access&&f.append(\"access\",c.access),await u.portal._request(i,{method:\"post\",body:f,signal:r(c,\"signal\")}),e}async function i(e,a,o){if(!a.hasPath())throw new t(\"portal-item-resources-remove:invalid-path\",\"Resource does not have a valid path\");await e.load(o);const n=s(e.userItemUrl,\"removeResources\");await e.portal._request(n,{method:\"post\",query:{resource:a.path},signal:r(o,\"signal\")}),a.portalItem=null}async function l(e,t){await e.load(t);const a=s(e.userItemUrl,\"removeResources\");return e.portal._request(a,{method:\"post\",query:{deleteAll:!0},signal:r(t,\"signal\")})}function p(e){const t=e.lastIndexOf(\"/\");return-1===t?[\".\",e]:[e.slice(0,t),e.slice(t+1)]}function d(e){const[t,r]=m(e),[a,o]=p(t);return[a,o,r]}function m(e){const t=n(e);return o(t)?[e,\"\"]:[e.slice(0,e.length-t.length-1),`.${t}`]}async function h(t){if(t instanceof Blob)return t;return(await e(t.url,{responseType:\"blob\"})).data}function f(e,t){if(!e.hasPath())return null;const[r,,a]=d(e.path);return e.portalItem.resourceFromPath(s(r,t+a))}function w(e,t){if(!e.hasPath())return null;const[r,,a]=d(e.path);return e.portalItem.resourceFromPath(s(r,t+a))}export{u as addOrUpdateResource,h as contentToBlob,c as fetchResources,f as getSiblingOfSameType,w as getSiblingOfSameTypeI,l as removeAllResources,i as removeResource,d as splitPrefixFileNameAndExtension};\n"],"sourceRoot":""}