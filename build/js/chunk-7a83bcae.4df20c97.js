(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7a83bcae"],{"0d9f":function(t,e,n){"use strict";n.d(e,"a",(function(){return y})),n.d(e,"b",(function(){return rt})),n.d(e,"c",(function(){return p})),n.d(e,"d",(function(){return z})),n.d(e,"e",(function(){return m})),n.d(e,"f",(function(){return S})),n.d(e,"g",(function(){return V})),n.d(e,"h",(function(){return M})),n.d(e,"i",(function(){return U})),n.d(e,"j",(function(){return q})),n.d(e,"k",(function(){return _}));n("c120");var i=n("e92d"),r=n("38a4"),c=n("2119"),o=n("d791"),s=n("afe1"),a=n("e431"),u=n("0b2d"),l=n("3a35"),b=n("bd7e"),d=n("7289"),f=n("d18f"),h=n("a1b1"),O=n("7361");const j=i["a"].getLogger("esri.views.3d.support.geometryUtils.boundedPlane");class g{constructor(){this.plane=Object(d["d"])(),this.origin=Object(u["f"])(),this.basis1=Object(u["f"])(),this.basis2=Object(u["f"])()}}function p(t=Z){return{plane:Object(d["d"])(t.plane),origin:Object(u["d"])(t.origin),basis1:Object(u["d"])(t.basis1),basis2:Object(u["d"])(t.basis2)}}function v(t,e,n){const i=tt.get();return i.origin=t,i.basis1=e,i.basis2=n,i.plane=Object(d["v"])(0,0,0,0),_(i),i}function y(t,e=p()){return m(t.origin,t.basis1,t.basis2,e)}function w(t,e){Object(a["g"])(e.origin,t.origin),Object(a["g"])(e.basis1,t.basis1),Object(a["g"])(e.basis2,t.basis2),Object(d["c"])(e.plane,t.plane)}function m(t,e,n,i=p()){return Object(a["g"])(i.origin,t),Object(a["g"])(i.basis1,e),Object(a["g"])(i.basis2,n),_(i),$(i,"fromValues()"),i}function _(t){Object(d["i"])(t.basis2,t.basis1,t.origin,t.plane)}function I(t,e,n){t!==n&&y(t,n);const i=Object(a["k"])(O["d"].get(),U(t),e);return Object(a["e"])(n.origin,n.origin,i),n.plane[3]-=e,n}function k(t,e,n){return S(e,n),I(n,x(t,t.origin),n),n}function S(t,e=p()){const n=(t[2]-t[0])/2,i=(t[3]-t[1])/2;return Object(a["w"])(e.origin,t[0]+n,t[1]+i,0),Object(a["w"])(e.basis1,n,0,0),Object(a["w"])(e.basis2,0,i,0),Object(d["h"])(0,0,1,0,e.plane),e}function M(t,e,n){return!!Object(d["m"])(t.plane,e,n)&&J(t,n)}function P(t,e,n){if(M(t,e,n))return n;const i=T(t,e,O["d"].get());return Object(a["e"])(n,e.origin,Object(a["k"])(O["d"].get(),e.direction,Object(a["m"])(e.origin,i)/Object(a["p"])(e.direction))),n}function T(t,e,n){const i=Q.get();W(t,e,i,Q.get());let c=Number.POSITIVE_INFINITY;for(const o of et){const s=Y(t,o,G.get()),u=O["d"].get();if(Object(d["k"])(i,s,u)){const t=Object(a["v"])(O["d"].get(),e.origin,u),i=Math.abs(Object(r["b"])(Object(a["i"])(e.direction,t)));i<c&&(c=i,Object(a["g"])(n,u))}}return c===Number.POSITIVE_INFINITY?N(t,e,n):n}function N(t,e,n){if(M(t,e,n))return n;const i=Q.get(),r=Q.get();W(t,e,i,r);let c=Number.POSITIVE_INFINITY;for(const o of et){const s=Y(t,o,G.get()),u=O["d"].get();if(Object(d["l"])(i,s,u)){const t=Object(f["d"])(e,u);if(!Object(d["o"])(r,u))continue;t<c&&(c=t,Object(a["g"])(n,u))}}return A(t,e.origin)<c&&E(t,e.origin,n),n}function E(t,e,n){const i=Object(d["r"])(t.plane,e,O["d"].get()),r=Object(b["j"])(X(t,t.basis1),i,-1,1,O["d"].get()),c=Object(b["j"])(X(t,t.basis2),i,-1,1,O["d"].get());return Object(a["f"])(n,Object(a["e"])(O["d"].get(),r,c),t.origin),n}function H(t,e,n){const{origin:i,basis1:r,basis2:c}=t,o=Object(a["f"])(O["d"].get(),e,i),s=Object(h["d"])(r,o),u=Object(h["d"])(c,o),l=Object(h["d"])(U(t),o);return Object(a["w"])(n,s,u,l)}function A(t,e){const n=H(t,e,O["d"].get()),{basis1:i,basis2:r}=t,c=Object(a["p"])(i),o=Object(a["p"])(r),s=Math.max(Math.abs(n[0])-c,0),u=Math.max(Math.abs(n[1])-o,0),l=n[2];return s*s+u*u+l*l}function V(t,e){return Math.sqrt(A(t,e))}function F(t,e){let n=Number.NEGATIVE_INFINITY;for(const i of et){const r=Y(t,i,G.get()),c=Object(b["e"])(r,e);c>n&&(n=c)}return Math.sqrt(n)}function z(t,e){return Object(d["o"])(t.plane,e)&&J(t,e)}function C(t,e,n,i){return D(t,n,i)}function x(t,e){const n=-t.plane[3];return Object(h["d"])(U(t),e)-n}function L(t,e,n,i){const r=x(t,e),c=Object(a["k"])(K,U(t),n-r);return Object(a["e"])(i,e,c),i}function R(t,e){return Object(a["o"])(t.basis1,e.basis1)&&Object(a["o"])(t.basis2,e.basis2)&&Object(a["o"])(t.origin,e.origin)}function B(t,e,n){return t!==n&&y(t,n),Object(o["a"])(nt,e),Object(o["t"])(nt,nt),Object(a["q"])(n.basis1,t.basis1,nt),Object(a["q"])(n.basis2,t.basis2,nt),Object(a["q"])(Object(d["q"])(n.plane),Object(d["q"])(t.plane),nt),Object(a["q"])(n.origin,t.origin,e),Object(d["t"])(n.plane,n.plane,n.origin),n}function q(t,e,n,i){return t!==i&&y(t,i),Object(o["d"])(it,e,n),Object(a["q"])(i.basis1,t.basis1,it),Object(a["q"])(i.basis2,t.basis2,it),_(i),i}function U(t){return Object(d["q"])(t.plane)}function D(t,e,n){switch(e){case l["a"].X:Object(a["g"])(n,t.basis1),Object(a["r"])(n,n);break;case l["a"].Y:Object(a["g"])(n,t.basis2),Object(a["r"])(n,n);break;case l["a"].Z:Object(a["g"])(n,U(t))}return n}function J(t,e){const n=Object(a["f"])(O["d"].get(),e,t.origin),i=Object(a["t"])(t.basis1),r=Object(a["t"])(t.basis2),c=Object(a["i"])(t.basis1,n),o=Object(a["i"])(t.basis2,n);return-c-i<0&&c-i<0&&-o-r<0&&o-r<0}function X(t,e){const n=G.get();return Object(a["g"])(n.origin,t.origin),Object(a["g"])(n.vector,e),n}function Y(t,e,n){const{basis1:i,basis2:r,origin:c}=t,o=Object(a["k"])(O["d"].get(),i,e.origin[0]),s=Object(a["k"])(O["d"].get(),r,e.origin[1]);Object(a["e"])(n.origin,o,s),Object(a["e"])(n.origin,n.origin,c);const u=Object(a["k"])(O["d"].get(),i,e.direction[0]),l=Object(a["k"])(O["d"].get(),r,e.direction[1]);return Object(a["k"])(n.vector,Object(a["e"])(u,u,l),2),n}function $(t,e){Math.abs(Object(a["i"])(t.basis1,t.basis2)/(Object(a["p"])(t.basis1)*Object(a["p"])(t.basis2)))>1e-6&&j.warn(e,"Provided basis vectors are not perpendicular"),Math.abs(Object(a["i"])(t.basis1,U(t)))>1e-6&&j.warn(e,"Basis vectors and plane normal are not perpendicular"),Math.abs(-Object(a["i"])(U(t),t.origin)-t.plane[3])>1e-6&&j.warn(e,"Plane offset is not consistent with plane origin")}function W(t,e,n,i){const r=U(t);Object(d["i"])(r,e.direction,e.origin,n),Object(d["i"])(Object(d["q"])(n),r,e.origin,i)}const Z={plane:Object(d["d"])(),origin:Object(u["h"])(0,0,0),basis1:Object(u["h"])(1,0,0),basis2:Object(u["h"])(0,1,0)},Q=new c["a"](d["d"]),G=new c["a"](b["d"]),K=Object(u["f"])(),tt=new c["a"](()=>({origin:null,basis1:null,basis2:null,plane:null})),et=[{origin:[-1,-1],direction:[1,0]},{origin:[1,-1],direction:[0,1]},{origin:[1,1],direction:[-1,0]},{origin:[-1,1],direction:[0,-1]}],nt=Object(s["d"])(),it=Object(s["d"])(),rt=Object.freeze(Object.defineProperty({__proto__:null,BoundedPlaneClass:g,create:p,wrap:v,copy:y,copyWithoutVerify:w,fromValues:m,updateUnboundedPlane:_,elevate:I,setExtent:k,fromAABoundingRect:S,intersectRay:M,intersectRayClosestSilhouette:P,closestPointOnSilhouette:T,closestPoint:N,projectPoint:E,projectPointLocal:H,distance2:A,distance:V,distanceToSilhouette:F,extrusionContainsPoint:z,axisAt:C,altitudeAt:x,setAltitudeAt:L,equals:R,transform:B,rotate:q,normal:U,UP:Z},Symbol.toStringTag,{value:"Module"}))},2119:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("2ab7");class r{constructor(t){this.allocator=t,this._items=[],this._itemsPtr=0,this._grow()}get(){return 0===this._itemsPtr&&Object(i["a"])(()=>this._reset()),this._itemsPtr===this._items.length&&this._grow(),this._items[this._itemsPtr++]}_reset(){const t=Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3*c);this._items.length=Math.min(t,this._items.length),this._itemsPtr=0}_grow(){for(let t=0;t<Math.max(8,Math.min(this._items.length,c));t++)this._items.push(this.allocator())}}const c=1024},"3a35":function(t,e,n){"use strict";var i;n.d(e,"a",(function(){return i})),function(t){t[t.X=0]="X",t[t.Y=1]="Y",t[t.Z=2]="Z"}(i||(i={}))},"59fd":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("dac3"),r=n("43e0"),c=n("92af"),o=n("b63c");class s extends c["a"]{constructor(t){super({...t,constraint:new r["d"](t.coordinateHelper,t.targetPoint)})}get hints(){return[new o["a"](this.targetPoint,this.elevationInfo)]}}function a(t,e,n){switch(t.type){case"edge":return new i["a"]({coordinateHelper:e,edgeStart:e.pointToVector(t.start),edgeEnd:e.pointToVector(t.end),targetPoint:e.pointToVector(t.target),objectId:t.objectId,elevationInfo:n});case"vertex":return new s({coordinateHelper:e,targetPoint:e.pointToVector(t.target),objectId:t.objectId,elevationInfo:n})}}},"680b":function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return s}));n("38a4");var i=n("e431"),r=n("0b2d");function c(t){const e=t[0]*t[0]+t[4]*t[4]+t[8]*t[8],n=t[1]*t[1]+t[5]*t[5]+t[9]*t[9],i=t[2]*t[2]+t[6]*t[6]+t[10]*t[10];return Math.sqrt(Math.max(e,n,i))}function o(t,e){const n=Math.sqrt(e[0]*e[0]+e[4]*e[4]+e[8]*e[8]),r=Math.sqrt(e[1]*e[1]+e[5]*e[5]+e[9]*e[9]),c=Math.sqrt(e[2]*e[2]+e[6]*e[6]+e[10]*e[10]);return Object(i["w"])(t,n,r,c),t}function s(t,e,n){Math.abs(t[0])>Math.abs(t[1])?Object(i["w"])(e,0,1,0):Object(i["w"])(e,1,0,0),Object(i["j"])(n,t,e),Object(i["r"])(e,e),Object(i["j"])(e,n,t),Object(i["r"])(n,n)}function a(t,e,n,r){Object(i["f"])(u,e,t),Object(i["f"])(l,n,t),Object(i["j"])(r,u,l),Object(i["r"])(r,r),r[3]=-Object(i["i"])(t,r)}const u=Object(r["f"])(),l=Object(r["f"])();Object(r["f"])(),Object(r["f"])(),Object(r["f"])()},7289:function(t,e,n){"use strict";n.d(e,"a",(function(){return H})),n.d(e,"b",(function(){return A})),n.d(e,"c",(function(){return d})),n.d(e,"d",(function(){return l})),n.d(e,"e",(function(){return j})),n.d(e,"f",(function(){return O})),n.d(e,"g",(function(){return h})),n.d(e,"h",(function(){return f})),n.d(e,"i",(function(){return k})),n.d(e,"j",(function(){return S})),n.d(e,"k",(function(){return P})),n.d(e,"l",(function(){return T})),n.d(e,"m",(function(){return M})),n.d(e,"n",(function(){return E})),n.d(e,"o",(function(){return N})),n.d(e,"p",(function(){return I})),n.d(e,"q",(function(){return L})),n.d(e,"r",(function(){return V})),n.d(e,"s",(function(){return F})),n.d(e,"t",(function(){return _})),n.d(e,"u",(function(){return C})),n.d(e,"v",(function(){return b}));var i=n("38a4"),r=n("b2b2"),c=n("e431"),o=n("0b2d"),s=(n("f895"),n("a1b1")),a=n("7361"),u=n("680b");function l(t=R){return[t[0],t[1],t[2],t[3]]}function b(t=R[0],e=R[1],n=R[2],i=R[3]){return f(t,e,n,i,a["e"].get())}function d(t,e){return f(e[0],e[1],e[2],e[3],t)}function f(t,e,n,i,r=l()){return r[0]=t,r[1]=e,r[2]=n,r[3]=i,r}function h(t,e,n){const i=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=Math.abs(i-1)>1e-5&&i>1e-12?1/Math.sqrt(i):1;return n[0]=e[0]*r,n[1]=e[1]*r,n[2]=e[2]*r,n[3]=-(n[0]*t[0]+n[1]*t[1]+n[2]*t[2]),n}function O(t,e,n,i=l()){const r=n[0]-e[0],c=n[1]-e[1],o=n[2]-e[2],s=t[0]-e[0],a=t[1]-e[1],u=t[2]-e[2],b=c*u-o*a,d=o*s-r*u,f=r*a-c*s,h=b*b+d*d+f*f,O=Math.abs(h-1)>1e-5&&h>1e-12?1/Math.sqrt(h):1;return i[0]=b*O,i[1]=d*O,i[2]=f*O,i[3]=-(i[0]*t[0]+i[1]*t[1]+i[2]*t[2]),i}function j(t,e,n,i,r){if(t.count<3)return!1;t.getVec(n,p);let o=i,s=!1;for(;o<t.count-1&&!s;)t.getVec(o,v),o++,s=!Object(c["o"])(p,v);if(!s)return!1;for(o=Math.max(o,r),s=!1;o<t.count&&!s;)t.getVec(o,y),o++,Object(c["f"])(w,p,v),Object(c["r"])(w,w),Object(c["f"])(m,v,y),Object(c["r"])(m,m),s=!Object(c["o"])(p,y)&&!Object(c["o"])(v,y)&&Math.abs(Object(c["i"])(w,m))<g;return s?(O(p,v,y,e),!0):(0!==n||1!==i||2!==r)&&j(t,e,0,1,2)}const g=.99619469809,p=Object(o["f"])(),v=Object(o["f"])(),y=Object(o["f"])(),w=Object(o["f"])(),m=Object(o["f"])();function _(t,e,n){return e!==t&&d(t,e),t[3]=-Object(c["i"])(L(t),n),t}function I(t,e){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function k(t,e,n,i){return Object(c["j"])(y,e,t),h(n,y,i)}function S(t,e,n,i){return x(t,e,Object(c["f"])(a["d"].get(),n,e),q,i)}function M(t,e,n){return!!Object(r["k"])(e)&&x(t,e.origin,e.direction,U,n)}function P(t,e,n){return x(t,e.origin,e.vector,B.NONE,n)}function T(t,e,n){return x(t,e.origin,e.vector,B.CLAMP,n)}function N(t,e){return C(t,e)>=0}function E(t,e){const n=e[0],i=e[1],r=e[2],c=e[3],o=e[4],s=e[5];return t[0]*(t[0]>0?n:c)+t[1]*(t[1]>0?i:o)+t[2]*(t[2]>0?r:s)+t[3]>=0}function H(t,e){const n=Object(c["i"])(L(t),e.ray.direction),i=-C(t,e.ray.origin);if(i<0&&n>=0)return!1;if(n>-1e-6&&n<1e-6)return i>0;if((i<0||n<0)&&!(i<0&&n<0))return!0;const r=i/n;return n>0?r<e.c1&&(e.c1=r):r>e.c0&&(e.c0=r),e.c0<=e.c1}function A(t,e){const n=Object(c["i"])(L(t),e.ray.direction),i=-C(t,e.ray.origin);if(n>-1e-6&&n<1e-6)return i>0;const r=i/n;return n>0?r<e.c1&&(e.c1=r):r>e.c0&&(e.c0=r),e.c0<=e.c1}function V(t,e,n){const i=Object(c["k"])(a["d"].get(),L(t),-t[3]),r=z(t,Object(c["f"])(a["d"].get(),e,i),a["d"].get());return Object(c["e"])(n,r,i),n}function F(t,e,n,i){const r=L(t),o=a["d"].get(),l=a["d"].get();Object(u["d"])(r,o,l);const b=Object(c["f"])(a["d"].get(),n,e),d=Object(s["d"])(o,b),f=Object(s["d"])(l,b),h=Object(s["d"])(r,b);return Object(c["w"])(i,d,f,h)}function z(t,e,n){const i=Object(c["k"])(a["d"].get(),L(t),Object(c["i"])(L(t),e));return Object(c["f"])(n,e,i),n}function C(t,e){return Object(c["i"])(L(t),e)+t[3]}function x(t,e,n,r,o){const s=Object(c["i"])(L(t),n);if(0===s)return!1;let a=-(Object(c["i"])(L(t),e)+t[3])/s;return r&B.CLAMP&&(a=Object(i["e"])(a,0,1)),!(!(r&B.INFINITE_MIN)&&a<0||!(r&B.INFINITE_MAX)&&a>1)&&(Object(c["e"])(o,e,Object(c["k"])(o,n,a)),!0)}function L(t){return t}const R=[0,0,1,0];var B;!function(t){t[t.NONE=0]="NONE",t[t.CLAMP=1]="CLAMP",t[t.INFINITE_MIN=4]="INFINITE_MIN",t[t.INFINITE_MAX=8]="INFINITE_MAX"}(B||(B={}));const q=B.INFINITE_MIN|B.INFINITE_MAX,U=B.INFINITE_MAX},7361:function(t,e,n){"use strict";n.d(e,"a",(function(){return j})),n.d(e,"b",(function(){return g})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return h})),n.d(e,"e",(function(){return O}));var i=n("f0b9"),r=n("2ab7"),c=n("dae5"),o=n("afe1"),s=n("b139"),a=n("02f1"),u=n("0b2d"),l=n("0fc4");class b{constructor(t,e,n){this.itemByteSize=t,this.itemCreate=e,this._buffers=new Array,this._items=new Array,this._itemsPtr=0,this._itemsPerBuffer=Math.ceil(n/this.itemByteSize)}get(){0===this._itemsPtr&&Object(r["a"])(()=>this._reset());const t=Math.floor(this._itemsPtr/this._itemsPerBuffer);for(;this._buffers.length<=t;){const t=new ArrayBuffer(this._itemsPerBuffer*this.itemByteSize);for(let e=0;e<this._itemsPerBuffer;++e)this._items.push(this.itemCreate(t,e*this.itemByteSize));this._buffers.push(t)}return this._items[this._itemsPtr++]}_reset(){const t=2*(Math.floor(this._itemsPtr/this._itemsPerBuffer)+1);for(;this._buffers.length>t;)this._buffers.pop(),this._items.length=this._buffers.length*this._itemsPerBuffer;this._itemsPtr=0}static createVec2f64(t=d){return new b(16,a["e"],t)}static createVec3f64(t=d){return new b(24,u["e"],t)}static createVec4f64(t=d){return new b(32,l["c"],t)}static createMat3f64(t=d){return new b(72,c["a"],t)}static createMat4f64(t=d){return new b(128,o["b"],t)}static createQuatf64(t=d){return new b(32,s["d"],t)}get test(){return{size:this._buffers.length*this._itemsPerBuffer*this.itemByteSize}}}const d=4*i["a"].KILOBYTES,f=b.createVec2f64(),h=b.createVec3f64(),O=b.createVec4f64(),j=(b.createMat3f64(),b.createMat4f64()),g=b.createQuatf64()},"78ba":function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n("b50f"),r=n("c649"),c=n("e92d"),o=n("b2b2"),s=n("f4cc"),a=n("dfa0");const u=c["a"].getLogger("esri.core.workers.WorkerHandle");class l{constructor(t,e,n,i,r={}){this._mainMethod=e,this._transferLists=n,this._listeners=[],this._promise=Object(a["b"])(t,{...r,schedule:i}).then(t=>{if(void 0===this._thread){this._thread=t,this._promise=null,r.hasInitialize&&this.broadcast({},"initialize");for(const t of this._listeners)this._connectListener(t)}else t.close()}),this._promise.catch(e=>u.error(`Failed to initialize ${t} worker: ${e}`))}on(t,e){const n={removed:!1,eventName:t,callback:e,threadHandle:null};return this._listeners.push(n),this._connectListener(n),Object(r["c"])(()=>{n.removed=!0,Object(i["h"])(this._listeners,n),this._thread&&Object(o["k"])(n.threadHandle)&&n.threadHandle.remove()})}destroy(){this._thread&&(this._thread.close(),this._thread=null),this._promise=null}invoke(t,e){return this.invokeMethod(this._mainMethod,t,e)}invokeMethod(t,e,n){if(this._thread){const i=this._transferLists[t],r=i?i(e):[];return this._thread.invoke(t,e,{transferList:r,signal:n})}return this._promise?this._promise.then(()=>(Object(s["p"])(n),this.invokeMethod(t,e,n))):Promise.reject(null)}broadcast(t,e){return this._thread?Promise.all(this._thread.broadcast(e,t)).then(()=>{}):this._promise?this._promise.then(()=>this.broadcast(t,e)):Promise.reject()}get promise(){return this._promise}_connectListener(t){this._thread&&this._thread.on(t.eventName,t.callback).then(e=>{t.removed||(t.threadHandle=e)})}}},a1b1:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return s}));var i=n("38a4"),r=n("e431"),c=n("0b2d");function o(t,e,n){const i=Object(r["i"])(t,e)/Object(r["i"])(t,t);return Object(r["k"])(n,t,i)}function s(t,e){return Object(r["i"])(t,e)/Object(r["p"])(t)}function a(t,e){const n=Object(r["i"])(t,e)/(Object(r["p"])(t)*Object(r["p"])(e));return-Object(i["b"])(n)}function u(t,e,n){Object(r["r"])(l,t),Object(r["r"])(b,e);const c=Object(r["i"])(l,b),o=Object(i["b"])(c),s=Object(r["j"])(l,l,b);return Object(r["i"])(s,n)<0?2*Math.PI-o:o}const l=Object(c["f"])(),b=Object(c["f"])()},afe1:function(t,e,n){"use strict";function i(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function r(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]}function c(t,e,n,i,r,c,o,s,a,u,l,b,d,f,h,O){return[t,e,n,i,r,c,o,s,a,u,l,b,d,f,h,O]}function o(t,e){return new Float64Array(t,e,16)}n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return r})),n.d(e,"d",(function(){return i})),n.d(e,"e",(function(){return c}));const s=i();Object.freeze(Object.defineProperty({__proto__:null,create:i,clone:r,fromValues:c,createView:o,IDENTITY:s},Symbol.toStringTag,{value:"Module"}))},b139:function(t,e,n){"use strict";function i(){return[0,0,0,1]}function r(t){return[t[0],t[1],t[2],t[3]]}function c(t,e,n,i){return[t,e,n,i]}function o(t,e){return new Float64Array(t,e,4)}n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return r})),n.d(e,"d",(function(){return o}));const s=i();Object.freeze(Object.defineProperty({__proto__:null,create:i,clone:r,fromValues:c,createView:o,IDENTITY:s},Symbol.toStringTag,{value:"Module"}))},b63c:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("6706"),r=n("7dcb");class c extends r["a"]{constructor(t,e){super(e),this.point=t}equals(t){return t instanceof c&&Object(i["b"])(this.point,t.point)}}},ba80:function(t,e,n){"use strict";n.r(e),n.d(e,"FeatureServiceSnappingSource",(function(){return $}));var i=n("a4ee"),r=n("fc29"),c=n("9096"),o=n("c649"),s=n("b2b2"),a=n("477c"),u=n("59b2"),l=(n("b50f"),n("c120"),n("cea0"),n("d386")),b=n("e431"),d=n("0fc4"),f=n("0d9f");function h(t,e){return Object(f["f"])(e.extent,O),Object(f["g"])(O,Object(b["w"])(j,t.x,t.y,0))}const O=Object(f["c"])(),j=Object(d["e"])();var g=n("5e70");let p=class extends r["a"]{constructor(t){super(t),this.pointOfInterest=null}get tiles(){const t=this.tilesCoveringView,e=Object(s["k"])(this.pointOfInterest)?this.pointOfInterest:this.view.center;return t.sort((t,n)=>h(e,t)-h(e,n)),t}_scaleEnabled(){return Object(g["b"])(this.view.scale,this.layer.minScale||0,this.layer.maxScale||0)}get tilesCoveringView(){if(!this.view.ready||!this.view.featuresTilingScheme||!this.view.state||Object(s["j"])(this.tileInfo))return[];if(!this._scaleEnabled)return[];const{spans:t,lodInfo:e}=this.view.featuresTilingScheme.getTileCoverage(this.view.state,0),{level:n}=e,i=[];for(const{row:r,colFrom:c,colTo:o}of t)for(let t=c;t<=o;t++){const c={id:null,level:n,row:r,col:e.normalizeCol(t)};this.tileInfo.updateTileInfo(c),i.push(c)}return i}get tileInfo(){var t,e;return null!=(t=null==(e=this.view.featuresTilingScheme)?void 0:e.tileInfo)?t:null}get tileSize(){return Object(s["k"])(this.tileInfo)?this.tileInfo.size[0]:256}initialize(){this.own(Object(a["f"])(()=>{var t,e;return null==(t=this.view)||null==(e=t.state)?void 0:e.viewpoint},()=>this.notifyChange("tilesCoveringView"),a["d"]))}};Object(i["a"])([Object(u["b"])({readOnly:!0})],p.prototype,"tiles",null),Object(i["a"])([Object(u["b"])({readOnly:!0})],p.prototype,"_scaleEnabled",null),Object(i["a"])([Object(u["b"])({readOnly:!0})],p.prototype,"tilesCoveringView",null),Object(i["a"])([Object(u["b"])({readOnly:!0})],p.prototype,"tileInfo",null),Object(i["a"])([Object(u["b"])({readOnly:!0})],p.prototype,"tileSize",null),Object(i["a"])([Object(u["b"])({constructOnly:!0})],p.prototype,"view",void 0),Object(i["a"])([Object(u["b"])({constructOnly:!0})],p.prototype,"layer",void 0),Object(i["a"])([Object(u["b"])()],p.prototype,"pointOfInterest",void 0),p=Object(i["a"])([Object(l["a"])("esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTiles2D")],p);var v,y=n("9180");!function(t){t[t.INVISIBLE=0]="INVISIBLE",t[t.VISIBLE_WHEN_EXTENDED=1]="VISIBLE_WHEN_EXTENDED",t[t.VISIBLE_ON_SURFACE=2]="VISIBLE_ON_SURFACE"}(v||(v={}));let w=class extends c["a"]{constructor(t){super(t),this.pointOfInterest=null}get tiles(){const t=this.tilesCoveringView,e=this.effectivePointOfInterest;if(Object(s["k"])(e)){const n=t.map(t=>h(e,t));for(let i=1;i<n.length;i++)if(n[i-1]>n[i])return t.sort((t,n)=>h(e,t)-h(e,n)),t.slice()}return t}get tilesCoveringView(){var t,e;return this._filterTiles(null==(t=this.view.featureTiles)||null==(e=t.tiles)?void 0:e.toArray()).map(m)}get tileInfo(){var t,e;return null!=(t=null==(e=this.view.featureTiles)?void 0:e.tilingScheme.toTileInfo())?t:null}get tileSize(){var t,e;return null!=(t=null==(e=this.view.featureTiles)?void 0:e.tileSize)?t:256}get effectivePointOfInterest(){var t;const e=this.pointOfInterest;return Object(s["k"])(e)?e:null==(t=this.view.pointsOfInterest)?void 0:t.focus.location}initialize(){this.handles.add(Object(a["f"])(()=>this.view.featureTiles,t=>{this.handles.remove(I),t&&this.handles.add(t.addClient(),I)},a["a"]))}_filterTiles(t){return Object(s["j"])(t)?[]:t.filter(t=>Math.abs(t.measures.screenRect[3]-t.measures.screenRect[1])>_&&t.measures.visibility===v.VISIBLE_ON_SURFACE)}};function m({lij:[t,e,n],extent:i}){return{id:`${t}/${e}/${n}`,level:t,row:e,col:n,extent:i}}Object(i["a"])([Object(u["b"])({readOnly:!0})],w.prototype,"tiles",null),Object(i["a"])([Object(u["b"])({readOnly:!0})],w.prototype,"tilesCoveringView",null),Object(i["a"])([Object(u["b"])({readOnly:!0})],w.prototype,"tileInfo",null),Object(i["a"])([Object(u["b"])({readOnly:!0})],w.prototype,"tileSize",null),Object(i["a"])([Object(u["b"])({constructOnly:!0})],w.prototype,"view",void 0),Object(i["a"])([Object(u["b"])()],w.prototype,"pointOfInterest",void 0),Object(i["a"])([Object(u["b"])()],w.prototype,"effectivePointOfInterest",null),w=Object(i["a"])([Object(l["a"])("esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTiles3D")],w);const _=50,I="feature-tiles";var k=n("59fd"),S=n("af40"),M=n("1219"),P=n("9ef0"),T=n("8d60"),N=n("38a4"),E=n("7533"),H=n("0d76"),A=n("21ba"),V=n("a957");const F=[[0,179,255],[117,62,128],[0,104,255],[215,189,166],[32,0,193],[98,162,206],[102,112,129],[52,125,0],[142,118,246],[138,83,0],[92,122,255],[122,55,83],[0,142,255],[81,40,179],[0,200,244],[13,24,127],[0,170,147],[19,58,241],[22,44,35]];let z=class extends r["a"]{constructor(t){super(t),this.updating=!1,this.enablePolygons=!0,this.enableLabels=!0,this._polygons=new Map,this._labels=new Map,this._enabled=!0}initialize(){this._symbols=F.map(t=>new H["a"]({color:[t[0],t[1],t[2],.6],outline:{color:"black",width:1}})),this.update()}destroy(){this._enabled=!1,this.clear()}get enabled(){return this._enabled}set enabled(t){this._enabled!==t&&(this._enabled=t,this.update())}update(){if(!this._enabled)return void this.clear();const t=t=>{if(Object(s["k"])(t.label))return t.label;let e=t.lij.toString();return Object(s["k"])(t.loadPriority)&&(e+=` (${t.loadPriority})`),e},e=this.getTiles(),n=new Array,i=new Set((this._labels.size,this._labels.keys()));e.forEach((r,c)=>{const o=r.lij.toString();i.delete(o);const a=r.lij[0],u=r.geometry;if(this.enablePolygons&&!this._polygons.has(o)){const t=new T["a"]({geometry:u,symbol:this._symbols[a%this._symbols.length]});this._polygons.set(o,t),n.push(t)}if(this.enableLabels){const i=t(r),a=c/(e.length-1),l=Object(N["l"])(0,200,a),b=Object(N["l"])(20,6,a)/.75,d=Object(s["k"])(r.loadPriority)&&r.loadPriority>=e.length,f=new P["a"]([l,d?0:l,d?0:l]),h="3d"===this.view.type?()=>new E["a"]({verticalOffset:{screenLength:40/.75},callout:{type:"line",color:"white",border:{color:"black"}},symbolLayers:[new V["a"]({text:i,halo:{color:"white",size:1/.75},material:{color:f},size:b})]}):()=>new A["a"]({text:i,haloColor:"white",haloSize:1/.75,color:f,size:b});if(this._labels.has(o)){const t=this._labels.get(o),e=h();(Object(s["j"])(t.symbol)||JSON.stringify(e)!==JSON.stringify(t.symbol))&&(t.symbol=e)}else{const t=new T["a"]({geometry:u.extent.center,symbol:h()});this._labels.set(o,t),n.push(t)}}});const r=new Array;i.forEach(t=>{this._polygons.has(t)&&(r.push(this._polygons.get(t)),this._polygons.delete(t)),this._labels.has(t)&&(r.push(this._labels.get(t)),this._labels.delete(t))}),this.view.graphics.removeMany(r),this.view.graphics.addMany(n)}clear(){this.view.graphics.removeMany(Array.from(this._polygons.values())),this.view.graphics.removeMany(Array.from(this._labels.values())),this._polygons.clear(),this._labels.clear()}};Object(i["a"])([Object(u["b"])({constructOnly:!0})],z.prototype,"view",void 0),Object(i["a"])([Object(u["b"])({readOnly:!0})],z.prototype,"updating",void 0),Object(i["a"])([Object(u["b"])()],z.prototype,"enabled",null),z=Object(i["a"])([Object(l["a"])("esri.views.support.TileTreeDebugger")],z);let C=class extends z{constructor(t){super(t),this.handles=new S["a"]}initialize(){const t=setInterval(()=>this._fetchDebugInfo(),2e3);this.handles.add(Object(o["c"])(()=>clearInterval(t)))}destroy(){this.handles.destroy()}getTiles(){if(!this.debugInfo)return[];const t=new Map,e=new Map;this.debugInfo.storedTiles.forEach(e=>{t.set(e.data.id,e.featureCount)}),this.debugInfo.pendingTiles.forEach(n=>{t.set(n.data.id,n.featureCount),e.set(n.data.id,n.state)});const n=n=>{var i;const r=e.get(n),c=null!=(i=t.get(n))?i:"?";return r?`${r}:${c}\n${n}`:`store:${c}\n${n}`},i=new Map;return this.debugInfo.storedTiles.forEach(t=>{i.set(t.data.id,t.data)}),this.debugInfo.pendingTiles.forEach(t=>{i.set(t.data.id,t.data)}),Array.from(i.values()).map(t=>({lij:[t.level,t.row,t.col],geometry:M["a"].fromExtent(Object(y["u"])(t.extent,this.view.spatialReference)),label:n(t.id)}))}_fetchDebugInfo(){this.handle.getDebugInfo(null).then(t=>{this.debugInfo=t,this.update()})}};Object(i["a"])([Object(u["b"])({constructOnly:!0})],C.prototype,"handle",void 0),C=Object(i["a"])([Object(l["a"])("esri.views.interactive.snapping.featureSources.WorkerTileTreeDebugger")],C);var x=n("f4cc"),L=n("78ba"),R=n("74e2");let B=class extends c["a"]{constructor(t){super(t),this.availability=0,this.workerHandleUpdating=!0,this.editId=0}get updating(){return this.updatingHandles.updating||this.workerHandleUpdating}destroy(){this.workerHandle.destroy()}initialize(){this.workerHandle=new q(this.schedule),this.handles.add([this.workerHandle.on("notify-updating",({updating:t})=>this.workerHandleUpdating=t),this.workerHandle.on("notify-availability",({availability:t})=>this._set("availability",t))])}async setup(t,e){const n=this._serviceInfoFromLayer(t.layer);if(Object(s["j"])(n))return;const i={configuration:this._convertConfiguration(t.configuration),serviceInfo:n,spatialReference:t.spatialReference.toJSON()};await this.updatingHandles.addPromise(this.workerHandle.invokeMethod("setup",i,e)),this.updatingHandles.addPromise(this.workerHandle.invokeMethod("whenNotUpdating",{},e))}async configure(t,e){const n=this._convertConfiguration(t);await this.updatingHandles.addPromise(this.workerHandle.invokeMethod("configure",n,e)),this.updatingHandles.addPromise(this.workerHandle.invokeMethod("whenNotUpdating",{},e))}async refresh(t){await this.updatingHandles.addPromise(this.workerHandle.invokeMethod("refresh",{},t)),this.updatingHandles.addPromise(this.workerHandle.invokeMethod("whenNotUpdating",{},t))}async fetchCandidates(t,e){const n={distance:t.distance,point:t.coordinateHelper.vectorToPoint(t.point).toJSON(),types:t.types,filter:Object(s["k"])(t.filter)?t.filter.createQuery().toJSON():null};return this.workerHandle.invoke(n,e)}async updateTiles(t,e){const n={tiles:t.tiles,tileInfo:Object(s["k"])(t.tileInfo)?t.tileInfo.toJSON():null,tileSize:t.tileSize};await this.updatingHandles.addPromise(this.workerHandle.invokeMethod("updateTiles",n,e)),this.updatingHandles.addPromise(this.workerHandle.invokeMethod("whenNotUpdating",{},e))}async applyEdits(t,e){var n,i,r,c,o,s;const a=this.editId++,u={id:a};await this.updatingHandles.addPromise(this.workerHandle.invokeMethod("beginApplyEdits",u,e));const l=await this.updatingHandles.addPromise(Object(x["t"])(t.result,e)),b={id:a,edits:{addedFeatures:null!=(n=null==(i=l.addedFeatures)?void 0:i.map(({objectId:t})=>t))?n:[],deletedFeatures:null!=(r=null==(c=l.deletedFeatures)?void 0:c.map(({objectId:t,globalId:e})=>({objectId:t,globalId:e})))?r:[],updatedFeatures:null!=(o=null==(s=l.updatedFeatures)?void 0:s.map(({objectId:t})=>t))?o:[]}};await this.updatingHandles.addPromise(this.workerHandle.invokeMethod("endApplyEdits",b,e)),this.updatingHandles.addPromise(this.workerHandle.invokeMethod("whenNotUpdating",{},e))}getDebugInfo(t){return this.workerHandle.invokeMethod("getDebugInfo",{},t)}_convertConfiguration(t){return{filter:Object(s["k"])(t.filter)?t.filter.toJSON():null,customParameters:t.customParameters}}_serviceInfoFromLayer(t){var e;return"multipatch"===t.geometryType||"mesh"===t.geometryType?null:{url:t.parsedUrl.path,fields:t.fields.map(t=>t.toJSON()),geometryType:R["a"].toJSON(t.geometryType),capabilities:t.capabilities,objectIdField:t.objectIdField,globalIdField:t.globalIdField,spatialReference:t.spatialReference.toJSON(),timeInfo:null==(e=t.timeInfo)?void 0:e.toJSON()}}};Object(i["a"])([Object(u["b"])({constructOnly:!0})],B.prototype,"schedule",void 0),Object(i["a"])([Object(u["b"])({readOnly:!0})],B.prototype,"updating",null),Object(i["a"])([Object(u["b"])({readOnly:!0})],B.prototype,"availability",void 0),Object(i["a"])([Object(u["b"])()],B.prototype,"workerHandleUpdating",void 0),B=Object(i["a"])([Object(l["a"])("esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceSnappingSourceWorkerHandle")],B);class q extends L["a"]{constructor(t){super("FeatureServiceSnappingSourceWorker","fetchCandidates",{},t,{strategy:"dedicated"})}}var U=n("4ae5"),D=n("50e6"),J=n("dff3");let X=class extends r["a"]{constructor(t){super(t),this.pointOfInterest=null}get tiles(){return[{id:"0/0/0",level:0,row:0,col:0,extent:Object(y["q"])(-1e8,-1e8,1e8,1e8)}]}get tileInfo(){return new J["a"]({origin:new U["a"]({x:-1e8,y:1e8,spatialReference:this.layer.spatialReference}),size:[512,512],lods:[new D["a"]({level:0,scale:1,resolution:390625})],spatialReference:this.layer.spatialReference})}get tileSize(){return this.tileInfo.size[0]}};Object(i["a"])([Object(u["b"])({readOnly:!0})],X.prototype,"tiles",null),Object(i["a"])([Object(u["b"])({readOnly:!0})],X.prototype,"tileInfo",null),Object(i["a"])([Object(u["b"])({readOnly:!0})],X.prototype,"tileSize",null),Object(i["a"])([Object(u["b"])({constructOnly:!0})],X.prototype,"layer",void 0),Object(i["a"])([Object(u["b"])()],X.prototype,"pointOfInterest",void 0),X=Object(i["a"])([Object(l["a"])("esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTilesSimple")],X);var Y=n("26cd");let $=class extends(Object(c["b"])(r["a"])){constructor(t){super(t)}get updateTilesParameters(){return{tiles:this.tilesOfInterest.tiles,tileInfo:this.tilesOfInterest.tileInfo,tileSize:this.tilesOfInterest.tileSize}}get updating(){return this.workerHandle.updating||this.updatingHandles.updating}get configuration(){return{filter:this.layer.createQuery(),customParameters:this.layer.customParameters}}get availability(){return this.workerHandle.availability}get layer(){return this.layerSource.layer}initialize(){const t=this.view;if(Object(s["k"])(t))switch(t.type){case"2d":this.tilesOfInterest=new p({view:t,layer:this.layer}),this.workerHandle=new B;break;case"3d":{const e=t.resourceController;this.tilesOfInterest=new w({view:t}),this.workerHandle=new B({schedule:t=>e.schedule(t)});break}}else this.tilesOfInterest=new X({layer:this.layer}),this.workerHandle=new B;this.handles.add([Object(o["a"])(this.workerHandle)]),this.workerHandle.setup({layer:this.layer,spatialReference:this.spatialReference,configuration:this.configuration},null),this.updatingHandles.add(()=>this.updateTilesParameters,()=>this.workerHandle.updateTiles(this.updateTilesParameters,null),a["a"]),this.handles.add([Object(a["f"])(()=>this.configuration,t=>this.workerHandle.configure(t,null),a["d"])]),Object(s["k"])(t)&&this.handles.add(Object(a["f"])(()=>Y["a"].FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES,e=>{e&&!this.debug?(this.debug=new C({view:t,handle:this.workerHandle}),this.handles.add(Object(o["a"])(this.debug),"debug")):!e&&this.debug&&this.handles.remove("debug")},a["a"])),this.handles.add(this.layerSource.layer.on("apply-edits",t=>{this.workerHandle.applyEdits(t,null)}))}refresh(){this.workerHandle.refresh(null)}async fetchCandidates(t,e){return this.tilesOfInterest.pointOfInterest=t.coordinateHelper.vectorToPoint(t.point),(await this.workerHandle.fetchCandidates({...t,filter:null},e)).candidates.map(e=>Object(k["a"])(e,t.coordinateHelper,t.elevationInfo))}getDebugInfo(t){return this.workerHandle.getDebugInfo(t)}};Object(i["a"])([Object(u["b"])({constructOnly:!0})],$.prototype,"spatialReference",void 0),Object(i["a"])([Object(u["b"])({constructOnly:!0})],$.prototype,"layerSource",void 0),Object(i["a"])([Object(u["b"])({constructOnly:!0})],$.prototype,"view",void 0),Object(i["a"])([Object(u["b"])()],$.prototype,"tilesOfInterest",void 0),Object(i["a"])([Object(u["b"])({readOnly:!0})],$.prototype,"updateTilesParameters",null),Object(i["a"])([Object(u["b"])({readOnly:!0})],$.prototype,"updating",null),Object(i["a"])([Object(u["b"])({readOnly:!0})],$.prototype,"configuration",null),Object(i["a"])([Object(u["b"])({readOnly:!0})],$.prototype,"availability",null),$=Object(i["a"])([Object(l["a"])("esri.views.interactive.snapping.featureSources.FeatureServiceSnappingSource")],$)},bd7e:function(t,e,n){"use strict";n.d(e,"a",(function(){return p})),n.d(e,"b",(function(){return g})),n.d(e,"c",(function(){return l})),n.d(e,"d",(function(){return a})),n.d(e,"e",(function(){return f})),n.d(e,"f",(function(){return d})),n.d(e,"g",(function(){return b})),n.d(e,"h",(function(){return O})),n.d(e,"i",(function(){return h})),n.d(e,"j",(function(){return j}));var i=n("38a4"),r=n("2119"),c=n("e431"),o=n("0b2d"),s=n("7361");function a(t){return t?{origin:Object(o["d"])(t.origin),vector:Object(o["d"])(t.vector)}:{origin:Object(o["f"])(),vector:Object(o["f"])()}}function u(t,e){const n=w.get();return n.origin=t,n.vector=e,n}function l(t,e=a()){return b(t.origin,t.vector,e)}function b(t,e,n=a()){return Object(c["g"])(n.origin,t),Object(c["g"])(n.vector,e),n}function d(t,e,n=a()){return Object(c["g"])(n.origin,t),Object(c["f"])(n.vector,e,t),n}function f(t,e){const n=Object(c["f"])(s["d"].get(),e,t.origin),r=Object(c["i"])(t.vector,n),o=Object(c["i"])(t.vector,t.vector),a=Object(i["e"])(r/o,0,1),u=Object(c["f"])(s["d"].get(),Object(c["k"])(s["d"].get(),t.vector,a),n);return Object(c["i"])(u,u)}function h(t,e,n){return j(t,e,0,1,n)}function O(t,e,n){return Object(c["e"])(n,t.origin,Object(c["k"])(n,t.vector,e))}function j(t,e,n,r,o){const{vector:a,origin:u}=t,l=Object(c["f"])(s["d"].get(),e,u),b=Object(c["i"])(a,l)/Object(c["t"])(a);return Object(c["k"])(o,a,Object(i["e"])(b,n,r)),Object(c["e"])(o,o,t.origin)}function g(t,e){if(v(t,u(e.origin,e.direction),!1,y)){const{tA:e,pB:n,distance2:i}=y;if(e>=0&&e<=1)return i;if(e<0)return Object(c["h"])(t.origin,n);if(e>1)return Object(c["h"])(Object(c["e"])(s["d"].get(),t.origin,t.vector),n)}return null}function p(t,e,n){return!!v(t,e,!0,y)&&(Object(c["g"])(n,y.pA),!0)}function v(t,e,n,r){const o=1e-6,a=t.origin,u=Object(c["e"])(s["d"].get(),a,t.vector),l=e.origin,b=Object(c["e"])(s["d"].get(),l,e.vector),d=s["d"].get(),f=s["d"].get();if(d[0]=a[0]-l[0],d[1]=a[1]-l[1],d[2]=a[2]-l[2],f[0]=b[0]-l[0],f[1]=b[1]-l[1],f[2]=b[2]-l[2],Math.abs(f[0])<o&&Math.abs(f[1])<o&&Math.abs(f[2])<o)return!1;const h=s["d"].get();if(h[0]=u[0]-a[0],h[1]=u[1]-a[1],h[2]=u[2]-a[2],Math.abs(h[0])<o&&Math.abs(h[1])<o&&Math.abs(h[2])<o)return!1;const O=d[0]*f[0]+d[1]*f[1]+d[2]*f[2],j=f[0]*h[0]+f[1]*h[1]+f[2]*h[2],g=d[0]*h[0]+d[1]*h[1]+d[2]*h[2],p=f[0]*f[0]+f[1]*f[1]+f[2]*f[2],v=(h[0]*h[0]+h[1]*h[1]+h[2]*h[2])*p-j*j;if(Math.abs(v)<o)return!1;let y=(O*j-g*p)/v,w=(O+j*y)/p;n&&(y=Object(i["e"])(y,0,1),w=Object(i["e"])(w,0,1));const m=s["d"].get(),_=s["d"].get();return m[0]=a[0]+y*h[0],m[1]=a[1]+y*h[1],m[2]=a[2]+y*h[2],_[0]=l[0]+w*f[0],_[1]=l[1]+w*f[1],_[2]=l[2]+w*f[2],r.tA=y,r.tB=w,r.pA=m,r.pB=_,r.distance2=Object(c["h"])(m,_),!0}const y={tA:0,tB:0,pA:Object(o["f"])(),pB:Object(o["f"])(),distance2:0},w=new r["a"](()=>({origin:null,vector:null}))},d18f:function(t,e,n){"use strict";n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return s})),n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return l})),n.d(e,"f",(function(){return b})),n.d(e,"g",(function(){return a}));n("b50f");var i=n("2119"),r=n("e431"),c=n("0b2d"),o=n("7361");function s(t){return t?{origin:Object(c["d"])(t.origin),direction:Object(c["d"])(t.direction)}:{origin:Object(c["f"])(),direction:Object(c["f"])()}}function a(t,e){const n=O.get();return n.origin=t,n.direction=e,n}function u(t,e=s()){return b(t.origin,t.direction,e)}function l(t,e,n=s()){return Object(r["g"])(n.origin,t),Object(r["f"])(n.direction,e,t),n}function b(t,e,n=s()){return Object(r["g"])(n.origin,t),Object(r["g"])(n.direction,e),n}function d(t,e){const n=Object(r["j"])(o["d"].get(),Object(r["r"])(o["d"].get(),t.direction),Object(r["f"])(o["d"].get(),e,t.origin));return Object(r["i"])(n,n)}function f(t,e,n){const i=Object(r["i"])(t.direction,Object(r["f"])(n,e,t.origin));return Object(r["e"])(n,t.origin,Object(r["k"])(n,t.direction,i)),n}function h(){return{origin:null,direction:null}}const O=new i["a"](h)},dae5:function(t,e,n){"use strict";function i(){return[1,0,0,0,1,0,0,0,1]}function r(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]}function c(t,e,n,i,r,c,o,s,a){return[t,e,n,i,r,c,o,s,a]}function o(t,e){return new Float64Array(t,e,9)}n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return i}));Object.freeze(Object.defineProperty({__proto__:null,create:i,clone:r,fromValues:c,createView:o},Symbol.toStringTag,{value:"Module"}))},f895:function(t,e,n){"use strict";n.d(e,"a",(function(){return y})),n.d(e,"b",(function(){return g})),n.d(e,"c",(function(){return j})),n.d(e,"d",(function(){return m})),n.d(e,"e",(function(){return I})),n.d(e,"f",(function(){return _})),n.d(e,"g",(function(){return T})),n.d(e,"h",(function(){return R})),n.d(e,"i",(function(){return U})),n.d(e,"j",(function(){return v}));n("c120");var i=n("e92d"),r=n("38a4"),c=n("b2b2"),o=n("d791"),s=n("e431"),a=n("0b2d"),u=n("7577"),l=n("0fc4"),b=n("3a35"),d=n("d18f"),f=n("a1b1"),h=n("7361");const O=i["a"].getLogger("esri.geometry.support.sphere");function j(){return Object(l["e"])()}function g(t,e=j()){return Object(u["c"])(e,t)}function p(t,e){return Object(l["g"])(t[0],t[1],t[2],e)}function v(t){return t}function y(t){t[0]=t[1]=t[2]=t[3]=0}function w(t,e){return t[0]=t[1]=t[2]=0,t[3]=e,t}function m(t){return t[3]}function _(t){return t}function I(t,e,n,i){return Object(l["g"])(t,e,n,i)}function k(t,e,n){return t!==n&&Object(s["g"])(n,t),n[3]=t[3]+e,n}function S(t,e,n){return O.error("sphere.setExtent is not yet supported"),t===n?n:g(t,n)}function M(t,e,n){if(Object(c["j"])(e))return!1;const{origin:i,direction:r}=e,o=P;o[0]=i[0]-t[0],o[1]=i[1]-t[1],o[2]=i[2]-t[2];const s=r[0]*r[0]+r[1]*r[1]+r[2]*r[2],a=2*(r[0]*o[0]+r[1]*o[1]+r[2]*o[2]),u=a*a-4*s*(o[0]*o[0]+o[1]*o[1]+o[2]*o[2]-t[3]*t[3]);if(u<0)return!1;const l=Math.sqrt(u);let b=(-a-l)/(2*s);const d=(-a+l)/(2*s);return(b<0||d<b&&d>0)&&(b=d),!(b<0)&&(n&&(n[0]=i[0]+r[0]*b,n[1]=i[1]+r[1]*b,n[2]=i[2]+r[2]*b),!0)}const P=Object(a["f"])();function T(t,e){return M(t,e,null)}function N(t,e,n){if(M(t,e,n))return n;const i=E(t,e,h["d"].get());return Object(s["e"])(n,e.origin,Object(s["k"])(h["d"].get(),e.direction,Object(s["m"])(e.origin,i)/Object(s["p"])(e.direction))),n}function E(t,e,n){const i=h["d"].get(),r=h["a"].get();Object(s["j"])(i,e.origin,e.direction);const c=m(t);Object(s["j"])(n,i,e.origin),Object(s["k"])(n,n,1/Object(s["p"])(n)*c);const a=F(t,e.origin),u=Object(f["a"])(e.origin,n);return Object(o["d"])(r,u+a,i),Object(s["q"])(n,n,r),n}function H(t,e,n){return M(t,e,n)?n:(Object(d["a"])(e,_(t),n),A(t,n,n))}function A(t,e,n){const i=Object(s["f"])(h["d"].get(),e,_(t)),r=Object(s["k"])(h["d"].get(),i,t[3]/Object(s["p"])(i));return Object(s["e"])(n,r,_(t))}function V(t,e){const n=Object(s["f"])(h["d"].get(),e,_(t)),i=Object(s["t"])(n),r=t[3]*t[3];return Math.sqrt(Math.abs(i-r))}function F(t,e){const n=Object(s["f"])(h["d"].get(),e,_(t)),i=Object(s["p"])(n),c=m(t),o=c+Math.abs(c-i);return Object(r["b"])(c/o)}const z=Object(a["f"])();function C(t,e,n,i){const c=Object(s["f"])(z,e,_(t));switch(n){case b["a"].X:{const t=Object(r["d"])(c,z)[2];return Object(s["w"])(i,-Math.sin(t),Math.cos(t),0)}case b["a"].Y:{const t=Object(r["d"])(c,z),e=t[1],n=t[2],o=Math.sin(e);return Object(s["w"])(i,-o*Math.cos(n),-o*Math.sin(n),Math.cos(e))}case b["a"].Z:return Object(s["r"])(i,c);default:return}}function x(t,e){const n=Object(s["f"])(B,e,_(t));return Object(s["p"])(n)-t[3]}function L(t,e,n,i){const r=x(t,e),c=C(t,e,b["a"].Z,B),o=Object(s["k"])(B,c,n-r);return Object(s["e"])(i,e,o)}function R(t,e){const n=Object(s["h"])(_(t),e),i=m(t);return n<=i*i}const B=Object(a["f"])(),q=j(),U=Object.freeze(Object.defineProperty({__proto__:null,create:j,copy:g,fromCenterAndRadius:p,wrap:v,clear:y,fromRadius:w,getRadius:m,getCenter:_,fromValues:I,elevate:k,setExtent:S,intersectRay:M,intersectsRay:T,intersectRayClosestSilhouette:N,closestPointOnSilhouette:E,closestPoint:H,projectPoint:A,distanceToSilhouette:V,angleToSilhouette:F,axisAt:C,altitudeAt:x,setAltitudeAt:L,containsPoint:R,tmpSphere:q},Symbol.toStringTag,{value:"Module"}))}}]);
//# sourceMappingURL=chunk-7a83bcae.4df20c97.js.map