(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-89d14aea"],{2119:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("2ab7");class i{constructor(t){this.allocator=t,this._items=[],this._itemsPtr=0,this._grow()}get(){return 0===this._itemsPtr&&Object(r["a"])(()=>this._reset()),this._itemsPtr===this._items.length&&this._grow(),this._items[this._itemsPtr++]}_reset(){const t=Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3*o);this._items.length=Math.min(t,this._items.length),this._itemsPtr=0}_grow(){for(let t=0;t<Math.max(8,Math.min(this._items.length,o));t++)this._items.push(this.allocator())}}const o=1024},"2a00":function(t,e,n){"use strict";n.r(e),n.d(e,"destroyContext",(function(){return p})),n.d(e,"dracoDecompressPointCloudData",(function(){return j})),n.d(e,"filterObbsForModifications",(function(){return g})),n.d(e,"filterObbsForModificationsSync",(function(){return A})),n.d(e,"initialize",(function(){return v})),n.d(e,"interpretObbModificationResults",(function(){return S})),n.d(e,"process",(function(){return O})),n.d(e,"setLegacySchema",(function(){return _})),n.d(e,"setModifications",(function(){return y})),n.d(e,"setModificationsSync",(function(){return M})),n.d(e,"test",(function(){return L}));var r,i,o=n("b2b2"),c=n("a21b");!function(t){t[t.None=0]="None",t[t.Int16=1]="Int16",t[t.Int32=2]="Int32"}(r||(r={})),function(t){t[t.Replace=0]="Replace",t[t.Outside=1]="Outside",t[t.Inside=2]="Inside",t[t.Finished=3]="Finished"}(i||(i={}));var u=n("b2cd");function s(){return a||(a=new Promise(t=>n.e("chunk-0a492f92").then(n.bind(null,"8a55")).then(t=>t.i).then(({default:e})=>{const n=e({locateFile:f,onRuntimeInitialized:()=>t(n)});delete n.then})).catch(t=>{throw t})),a}function f(t){return Object(u["a"])("esri/libs/i3s/"+t)}let a;var d,b,l,h,m;n("f895");!function(t){t[t.Unmodified=0]="Unmodified",t[t.Culled=1]="Culled",t[t.NotChecked=2]="NotChecked"}(d||(d={})),function(t){t[t.Unmodified=0]="Unmodified",t[t.PotentiallyModified=1]="PotentiallyModified",t[t.Culled=2]="Culled",t[t.Unknown=3]="Unknown",t[t.NotChecked=4]="NotChecked"}(b||(b={}));!function(t){t[t.Unknown=0]="Unknown",t[t.Uncached=1]="Uncached",t[t.Cached=2]="Cached"}(l||(l={})),function(t){t[t.None=0]="None",t[t.MaxScreenThreshold=1]="MaxScreenThreshold",t[t.ScreenSpaceRelative=2]="ScreenSpaceRelative",t[t.RemovedFeatureDiameter=3]="RemovedFeatureDiameter",t[t.DistanceRangeFromDefaultCamera=4]="DistanceRangeFromDefaultCamera"}(h||(h={})),function(t){t[t.Hole=0]="Hole",t[t.Leaf=1]="Leaf"}(m||(m={}));async function O(t){await v();const e=[t.geometryBuffer];return{result:E(t,e),transferList:e}}async function j(t){var e;await v();const n=[t.geometryBuffer],{geometryBuffer:r}=t,i=r.byteLength,o=P._malloc(i),u=new Uint8Array(P.HEAPU8.buffer,o,i);u.set(new Uint8Array(r));const s=P.dracoDecompressPointCloudData(o,u.byteLength);if(P._free(o),s.error.length>0)throw"i3s.wasm: "+s.error;const f=(null==(e=s.featureIds)?void 0:e.length)>0?Object(c["m"])(s.featureIds):null,a=Object(c["m"])(s.positions);return f&&n.push(f.buffer),n.push(a.buffer),{result:{positions:a,featureIds:f},transferList:n}}async function g(t){await v(),A(t);const e={buffer:t.buffer};return{result:e,transferList:[e.buffer]}}async function y(t){await v(),M(t)}async function _(t){await v(),P.setLegacySchema(t.context,t.jsonSchema)}function p(t){T(t)}let w,P;function M(t){const e=t.modifications,n=P._malloc(8*e.length),r=new Float64Array(P.HEAPU8.buffer,n,e.length);for(let i=0;i<e.length;++i)r[i]=e[i];P.setModifications(t.context,n,e.length,t.isGeodetic),P._free(n)}function E(t,e){if(!P)return null;const{context:n,localOrigin:i,globalTrafo:u,mbs:s,obb:f,elevationOffset:a,geometryBuffer:d,geometryDescriptor:b,indexToVertexProjector:l,vertexToRenderProjector:h}=t,m=P._malloc(d.byteLength),O=33,j=P._malloc(O*Float64Array.BYTES_PER_ELEMENT),g=new Uint8Array(P.HEAPU8.buffer,m,d.byteLength);g.set(new Uint8Array(d));const y=new Float64Array(P.HEAPU8.buffer,j,O);I(y,i);let _=y.byteOffset+3*y.BYTES_PER_ELEMENT,p=new Float64Array(y.buffer,_);I(p,u),_+=16*y.BYTES_PER_ELEMENT,p=new Float64Array(y.buffer,_),I(p,s),_+=4*y.BYTES_PER_ELEMENT,Object(o["k"])(f)&&(p=new Float64Array(y.buffer,_),I(p,f.center),_+=3*y.BYTES_PER_ELEMENT,p=new Float64Array(y.buffer,_),I(p,f.halfSize),_+=3*y.BYTES_PER_ELEMENT,p=new Float64Array(y.buffer,_),I(p,f.quaternion));const w=b,M={isDraco:!1,isLegacy:!1,color:t.layouts.some(t=>t.some(t=>"color"===t.name)),normal:t.needNormals&&t.layouts.some(t=>t.some(t=>"normalCompressed"===t.name)),uv0:t.layouts.some(t=>t.some(t=>"uv0"===t.name)),uvRegion:t.layouts.some(t=>t.some(t=>"uvRegion"===t.name)),featureIndex:w.featureIndex},E=P.process(n,!!t.obb,m,g.byteLength,w,M,j,a,l,h,t.normalReferenceFrame);if(P._free(j),P._free(m),E.error.length>0)throw"i3s.wasm: "+E.error;if(E.discarded)return null;const S=E.componentOffsets.length>0?Object(c["m"])(E.componentOffsets):null,A=E.featureIds.length>0?Object(c["m"])(E.featureIds):null,T=Object(c["m"])(E.interleavedVertedData).buffer,v=E.indicesType===r.Int16?Object(c["m"])(new Uint16Array(E.indices.buffer,E.indices.byteOffset,E.indices.byteLength/2)):Object(c["m"])(new Uint32Array(E.indices.buffer,E.indices.byteOffset,E.indices.byteLength/4)),L=Object(c["m"])(E.positions),B=E.positionIndicesType===r.Int16?Object(c["m"])(new Uint16Array(E.positionIndices.buffer,E.positionIndices.byteOffset,E.positionIndices.byteLength/2)):Object(c["m"])(new Uint32Array(E.positionIndices.buffer,E.positionIndices.byteOffset,E.positionIndices.byteLength/4)),R={layout:t.layouts[0],interleavedVertexData:T,indices:v,hasColors:E.hasColors,hasModifications:E.hasModifications,positionData:{data:L,indices:B}};return A&&e.push(A.buffer),S&&e.push(S.buffer),e.push(T),e.push(v.buffer),e.push(L.buffer),e.push(B.buffer),{componentOffsets:S,featureIds:A,transformedGeometry:R,obb:E.obb}}function S(t){return 0===t?b.Unmodified:1===t?b.PotentiallyModified:2===t?b.Culled:b.Unknown}function A(t){const{context:e,buffer:n}=t,r=P._malloc(n.byteLength),i=n.byteLength/Float64Array.BYTES_PER_ELEMENT,o=new Float64Array(P.HEAPU8.buffer,r,i),c=new Float64Array(n);o.set(c),P.filterOBBs(e,r,i),c.set(o),P._free(r)}function T(t){P&&P.destroy(t)}function I(t,e){for(let n=0;n<e.length;++n)t[n]=e[n]}function v(){return P?Promise.resolve():(w||(w=s().then(t=>{P=t,w=null})),w)}const L={transform:E,destroy:T}},"3a35":function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t[t.X=0]="X",t[t.Y=1]="Y",t[t.Z=2]="Z"}(r||(r={}))},7361:function(t,e,n){"use strict";n.d(e,"a",(function(){return O})),n.d(e,"b",(function(){return j})),n.d(e,"c",(function(){return l})),n.d(e,"d",(function(){return h})),n.d(e,"e",(function(){return m}));var r=n("f0b9"),i=n("2ab7"),o=n("dae5"),c=n("afe1"),u=n("b139"),s=n("02f1"),f=n("0b2d"),a=n("0fc4");class d{constructor(t,e,n){this.itemByteSize=t,this.itemCreate=e,this._buffers=new Array,this._items=new Array,this._itemsPtr=0,this._itemsPerBuffer=Math.ceil(n/this.itemByteSize)}get(){0===this._itemsPtr&&Object(i["a"])(()=>this._reset());const t=Math.floor(this._itemsPtr/this._itemsPerBuffer);for(;this._buffers.length<=t;){const t=new ArrayBuffer(this._itemsPerBuffer*this.itemByteSize);for(let e=0;e<this._itemsPerBuffer;++e)this._items.push(this.itemCreate(t,e*this.itemByteSize));this._buffers.push(t)}return this._items[this._itemsPtr++]}_reset(){const t=2*(Math.floor(this._itemsPtr/this._itemsPerBuffer)+1);for(;this._buffers.length>t;)this._buffers.pop(),this._items.length=this._buffers.length*this._itemsPerBuffer;this._itemsPtr=0}static createVec2f64(t=b){return new d(16,s["e"],t)}static createVec3f64(t=b){return new d(24,f["e"],t)}static createVec4f64(t=b){return new d(32,a["c"],t)}static createMat3f64(t=b){return new d(72,o["a"],t)}static createMat4f64(t=b){return new d(128,c["b"],t)}static createQuatf64(t=b){return new d(32,u["d"],t)}get test(){return{size:this._buffers.length*this._itemsPerBuffer*this.itemByteSize}}}const b=4*r["a"].KILOBYTES,l=d.createVec2f64(),h=d.createVec3f64(),m=d.createVec4f64(),O=(d.createMat3f64(),d.createMat4f64()),j=d.createQuatf64()},a1b1:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return c})),n.d(e,"d",(function(){return u}));var r=n("38a4"),i=n("e431"),o=n("0b2d");function c(t,e,n){const r=Object(i["i"])(t,e)/Object(i["i"])(t,t);return Object(i["k"])(n,t,r)}function u(t,e){return Object(i["i"])(t,e)/Object(i["p"])(t)}function s(t,e){const n=Object(i["i"])(t,e)/(Object(i["p"])(t)*Object(i["p"])(e));return-Object(r["b"])(n)}function f(t,e,n){Object(i["r"])(a,t),Object(i["r"])(d,e);const o=Object(i["i"])(a,d),c=Object(r["b"])(o),u=Object(i["j"])(a,a,d);return Object(i["i"])(u,n)<0?2*Math.PI-c:c}const a=Object(o["f"])(),d=Object(o["f"])()},afe1:function(t,e,n){"use strict";function r(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function i(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]}function o(t,e,n,r,i,o,c,u,s,f,a,d,b,l,h,m){return[t,e,n,r,i,o,c,u,s,f,a,d,b,l,h,m]}function c(t,e){return new Float64Array(t,e,16)}n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return i})),n.d(e,"d",(function(){return r})),n.d(e,"e",(function(){return o}));const u=r();Object.freeze(Object.defineProperty({__proto__:null,create:r,clone:i,fromValues:o,createView:c,IDENTITY:u},Symbol.toStringTag,{value:"Module"}))},b139:function(t,e,n){"use strict";function r(){return[0,0,0,1]}function i(t){return[t[0],t[1],t[2],t[3]]}function o(t,e,n,r){return[t,e,n,r]}function c(t,e){return new Float64Array(t,e,4)}n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"d",(function(){return c}));const u=r();Object.freeze(Object.defineProperty({__proto__:null,create:r,clone:i,fromValues:o,createView:c,IDENTITY:u},Symbol.toStringTag,{value:"Module"}))},d18f:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return u})),n.d(e,"d",(function(){return b})),n.d(e,"e",(function(){return a})),n.d(e,"f",(function(){return d})),n.d(e,"g",(function(){return s}));n("b50f");var r=n("2119"),i=n("e431"),o=n("0b2d"),c=n("7361");function u(t){return t?{origin:Object(o["d"])(t.origin),direction:Object(o["d"])(t.direction)}:{origin:Object(o["f"])(),direction:Object(o["f"])()}}function s(t,e){const n=m.get();return n.origin=t,n.direction=e,n}function f(t,e=u()){return d(t.origin,t.direction,e)}function a(t,e,n=u()){return Object(i["g"])(n.origin,t),Object(i["f"])(n.direction,e,t),n}function d(t,e,n=u()){return Object(i["g"])(n.origin,t),Object(i["g"])(n.direction,e),n}function b(t,e){const n=Object(i["j"])(c["d"].get(),Object(i["r"])(c["d"].get(),t.direction),Object(i["f"])(c["d"].get(),e,t.origin));return Object(i["i"])(n,n)}function l(t,e,n){const r=Object(i["i"])(t.direction,Object(i["f"])(n,e,t.origin));return Object(i["e"])(n,t.origin,Object(i["k"])(n,t.direction,r)),n}function h(){return{origin:null,direction:null}}const m=new r["a"](h)},dae5:function(t,e,n){"use strict";function r(){return[1,0,0,0,1,0,0,0,1]}function i(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]}function o(t,e,n,r,i,o,c,u,s){return[t,e,n,r,i,o,c,u,s]}function c(t,e){return new Float64Array(t,e,9)}n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return r}));Object.freeze(Object.defineProperty({__proto__:null,create:r,clone:i,fromValues:o,createView:c},Symbol.toStringTag,{value:"Module"}))},f895:function(t,e,n){"use strict";n.d(e,"a",(function(){return _})),n.d(e,"b",(function(){return j})),n.d(e,"c",(function(){return O})),n.d(e,"d",(function(){return w})),n.d(e,"e",(function(){return M})),n.d(e,"f",(function(){return P})),n.d(e,"g",(function(){return I})),n.d(e,"h",(function(){return D})),n.d(e,"i",(function(){return Y})),n.d(e,"j",(function(){return y}));n("c120");var r=n("e92d"),i=n("38a4"),o=n("b2b2"),c=n("d791"),u=n("e431"),s=n("0b2d"),f=n("7577"),a=n("0fc4"),d=n("3a35"),b=n("d18f"),l=n("a1b1"),h=n("7361");const m=r["a"].getLogger("esri.geometry.support.sphere");function O(){return Object(a["e"])()}function j(t,e=O()){return Object(f["c"])(e,t)}function g(t,e){return Object(a["g"])(t[0],t[1],t[2],e)}function y(t){return t}function _(t){t[0]=t[1]=t[2]=t[3]=0}function p(t,e){return t[0]=t[1]=t[2]=0,t[3]=e,t}function w(t){return t[3]}function P(t){return t}function M(t,e,n,r){return Object(a["g"])(t,e,n,r)}function E(t,e,n){return t!==n&&Object(u["g"])(n,t),n[3]=t[3]+e,n}function S(t,e,n){return m.error("sphere.setExtent is not yet supported"),t===n?n:j(t,n)}function A(t,e,n){if(Object(o["j"])(e))return!1;const{origin:r,direction:i}=e,c=T;c[0]=r[0]-t[0],c[1]=r[1]-t[1],c[2]=r[2]-t[2];const u=i[0]*i[0]+i[1]*i[1]+i[2]*i[2],s=2*(i[0]*c[0]+i[1]*c[1]+i[2]*c[2]),f=s*s-4*u*(c[0]*c[0]+c[1]*c[1]+c[2]*c[2]-t[3]*t[3]);if(f<0)return!1;const a=Math.sqrt(f);let d=(-s-a)/(2*u);const b=(-s+a)/(2*u);return(d<0||b<d&&b>0)&&(d=b),!(d<0)&&(n&&(n[0]=r[0]+i[0]*d,n[1]=r[1]+i[1]*d,n[2]=r[2]+i[2]*d),!0)}const T=Object(s["f"])();function I(t,e){return A(t,e,null)}function v(t,e,n){if(A(t,e,n))return n;const r=L(t,e,h["d"].get());return Object(u["e"])(n,e.origin,Object(u["k"])(h["d"].get(),e.direction,Object(u["m"])(e.origin,r)/Object(u["p"])(e.direction))),n}function L(t,e,n){const r=h["d"].get(),i=h["a"].get();Object(u["j"])(r,e.origin,e.direction);const o=w(t);Object(u["j"])(n,r,e.origin),Object(u["k"])(n,n,1/Object(u["p"])(n)*o);const s=C(t,e.origin),f=Object(l["a"])(e.origin,n);return Object(c["d"])(i,f+s,r),Object(u["q"])(n,n,i),n}function B(t,e,n){return A(t,e,n)?n:(Object(b["a"])(e,P(t),n),R(t,n,n))}function R(t,e,n){const r=Object(u["f"])(h["d"].get(),e,P(t)),i=Object(u["k"])(h["d"].get(),r,t[3]/Object(u["p"])(r));return Object(u["e"])(n,i,P(t))}function U(t,e){const n=Object(u["f"])(h["d"].get(),e,P(t)),r=Object(u["t"])(n),i=t[3]*t[3];return Math.sqrt(Math.abs(r-i))}function C(t,e){const n=Object(u["f"])(h["d"].get(),e,P(t)),r=Object(u["p"])(n),o=w(t),c=o+Math.abs(o-r);return Object(i["b"])(o/c)}const F=Object(s["f"])();function k(t,e,n,r){const o=Object(u["f"])(F,e,P(t));switch(n){case d["a"].X:{const t=Object(i["d"])(o,F)[2];return Object(u["w"])(r,-Math.sin(t),Math.cos(t),0)}case d["a"].Y:{const t=Object(i["d"])(o,F),e=t[1],n=t[2],c=Math.sin(e);return Object(u["w"])(r,-c*Math.cos(n),-c*Math.sin(n),Math.cos(e))}case d["a"].Z:return Object(u["r"])(r,o);default:return}}function x(t,e){const n=Object(u["f"])(V,e,P(t));return Object(u["p"])(n)-t[3]}function N(t,e,n,r){const i=x(t,e),o=k(t,e,d["a"].Z,V),c=Object(u["k"])(V,o,n-i);return Object(u["e"])(r,e,c)}function D(t,e){const n=Object(u["h"])(P(t),e),r=w(t);return n<=r*r}const V=Object(s["f"])(),z=O(),Y=Object.freeze(Object.defineProperty({__proto__:null,create:O,copy:j,fromCenterAndRadius:g,wrap:y,clear:_,fromRadius:p,getRadius:w,getCenter:P,fromValues:M,elevate:E,setExtent:S,intersectRay:A,intersectsRay:I,intersectRayClosestSilhouette:v,closestPointOnSilhouette:L,closestPoint:B,projectPoint:R,distanceToSilhouette:U,angleToSilhouette:C,axisAt:k,altitudeAt:x,setAltitudeAt:N,containsPoint:D,tmpSphere:z},Symbol.toStringTag,{value:"Module"}))}}]);
//# sourceMappingURL=chunk-89d14aea.b0eeb95f.js.map