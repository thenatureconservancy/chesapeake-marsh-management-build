{"version":3,"sources":["webpack:///./node_modules/@arcgis/core/core/multiOriginJSONSupportUtils.js","webpack:///./node_modules/@arcgis/core/layers/support/I3SIndexInfo.js","webpack:///./node_modules/@arcgis/core/webdoc/support/saveUtils.js","webpack:///./node_modules/@arcgis/core/layers/mixins/SceneService.js","webpack:///./node_modules/@arcgis/core/layers/support/VoxelDynamicSection.js","webpack:///./node_modules/@arcgis/core/layers/support/VoxelSlice.js","webpack:///./node_modules/@arcgis/core/layers/support/VoxelSection.js","webpack:///./node_modules/@arcgis/core/layers/support/VoxelSimpleShading.js","webpack:///./node_modules/@arcgis/core/layers/support/VoxelFormat.js","webpack:///./node_modules/@arcgis/core/layers/support/VoxelVariable.js","webpack:///./node_modules/@arcgis/core/layers/support/VoxelIsosurface.js","webpack:///./node_modules/@arcgis/core/layers/support/VoxelAlphaStop.js","webpack:///./node_modules/@arcgis/core/layers/support/VoxelColorStop.js","webpack:///./node_modules/@arcgis/core/layers/support/VoxelRangeFilter.js","webpack:///./node_modules/@arcgis/core/layers/support/VoxelTransferFunctionStyle.js","webpack:///./node_modules/@arcgis/core/layers/support/VoxelUniqueValue.js","webpack:///./node_modules/@arcgis/core/layers/support/VoxelVariableStyle.js","webpack:///./node_modules/@arcgis/core/layers/support/VoxelIrregularSpacing.js","webpack:///./node_modules/@arcgis/core/layers/support/VoxelRegularSpacing.js","webpack:///./node_modules/@arcgis/core/layers/support/VoxelDimension.js","webpack:///./node_modules/@arcgis/core/layers/support/VoxelVolume.js","webpack:///./node_modules/@arcgis/core/layers/support/VoxelVolumeIndex.js","webpack:///./node_modules/@arcgis/core/layers/support/VoxelVolumeStyle.js","webpack:///./node_modules/@arcgis/core/layers/VoxelLayer.js","webpack:///./node_modules/@arcgis/core/core/accessorSupport/originUtils.js","webpack:///./node_modules/@arcgis/core/portal/support/resourceUtils.js"],"names":["i","async","n","t","s","a","d","l","r","o","Math","floor","rootIndex","nodesPerPage","type","rootPage","e","query","f","token","responseType","signal","data","pageSize","lodMetric","lodSelectionMetricType","urlPrefix","warn","p","c","split","pop","rootNode","pageError","nodeError","url","u","resources","h","portalItem","Set","paths","length","toKeep","map","resource","path","m","forEach","delete","push","toUpdate","has","content","finish","error","add","toAdd","resourceFromPath","removeResource","catch","filter","errors","addResource","ok","update","R","getLogger","A","constructor","super","arguments","this","spatialReference","fullExtent","heightModelInfo","minScale","maxScale","version","major","Number","NaN","minor","versionString","copyright","sublayerTitleMode","title","layerId","indexInfo","_debouncedSaveOperations","K","SAVE","_save","SAVE_AS","_saveAs","readSpatialReference","_readSpatialReference","y","fromJSON","store","indexCRS","geographicCRS","parseInt","substring","lastIndexOf","readFullExtent","extent","Array","isArray","some","N","xmin","ymin","xmax","ymax","parseVersionString","readVersion","toString","readTitlePortalItem","readTitleService","name","v","S","layer","nonStandardUrlAllowed","logger","_set","writeUrl","g","_get","x","parsedUrl","apiKey","hasZ","_updateExtent","nodes","obb","center","halfSize","sqrt","zmin","zmax","mbs","test","_fetchFirstLayerId","_fetchServiceLayer","layers","id","ssl","replace","layerType","_fetchVoxelServiceLayer","read","origin","validateLayer","load","beforeSave","_updateTypeKeywords","typeKeywords","getTypeKeywords","indexOf","U","newItem","O","j","from","Promise","reject","clone","portal","b","getDefault","_ensureLoadBeforeSave","T","messages","writtenProperties","blockedRelativeUrls","pendingOperations","write","all","_validateAgainstJSONSchema","_signIn","user","addItem","item","folder","_","resourceReferences","itemUrl","existingItem","message","details","validationOptions","ignoreUnsupported","enabled","E","validate","portalItemLayerType","join","failPolicy","concat","combined","w","prototype","readOnly","json","origins","service","source","String","target","isRequired","ignoreOrigin","I","label","normal","point","Boolean","default","href","sizeInPixel","slices","timeId","variableId","readHref","diffuseFactor","specularFactor","range","min","max","continuity","hasNoData","noData","offset","scale","description","originalFormat","renderingFormat","unit","volumeId","color","value","alpha","position","interpolation","stretchRange","rangeFilter","colorStops","alphaStops","ofType","overridePolicy","transferFunction","uniqueValues","isosurfaces","values","irregularSpacing","isPositiveUp","isWrappedDateLine","quantity","regularSpacing","size","dimensions","getZDimension","isVolumeValid","apronWidth","brickSize","maxLodLevel","nodeSize","isValid","verticalExaggeration","exaggerationMode","verticalOffset","dynamicSections","J","serviceRoot","popupEnabled","operationalLayerType","legendEnabled","sections","currentVariableId","volumeStyles","renderMode","variableStyles","enableSlices","enableSections","enableDynamicSections","enableIsosurfaces","shading","opacity","variables","volumes","index","V","loadFromPortal","supportedTypes","then","_fetchService","addResolvingPromise","resolve","isNaN","serviceVersion","supportedVersions","getConfiguration","toJSON","style","JSON","stringify","getVariableStyle","findIndex","getItemAt","getVariable","getSections","D","getVolume","find","getVolumeStyle","getSlices","_isPlaneValid","getDynamicSections","getVerticalExaggeration","getVerticalOffset","abs","nonNullable","L","M","P","propName","newOrigin","originOf","updateOrigin","start","num","sortOrder","sortField","_request","total","nextStart","created","Date","hasPath","userItemUrl","FormData","append","access","method","body","deleteAll","slice","Blob"],"mappings":"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","file":"js/chunk-2df33656.5417ed4f.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nfunction i(i){return i&&\"getAtOrigin\"in i&&\"originOf\"in i}export{i as isMultiOriginJSONMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import o from\"../../core/Error.js\";import{isSome as r}from\"../../core/maybe.js\";async function n(n,t,s,a,i,d){let l=null;if(r(s)){const o=`${n}/nodepages/`,t=o+Math.floor(s.rootIndex/s.nodesPerPage);try{return{type:\"page\",rootPage:(await e(t,{query:{f:\"json\",token:a},responseType:\"json\",signal:d})).data,rootIndex:s.rootIndex,pageSize:s.nodesPerPage,lodMetric:s.lodSelectionMetricType,urlPrefix:o}}catch(f){r(i)&&i.warn(\"#fetchIndexInfo()\",\"Failed to load root node page. Falling back to node documents.\",t,f),l=f}}if(!t)return null;const p=`${n}/nodes/`,c=p+(t&&t.split(\"/\").pop());try{return{type:\"node\",rootNode:(await e(c,{query:{f:\"json\",token:a},responseType:\"json\",signal:d})).data,urlPrefix:p}}catch(f){throw new o(\"sceneservice:root-node-missing\",\"Root node missing.\",{pageError:l,nodeError:f,url:c})}}export{n as fetchIndexInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{result as r}from\"../../core/asyncUtils.js\";import e from\"../../core/Error.js\";import{eachAlways as o,throwIfAborted as t}from\"../../core/promiseUtils.js\";import{generateUUID as s}from\"../../core/uuid.js\";import{getSiblingOfSameTypeI as c}from\"../../portal/support/resourceUtils.js\";async function a(r,a,u){if(!a||!a.resources)return;const h=a.portalItem===r.portalItem?new Set(r.paths):new Set;r.paths.length=0,r.portalItem=a.portalItem;const i=new Set(a.resources.toKeep.map((r=>r.resource.path))),f=new Set,m=[];i.forEach((e=>{h.delete(e),r.paths.push(e)}));for(const e of a.resources.toUpdate)if(h.delete(e.resource.path),i.has(e.resource.path)||f.has(e.resource.path)){const{resource:o,content:t,finish:a,error:p}=e,h=c(o,s());r.paths.push(h.path),m.push(n({resource:h,content:t,finish:a,error:p},u))}else r.paths.push(e.resource.path),m.push(p(e,u)),f.add(e.resource.path);for(const e of a.resources.toAdd)m.push(n(e,u)),r.paths.push(e.resource.path);if(h.forEach((r=>{const e=a.portalItem.resourceFromPath(r);m.push(e.portalItem.removeResource(e).catch((()=>{})))})),0===m.length)return;const l=await o(m);t(u);const d=l.filter((r=>\"error\"in r)).map((r=>r.error));if(d.length>0)throw new e(\"save:resources\",\"Failed to save one or more resources\",{errors:d})}async function n(e,o){const t=await r(e.resource.portalItem.addResource(e.resource,e.content,o));if(!0!==t.ok)throw e.error&&e.error(t.error),t.error;e.finish&&e.finish(e.resource)}async function p(e,o){const t=await r(e.resource.update(e.content,o));if(!0!==t.ok)throw e.error(t.error),t.error;e.finish(e.resource)}export{a as saveResources};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../request.js\";import r from\"../../core/Error.js\";import\"../../core/has.js\";import i from\"../../core/Logger.js\";import{isSome as o}from\"../../core/maybe.js\";import{debounce as s}from\"../../core/promiseUtils.js\";import{urlToObject as a}from\"../../core/urlUtils.js\";import{property as n}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{reader as l}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as c}from\"../../core/accessorSupport/decorators/writer.js\";import{updateOrigins as d}from\"../../core/accessorSupport/originUtils.js\";import u from\"../../geometry/Extent.js\";import m from\"../../geometry/HeightModelInfo.js\";import y from\"../../geometry/SpatialReference.js\";import{titleFromUrlAndName as h,parse as f,cleanTitle as v,sanitizeUrlWithLayerId as S,writeUrlWithLayerId as g}from\"../support/arcgisLayerUrl.js\";import{id as w,url as I}from\"../support/commonProperties.js\";import{fetchIndexInfo as x}from\"../support/I3SIndexInfo.js\";import b from\"../../portal/Portal.js\";import j from\"../../portal/PortalItem.js\";import{saveResources as _}from\"../../webdoc/support/saveUtils.js\";const R=i.getLogger(\"esri.layers.mixins.SceneService\"),A=i=>{let A=class extends i{constructor(){super(...arguments),this.spatialReference=null,this.fullExtent=null,this.heightModelInfo=null,this.minScale=0,this.maxScale=0,this.version={major:Number.NaN,minor:Number.NaN,versionString:\"\"},this.copyright=null,this.sublayerTitleMode=\"item-title\",this.title=null,this.layerId=null,this.indexInfo=null,this._debouncedSaveOperations=s((async(e,t,r)=>{switch(e){case K.SAVE:return this._save(t);case K.SAVE_AS:return this._saveAs(r,t)}}))}readSpatialReference(e,t){return this._readSpatialReference(t)}_readSpatialReference(e){if(null!=e.spatialReference)return y.fromJSON(e.spatialReference);{const t=e.store,r=t.indexCRS||t.geographicCRS,i=r&&parseInt(r.substring(r.lastIndexOf(\"/\")+1,r.length),10);return null!=i?new y(i):null}}readFullExtent(e,t,r){if(null!=e&&\"object\"==typeof e){const i=null==e.spatialReference?{...e,spatialReference:this._readSpatialReference(t)}:e;return u.fromJSON(i,r)}const i=t.store,o=this._readSpatialReference(t);return null==o||null==i||null==i.extent||!Array.isArray(i.extent)||i.extent.some((e=>e<N))?null:new u({xmin:i.extent[0],ymin:i.extent[1],xmax:i.extent[2],ymax:i.extent[3],spatialReference:o})}parseVersionString(e){const t={major:Number.NaN,minor:Number.NaN,versionString:e},r=e.split(\".\");return r.length>=2&&(t.major=parseInt(r[0],10),t.minor=parseInt(r[1],10)),t}readVersion(e,t){const r=t.store,i=null!=r.version?r.version.toString():\"\";return this.parseVersionString(i)}readTitlePortalItem(e){return\"item-title\"!==this.sublayerTitleMode?void 0:e}readTitleService(e,t){const r=this.portalItem&&this.portalItem.title;if(\"item-title\"===this.sublayerTitleMode)return h(this.url,t.name);let i=t.name;if(!i&&this.url){const e=f(this.url);o(e)&&(i=e.title)}return\"item-title-and-service-name\"===this.sublayerTitleMode&&r&&(i=r+\" - \"+i),v(i)}set url(e){const t=S({layer:this,url:e,nonStandardUrlAllowed:!1,logger:R});this._set(\"url\",t.url),null!=t.layerId&&this._set(\"layerId\",t.layerId)}writeUrl(e,t,r,i){g(this,e,\"layers\",t,i)}get parsedUrl(){const e=this._get(\"url\");if(!e)return null;const t=a(e);return null!=this.layerId&&(t.path=`${t.path}/layers/${this.layerId}`),t}async _fetchIndexAndUpdateExtent(e,t){this.indexInfo=x(this.parsedUrl.path,this.rootNode,e,this.apiKey,R,t),null==this.fullExtent||this.fullExtent.hasZ||this._updateExtent(await this.indexInfo)}_updateExtent(e){if(\"page\"===e?.type){const t=e.rootIndex%e.pageSize,i=e.rootPage?.nodes?.[t];if(null==i||null==i.obb||null==i.obb.center||null==i.obb.halfSize)throw new r(\"sceneservice:invalid-node-page\",\"Invalid node page.\");if(i.obb.center[0]<N||null==this.fullExtent||this.fullExtent.hasZ)return;const o=i.obb.halfSize,s=i.obb.center[2],a=Math.sqrt(o[0]*o[0]+o[1]*o[1]+o[2]*o[2]);this.fullExtent.zmin=s-a,this.fullExtent.zmax=s+a}else if(\"node\"===e?.type){const t=e.rootNode?.mbs;if(!Array.isArray(t)||4!==t.length||t[0]<N)return;const r=t[2],i=t[3];this.fullExtent.zmin=r-i,this.fullExtent.zmax=r+i}}async _fetchService(e){if(null==this.url)throw new r(\"sceneservice:url-not-set\",\"Scene service can not be loaded without valid portal item or url\");if(null==this.layerId&&/SceneServer\\/*$/i.test(this.url)){const t=await this._fetchFirstLayerId(e);null!=t&&(this.layerId=t)}return this._fetchServiceLayer(e)}async _fetchFirstLayerId(e){const r=await t(this.url,{query:{f:\"json\",token:this.apiKey},responseType:\"json\",signal:e});if(r.data&&Array.isArray(r.data.layers)&&r.data.layers.length>0)return r.data.layers[0].id}async _fetchServiceLayer(e){const r=await t(this.parsedUrl.path,{query:{f:\"json\",token:this.apiKey},responseType:\"json\",signal:e});r.ssl&&(this.url=this.url.replace(/^http:/i,\"https:\"));let i=!1;if(r.data.layerType&&\"Voxel\"===r.data.layerType&&(i=!0),i)return this._fetchVoxelServiceLayer();const o=r.data;this.read(o,{origin:\"service\",url:this.parsedUrl}),this.validateLayer(o)}async _fetchVoxelServiceLayer(e){const r=(await t(this.parsedUrl.path+\"/layer\",{query:{f:\"json\",token:this.apiKey},responseType:\"json\",signal:e})).data;this.read(r,{origin:\"service\",url:this.parsedUrl}),this.validateLayer(r)}async _ensureLoadBeforeSave(){await this.load(),\"beforeSave\"in this&&\"function\"==typeof this.beforeSave&&await this.beforeSave()}validateLayer(e){}_updateTypeKeywords(e,t,r){e.typeKeywords||(e.typeKeywords=[]);const i=t.getTypeKeywords();for(const o of i)e.typeKeywords.push(o);e.typeKeywords&&(e.typeKeywords=e.typeKeywords.filter(((e,t,r)=>r.indexOf(e)===t)),r===U.newItem&&(e.typeKeywords=e.typeKeywords.filter((e=>\"Hosted Service\"!==e))))}async _saveAs(e,t){const i={...O,...t};let o=j.from(e);o||(R.error(\"_saveAs(): requires a portal item parameter\"),await Promise.reject(new r(\"sceneservice:portal-item-required\",\"_saveAs() requires a portal item to save to\"))),o.id&&(o=o.clone(),o.id=null);const s=o.portal||b.getDefault();await this._ensureLoadBeforeSave(),o.type=T,o.portal=s;const a={origin:\"portal-item\",url:null,messages:[],portal:s,portalItem:o,writtenProperties:[],blockedRelativeUrls:[],resources:{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}},n={layers:[this.write({},a)]};return await Promise.all(a.resources.pendingOperations),await this._validateAgainstJSONSchema(n,a,i),o.url=this.url,o.title||(o.title=this.title),this._updateTypeKeywords(o,i,U.newItem),await s._signIn(),await s.user.addItem({item:o,folder:i&&i.folder,data:n}),await _(this.resourceReferences,a,null),this.portalItem=o,d(a),a.portalItem=o,o}async _save(e){const t={...O,...e};this.portalItem||(R.error(\"_save(): requires the .portalItem property to be set\"),await Promise.reject(new r(\"sceneservice:portal-item-not-set\",\"Portal item to save to has not been set on this SceneService\"))),this.portalItem.type!==T&&(R.error(\"_save(): Non-matching portal item type. Got \"+this.portalItem.type+\", expected \"+T),await Promise.reject(new r(\"sceneservice:portal-item-wrong-type\",`Portal item needs to have type \"${T}\"`))),await this._ensureLoadBeforeSave();const i={origin:\"portal-item\",url:this.portalItem.itemUrl&&a(this.portalItem.itemUrl),messages:[],portal:this.portalItem.portal||b.getDefault(),portalItem:this.portalItem,writtenProperties:[],blockedRelativeUrls:[],resources:{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}},o={layers:[this.write({},i)]};return await Promise.all(i.resources.pendingOperations),await this._validateAgainstJSONSchema(o,i,t),this.portalItem.url=this.url,this.portalItem.title||(this.portalItem.title=this.title),this._updateTypeKeywords(this.portalItem,t,U.existingItem),await this.portalItem.update({data:o}),await _(this.resourceReferences,i,null),d(i),this.portalItem}async _validateAgainstJSONSchema(e,t,i){let o=t.messages.filter((e=>\"error\"===e.type)).map((e=>new r(e.name,e.message,e.details)));if(i&&i.validationOptions.ignoreUnsupported&&(o=o.filter((e=>\"layer:unsupported\"!==e.name&&\"symbol:unsupported\"!==e.name&&\"symbol-layer:unsupported\"!==e.name&&\"property:unsupported\"!==e.name&&\"url:unsupported\"!==e.name&&\"scenemodification:unsupported\"!==e.name))),i.validationOptions.enabled||E){const t=(await import(\"../support/schemaValidator.js\")).validate(e,i.portalItemLayerType);if(t.length>0){const e=`Layer item did not validate:\\n${t.join(\"\\n\")}`;if(R.error(`_validateAgainstJSONSchema(): ${e}`),\"throw\"===i.validationOptions.failPolicy){const e=t.map((e=>new r(\"sceneservice:schema-validation\",e))).concat(o);throw new r(\"sceneservice-validate:error\",\"Failed to save layer item due to schema validation, see `details.errors`.\",{combined:e})}}}if(o.length>0)throw new r(\"sceneservice:save\",\"Failed to save SceneService due to unsupported or invalid content. See 'details.errors' for more detailed information\",{errors:o})}};return e([n(w)],A.prototype,\"id\",void 0),e([n({type:y})],A.prototype,\"spatialReference\",void 0),e([l(\"spatialReference\",[\"spatialReference\",\"store.indexCRS\",\"store.geographicCRS\"])],A.prototype,\"readSpatialReference\",null),e([n({type:u})],A.prototype,\"fullExtent\",void 0),e([l(\"fullExtent\",[\"fullExtent\",\"store.extent\",\"spatialReference\",\"store.indexCRS\",\"store.geographicCRS\"])],A.prototype,\"readFullExtent\",null),e([n({readOnly:!0,type:m})],A.prototype,\"heightModelInfo\",void 0),e([n({type:Number,json:{name:\"layerDefinition.minScale\",write:!0,origins:{service:{read:{source:\"minScale\"},write:!1}}}})],A.prototype,\"minScale\",void 0),e([n({type:Number,json:{name:\"layerDefinition.maxScale\",write:!0,origins:{service:{read:{source:\"maxScale\"},write:!1}}}})],A.prototype,\"maxScale\",void 0),e([n({readOnly:!0})],A.prototype,\"version\",void 0),e([l(\"version\",[\"store.version\"])],A.prototype,\"readVersion\",null),e([n({type:String,json:{read:{source:\"copyrightText\"}}})],A.prototype,\"copyright\",void 0),e([n({type:String,json:{read:!1}})],A.prototype,\"sublayerTitleMode\",void 0),e([n({type:String})],A.prototype,\"title\",void 0),e([l(\"portal-item\",\"title\")],A.prototype,\"readTitlePortalItem\",null),e([l(\"service\",\"title\",[\"name\"])],A.prototype,\"readTitleService\",null),e([n({type:Number,json:{origins:{service:{read:{source:\"id\"}},\"portal-item\":{write:{target:\"id\",isRequired:!0,ignoreOrigin:!0},read:!1}}}})],A.prototype,\"layerId\",void 0),e([n(I)],A.prototype,\"url\",null),e([c(\"url\")],A.prototype,\"writeUrl\",null),e([n()],A.prototype,\"parsedUrl\",null),e([n({readOnly:!0})],A.prototype,\"store\",void 0),e([n({type:String,readOnly:!0,json:{read:{source:\"store.rootNode\"}}})],A.prototype,\"rootNode\",void 0),A=e([p(\"esri.layers.mixins.SceneService\")],A),A},N=-1e38,E=!1;var U;!function(e){e[e.existingItem=0]=\"existingItem\",e[e.newItem=1]=\"newItem\"}(U||(U={}));const T=\"Scene Service\",O={getTypeKeywords:()=>[],portalItemLayerType:\"unknown\",validationOptions:{enabled:!0,ignoreUnsupported:!1,failPolicy:\"throw\"}};var K;!function(e){e[e.SAVE=0]=\"SAVE\",e[e.SAVE_AS=1]=\"SAVE_AS\"}(K||(K={}));export{T as SCENE_SERVICE_ITEM_TYPE,K as SaveOperationType,A as SceneService};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import{ClonableMixin as r}from\"../../core/Clonable.js\";import{JSONSupport as e}from\"../../core/JSONSupport.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";let p=class extends(r(e)){constructor(){super(...arguments),this.enabled=!0,this.label=\"\",this.normal=null,this.point=null}};o([t({type:Boolean,json:{default:!0,write:!0}})],p.prototype,\"enabled\",void 0),o([t({type:String,json:{write:!0}})],p.prototype,\"label\",void 0),o([t({type:[Number],json:{write:!0}})],p.prototype,\"normal\",void 0),o([t({type:[Number],json:{write:!0}})],p.prototype,\"point\",void 0),p=o([s(\"esri.layers.support.VoxelDynamicSection\")],p);const i=p;export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import{ClonableMixin as r}from\"../../core/Clonable.js\";import{JSONSupport as e}from\"../../core/JSONSupport.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";let p=class extends(r(e)){constructor(){super(...arguments),this.enabled=!0,this.label=\"\",this.normal=null,this.point=null}};o([t({type:Boolean,json:{write:!0}})],p.prototype,\"enabled\",void 0),o([t({type:String,json:{write:!0}})],p.prototype,\"label\",void 0),o([t({type:[Number],json:{write:!0}})],p.prototype,\"normal\",void 0),o([t({type:[Number],json:{write:!0}})],p.prototype,\"point\",void 0),p=o([s(\"esri.layers.support.VoxelSlice\")],p);const i=p;export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{JSONSupport as r}from\"../../core/JSONSupport.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{Integer as t}from\"../../core/accessorSupport/ensureType.js\";import{reader as s}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import p from\"./VoxelSlice.js\";import{f as l}from\"../../chunks/persistableUrlUtils.js\";let n=class extends r{constructor(){super(...arguments),this.enabled=!0,this.href=null,this.id=null,this.label=\"\",this.normal=null,this.point=null,this.sizeInPixel=null,this.slices=null,this.timeId=0,this.variableId=null}readHref(e,r,o){return l(e,o)}};e([o({type:Boolean,json:{default:!0,write:!0}})],n.prototype,\"enabled\",void 0),e([o({type:String,json:{write:{enabled:!0,isRequired:!0}}})],n.prototype,\"href\",void 0),e([s([\"service\",\"web-scene\"],\"href\")],n.prototype,\"readHref\",null),e([o({type:t,json:{write:{enabled:!0,isRequired:!0}}})],n.prototype,\"id\",void 0),e([o({type:String,json:{write:!0}})],n.prototype,\"label\",void 0),e([o({type:[Number],json:{write:{enabled:!0,isRequired:!0}}})],n.prototype,\"normal\",void 0),e([o({type:[Number],json:{write:{enabled:!0,isRequired:!0}}})],n.prototype,\"point\",void 0),e([o({type:[t],json:{write:{enabled:!0,isRequired:!0}}})],n.prototype,\"sizeInPixel\",void 0),e([o({type:[p],json:{write:!0}})],n.prototype,\"slices\",void 0),e([o({type:t,json:{default:0,write:!0}})],n.prototype,\"timeId\",void 0),e([o({type:t,json:{write:{enabled:!0,isRequired:!0}}})],n.prototype,\"variableId\",void 0),n=e([i(\"esri.layers.support.VoxelSection\")],n);const a=n;export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import{JSONSupport as o}from\"../../core/JSONSupport.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";let t=class extends o{constructor(){super(...arguments),this.diffuseFactor=.5,this.specularFactor=.5}};r([s({type:Number,range:{min:0,max:1},json:{default:.5,write:!0}})],t.prototype,\"diffuseFactor\",void 0),r([s({type:Number,range:{min:0,max:1},json:{default:.5,write:!0}})],t.prototype,\"specularFactor\",void 0),t=r([e(\"esri.layers.support.VoxelSimpleShading\")],t);const p=t;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import{JSONSupport as t}from\"../../core/JSONSupport.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";let s=class extends t{constructor(){super(...arguments),this.continuity=null,this.hasNoData=!1,this.noData=0,this.offset=0,this.scale=1,this.type=null}};o([e({type:[\"discrete\",\"continuous\"],json:{write:!0}})],s.prototype,\"continuity\",void 0),o([e({type:Boolean,json:{write:!0}})],s.prototype,\"hasNoData\",void 0),o([e({type:Number,json:{write:!0}})],s.prototype,\"noData\",void 0),o([e({type:Number,json:{write:!0}})],s.prototype,\"offset\",void 0),o([e({type:Number,json:{write:!0}})],s.prototype,\"scale\",void 0),o([e({type:String,json:{write:{enabled:!0,isRequired:!0}}})],s.prototype,\"type\",void 0),s=o([r(\"esri.layers.support.VoxelFormat\")],s);const p=s;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import{JSONSupport as e}from\"../../core/JSONSupport.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import s from\"./VoxelFormat.js\";let i=class extends e{constructor(){super(...arguments),this.id=null,this.description=\"\",this.name=null,this.originalFormat=null,this.renderingFormat=null,this.unit=\"\",this.volumeId=0,this.type=null}};t([r({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],i.prototype,\"id\",void 0),t([r({type:String,json:{write:!0}})],i.prototype,\"description\",void 0),t([r({type:String,json:{write:{enabled:!0,isRequired:!0}}})],i.prototype,\"name\",void 0),t([r({type:s,json:{write:!0}})],i.prototype,\"originalFormat\",void 0),t([r({type:s,json:{write:{enabled:!0,isRequired:!0}}})],i.prototype,\"renderingFormat\",void 0),t([r({type:String,json:{write:!0}})],i.prototype,\"unit\",void 0),t([r({type:Number,json:{write:!0}})],i.prototype,\"volumeId\",void 0),t([r({type:[\"stc-hot-spot-results\",\"stc-cluster-outlier-results\",\"stc-estimated-bin\",\"generic-nearest-interpolated\"],json:{write:!0}})],i.prototype,\"type\",void 0),i=t([o(\"esri.layers.support.VoxelVariable\")],i);const p=i;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import r from\"../../Color.js\";import{JSONSupport as e}from\"../../core/JSONSupport.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{Integer as t}from\"../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";let l=class extends e{constructor(){super(...arguments),this.color=null,this.value=null,this.enabled=!0,this.label=null}};o([s({type:r,json:{type:[t],write:{enabled:!0,isRequired:!0}}})],l.prototype,\"color\",void 0),o([s({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],l.prototype,\"value\",void 0),o([s({type:Boolean,json:{default:!0,write:!0}})],l.prototype,\"enabled\",void 0),o([s({type:String,json:{write:!0}})],l.prototype,\"label\",void 0),l=o([p(\"esri.layers.support.VoxelIsosurface\")],l);const i=l;export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import{JSONSupport as r}from\"../../core/JSONSupport.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";let t=class extends r{constructor(){super(...arguments),this.alpha=0,this.position=0}};o([s({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],t.prototype,\"alpha\",void 0),o([s({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],t.prototype,\"position\",void 0),t=o([e(\"esri.layers.support.VoxelAlphaStop\")],t);const p=t;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import r from\"../../Color.js\";import{JSONSupport as s}from\"../../core/JSONSupport.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{Integer as t}from\"../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";let i=class extends s{constructor(){super(...arguments),this.color=null,this.position=0}};o([e({type:r,json:{type:[t],write:{enabled:!0,isRequired:!0}}})],i.prototype,\"color\",void 0),o([e({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],i.prototype,\"position\",void 0),i=o([p(\"esri.layers.support.VoxelColorStop\")],i);const c=i;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import{JSONSupport as o}from\"../../core/JSONSupport.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";let t=class extends o{constructor(){super(...arguments),this.enabled=!1,this.range=null}};r([e({type:Boolean,json:{default:!1,write:!0}})],t.prototype,\"enabled\",void 0),r([e({type:[Number],json:{write:!0}})],t.prototype,\"range\",void 0),t=r([s(\"esri.layers.support.VoxelRangeFilter\")],t);const p=t;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Collection.js\";import{referenceSetter as e}from\"../../core/collectionUtils.js\";import{JSONSupport as r}from\"../../core/JSONSupport.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import l from\"./VoxelAlphaStop.js\";import i from\"./VoxelColorStop.js\";import a from\"./VoxelRangeFilter.js\";let n=class extends r{constructor(o){super(o),this.interpolation=null,this.stretchRange=null,this.rangeFilter=null,this.colorStops=new t,this.alphaStops=new t}set colorStops(o){this._set(\"colorStops\",e(o,this._get(\"colorStops\"),t.ofType(i)))}set alphaStops(o){this._set(\"alphaStops\",e(o,this._get(\"alphaStops\"),t.ofType(l)))}};o([s({type:[\"linear\",\"nearest\"],json:{write:!0}})],n.prototype,\"interpolation\",void 0),o([s({type:[Number],json:{write:{enabled:!0,isRequired:!0}}})],n.prototype,\"stretchRange\",void 0),o([s({type:t.ofType(i),json:{write:{enabled:!0,overridePolicy(){return{enabled:!!this.colorStops&&this.colorStops.length>0}}}}})],n.prototype,\"colorStops\",null),o([s({type:t.ofType(l),json:{write:{enabled:!0,overridePolicy(){return{enabled:!!this.alphaStops&&this.alphaStops.length>0}}}}})],n.prototype,\"alphaStops\",null),o([s({type:a,json:{write:!0}})],n.prototype,\"rangeFilter\",void 0),n=o([p(\"esri.layers.support.VoxelTransferFunctionStyle\")],n);const c=n;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import e from\"../../Color.js\";import{JSONSupport as r}from\"../../core/JSONSupport.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{Integer as s}from\"../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";let i=class extends r{constructor(){super(...arguments),this.color=null,this.value=0,this.enabled=!0,this.label=null}};o([t({type:e,json:{type:[s],write:{enabled:!0,isRequired:!0}}})],i.prototype,\"color\",void 0),o([t({type:s,json:{write:{enabled:!0,isRequired:!0}}})],i.prototype,\"value\",void 0),o([t({type:Boolean,json:{default:!0,write:!0}})],i.prototype,\"enabled\",void 0),o([t({type:String,json:{write:!0}})],i.prototype,\"label\",void 0),i=o([p(\"esri.layers.support.VoxelUniqueValue\")],i);const l=i;export{l as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{ClonableMixin as s}from\"../../core/Clonable.js\";import o from\"../../core/Collection.js\";import{referenceSetter as r}from\"../../core/collectionUtils.js\";import{JSONSupport as t}from\"../../core/JSONSupport.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{Integer as u}from\"../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import n from\"./VoxelIsosurface.js\";import a from\"./VoxelTransferFunctionStyle.js\";import p from\"./VoxelUniqueValue.js\";let c=class extends(s(t)){constructor(e){super(e),this.variableId=0,this.label=null,this.transferFunction=null,this.uniqueValues=new o,this.isosurfaces=new o}set uniqueValues(e){this._set(\"uniqueValues\",r(e,this._get(\"uniqueValues\"),o.ofType(p)))}set isosurfaces(e){this._set(\"isosurfaces\",r(e,this._get(\"isosurfaces\"),o.ofType(n)))}};e([i({type:u,json:{write:{enabled:!0,isRequired:!0}}})],c.prototype,\"variableId\",void 0),e([i({type:String,json:{write:!0}})],c.prototype,\"label\",void 0),e([i({type:a,json:{write:{enabled:!0,overridePolicy(){return{enabled:!this.uniqueValues||this.uniqueValues.length<1}}}}})],c.prototype,\"transferFunction\",void 0),e([i({type:o.ofType(p),json:{write:{enabled:!0,overridePolicy(){return{enabled:!!this.uniqueValues&&this.uniqueValues.length>0}}}}})],c.prototype,\"uniqueValues\",null),e([i({type:o.ofType(n),json:{write:{enabled:!0,overridePolicy(){const e=!this.uniqueValues||this.uniqueValues.length<1,s=!!this.isosurfaces&&this.isosurfaces.length>0;return{enabled:e&&s}}}}})],c.prototype,\"isosurfaces\",null),c=e([l(\"esri.layers.support.VoxelVariableStyle\")],c);const f=c;export{f as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import{JSONSupport as o}from\"../../core/JSONSupport.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";let t=class extends o{constructor(){super(...arguments),this.values=null}};r([s({type:[Number],json:{write:!0}})],t.prototype,\"values\",void 0),t=r([e(\"esri.layers.support.VoxelIrregularSpacing\")],t);const p=t;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import{JSONSupport as o}from\"../../core/JSONSupport.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";let t=class extends o{constructor(){super(...arguments),this.scale=1,this.offset=0}};r([s({type:Number,json:{write:!0}})],t.prototype,\"scale\",void 0),r([s({type:Number,json:{write:!0}})],t.prototype,\"offset\",void 0),t=r([e(\"esri.layers.support.VoxelRegularSpacing\")],t);const p=t;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import{JSONSupport as o}from\"../../core/JSONSupport.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import i from\"./VoxelIrregularSpacing.js\";import s from\"./VoxelRegularSpacing.js\";let p=class extends o{constructor(){super(...arguments),this.irregularSpacing=null,this.isPositiveUp=null,this.isWrappedDateLine=null,this.label=null,this.name=null,this.quantity=null,this.regularSpacing=null,this.size=0,this.unit=null}};t([r({type:i,json:{write:!0}})],p.prototype,\"irregularSpacing\",void 0),t([r({type:Boolean,json:{write:!0}})],p.prototype,\"isPositiveUp\",void 0),t([r({type:Boolean,json:{write:!0}})],p.prototype,\"isWrappedDateLine\",void 0),t([r({type:String,json:{write:!0}})],p.prototype,\"label\",void 0),t([r({type:String,json:{write:!0}})],p.prototype,\"name\",void 0),t([r({type:String,json:{write:!0}})],p.prototype,\"quantity\",void 0),t([r({type:s,json:{write:!0}})],p.prototype,\"regularSpacing\",void 0),t([r({type:Number,json:{write:!0}})],p.prototype,\"size\",void 0),t([r({type:String,json:{write:!0}})],p.prototype,\"unit\",void 0),p=t([e(\"esri.layers.support.VoxelDimension\")],p);const n=p;export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../chunks/tslib.es6.js\";import{JSONSupport as i}from\"../../core/JSONSupport.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import o from\"./VoxelDimension.js\";let t=class extends i{constructor(){super(...arguments),this.id=0,this.dimensions=null}getZDimension(){if(!this.dimensions)return-1;if(!Array.isArray(this.dimensions))return-1;if(4!==this.dimensions.length)return-1;for(let s=2;s<4;++s)if(this.dimensions[s].size>0)return s;return-1}isVolumeValid(){return!!this.dimensions&&(!!Array.isArray(this.dimensions)&&(4===this.dimensions.length&&(!(this.dimensions[0].size<1||this.dimensions[1].size<1)&&-1!==this.getZDimension())))}};s([e({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],t.prototype,\"id\",void 0),s([e({type:[o],json:{write:{enabled:!0,isRequired:!0}}})],t.prototype,\"dimensions\",void 0),t=s([r(\"esri.layers.support.VoxelVolume\")],t);const n=t;export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{JSONSupport as r}from\"../../core/JSONSupport.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";var t;let s=t=class extends r{constructor(){super(...arguments),this.apronWidth=1,this.brickSize=[32,32,32],this.maxLodLevel=0,this.nodeSize=[4,4,4]}isValid(){const e=new t;return e.apronWidth===this.apronWidth&&e.maxLodLevel===this.maxLodLevel&&(!!this.brickSize&&(!!this.nodeSize&&(!(!Array.isArray(this.brickSize)||!Array.isArray(this.nodeSize))&&(3===this.brickSize.length&&3===this.nodeSize.length&&(32===this.brickSize[0]&&32===this.brickSize[1]&&32===this.brickSize[2]&&(4===this.nodeSize[0]&&4===this.nodeSize[1]&&4===this.nodeSize[2]))))))}};e([i({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],s.prototype,\"apronWidth\",void 0),e([i({type:[Number],json:{write:{enabled:!0,isRequired:!0}}})],s.prototype,\"brickSize\",void 0),e([i({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],s.prototype,\"maxLodLevel\",void 0),e([i({type:[Number],json:{write:{enabled:!0,isRequired:!0}}})],s.prototype,\"nodeSize\",void 0),s=t=e([o(\"esri.layers.support.VoxelVolumeIndex\")],s);const p=s;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{ClonableMixin as t}from\"../../core/Clonable.js\";import o from\"../../core/Collection.js\";import{referenceSetter as s}from\"../../core/collectionUtils.js\";import{JSONSupport as i}from\"../../core/JSONSupport.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{Integer as c}from\"../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import p from\"./VoxelDynamicSection.js\";import n from\"./VoxelSlice.js\";let a=class extends(t(i)){constructor(e){super(e),this.volumeId=0,this.verticalExaggeration=1,this.exaggerationMode=\"scale-height\",this.verticalOffset=0,this.slices=new o,this.dynamicSections=new o}set slices(e){this._set(\"slices\",s(e,this._get(\"slices\"),o.ofType(n)))}set dynamicSections(e){this._set(\"dynamicSections\",s(e,this._get(\"dynamicSections\"),o.ofType(p)))}};e([r({type:c,json:{write:{enabled:!0,isRequired:!0}}})],a.prototype,\"volumeId\",void 0),e([r({type:Number,json:{default:1,write:!0}})],a.prototype,\"verticalExaggeration\",void 0),e([r({type:[\"scale-position\",\"scale-height\"],json:{default:\"scale-height\",write:!0}})],a.prototype,\"exaggerationMode\",void 0),e([r({type:Number,json:{default:0,write:!0}})],a.prototype,\"verticalOffset\",void 0),e([r({type:o.ofType(n),json:{write:{enabled:!0,overridePolicy(){return{enabled:!!this.slices&&this.slices.length>0}}}}})],a.prototype,\"slices\",null),e([r({type:o.ofType(p),json:{write:{enabled:!0,overridePolicy(){return{enabled:!!this.dynamicSections&&this.dynamicSections.length>0}}}}})],a.prototype,\"dynamicSections\",null),a=e([l(\"esri.layers.support.VoxelVolumeStyle\")],a);const m=a;export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import i from\"../core/Collection.js\";import r from\"../core/Error.js\";import t from\"../core/Logger.js\";import{isSome as o,isNone as s}from\"../core/maybe.js\";import{MultiOriginJSONMixin as n}from\"../core/MultiOriginJSONSupport.js\";import{throwIfAbortError as l}from\"../core/promiseUtils.js\";import{property as a}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import{Integer as p}from\"../core/accessorSupport/ensureType.js\";import{reader as m}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as c}from\"../core/accessorSupport/decorators/subclass.js\";import{n as y}from\"../chunks/vec3.js\";import{f as u}from\"../chunks/vec3f64.js\";import d from\"./Layer.js\";import{APIKeyMixin as v}from\"./mixins/APIKeyMixin.js\";import{ArcGISService as h}from\"./mixins/ArcGISService.js\";import{OperationalLayer as b}from\"./mixins/OperationalLayer.js\";import{PortalLayer as f}from\"./mixins/PortalLayer.js\";import{ScaleRangeLayer as S}from\"./mixins/ScaleRangeLayer.js\";import{SceneService as g}from\"./mixins/SceneService.js\";import{sanitizeUrl as V}from\"./support/arcgisLayerUrl.js\";import{popupEnabled as j,legendEnabled as w,url as x}from\"./support/commonProperties.js\";import I from\"./support/VoxelDynamicSection.js\";import D from\"./support/VoxelSection.js\";import N from\"./support/VoxelSimpleShading.js\";import T from\"./support/VoxelSlice.js\";import L from\"./support/VoxelVariable.js\";import O from\"./support/VoxelVariableStyle.js\";import M from\"./support/VoxelVolume.js\";import P from\"./support/VoxelVolumeIndex.js\";import E from\"./support/VoxelVolumeStyle.js\";const A=t.getLogger(\" esri.layers.VoxelLayer\");let J=class extends(g(h(b(f(S(n(v(d)))))))){constructor(e){super(e),this.serviceRoot=\"\",this.popupEnabled=!0,this.operationalLayerType=\"Voxel\",this.legendEnabled=!0,this.title=null,this.sections=new i,this.currentVariableId=0,this.volumeStyles=null,this.renderMode=\"volume\",this.variableStyles=null,this.enableSlices=!0,this.enableSections=!0,this.enableDynamicSections=!0,this.enableIsosurfaces=!0,this.shading=new N,this.opacity=1,this.variables=new i,this.volumes=new i,this.index=null,this.minScale=0,this.maxScale=0,this.type=\"voxel\",this.version={major:Number.NaN,minor:Number.NaN,versionString:\"\"},this.volumeStyles=new i,this.variableStyles=new i}set url(e){this._set(\"url\",V(e,A))}load(e){const i=o(e)?e.signal:null,r=this.loadFromPortal({supportedTypes:[\"Scene Service\"]},e).catch(l).then((()=>this._fetchService(i))).then((()=>this.serviceRoot=this.url));return this.addResolvingPromise(r),Promise.resolve(this)}readVersion(e,i){return super.parseVersionString(e)}validateLayer(e){if(e.layerType&&e.layerType!==this.operationalLayerType)throw new r(\"voxel-layer:layer-type-not-supported\",\"VoxelLayer does not support this layer type\",{layerType:e.layerType});if(isNaN(this.version.major)||isNaN(this.version.minor)||this.version.major<3)throw new r(\"layer:service-version-not-supported\",\"Service version is not supported.\",{serviceVersion:this.version.versionString,supportedVersions:\"3.x\"});if(this.version.major>3)throw new r(\"layer:service-version-too-new\",\"Service version is too new.\",{serviceVersion:this.version.versionString,supportedVersions:\"3.x\"})}getConfiguration(){const e={layerType:this.operationalLayerType,version:this.version.versionString,name:this.title,spatialReference:this.spatialReference,fullExtent:this.fullExtent,volumes:this.volumes.toJSON(),variables:this.variables.toJSON(),index:this.index.toJSON(),sections:this.sections.toJSON(),style:{volumeStyles:this.volumeStyles.toJSON(),currentVariableId:this.currentVariableId,renderMode:this.renderMode,variableStyles:this.variableStyles.toJSON(),enableSections:this.enableSections,enableDynamicSections:this.enableDynamicSections,enableIsosurfaces:this.enableIsosurfaces,enableSlices:this.enableSlices,shading:this.shading}};return e.index&&this.index.isValid()?JSON.stringify(e):\"\"}getVariableStyle(e){let i=-1;i=o(e)?e:this.currentVariableId;if(!this.variableStyles||-1===i)return null;const r=this.variableStyles.findIndex((e=>e.variableId===i));return r<0?null:this.variableStyles.getItemAt(r)}getVariable(e){let i=-1;if(i=o(e)?e:this.currentVariableId,!this.variables||-1===i)return null;const r=this.variables.findIndex((e=>e.id===i));return r<0?null:this.variables.getItemAt(r)}getSections(){const e=[];for(const i of this.sections)e.push(new D({enabled:i.enabled,href:i.href,id:i.id,label:i.label,normal:i.normal,point:i.point,sizeInPixel:i.sizeInPixel,slices:i.slices,timeId:i.timeId,variableId:i.variableId}));return e}getVolume(e){const i=this.getVariable(e);return o(i)?this.volumes.find((({id:e})=>e===i.volumeId)):null}getVolumeStyle(e){const i=this.getVariable(e);return o(i)?this.volumeStyles.find((({volumeId:e})=>e===i.volumeId)):null}getSlices(){const e=[],i=this.getVolume(null);if(s(i)||!i.isVolumeValid())return e;const r=this.getVolumeStyle(null);if(s(r))return e;for(const t of r.slices)this._isPlaneValid(t,[0,1,i.getZDimension()],i.dimensions)?e.push(new T({enabled:t.enabled,label:t.label,point:t.point,normal:t.normal})):e.push(new T({enabled:!1,label:\"invalid\",point:t.point,normal:t.normal}));return e}getDynamicSections(){const e=[],i=this.getVolume(null);if(s(i)||!i.isVolumeValid())return e;const r=this.getVolumeStyle(null);if(s(r))return e;for(const t of r.dynamicSections)this._isPlaneValid(t,[0,1,i.getZDimension()],i.dimensions)?e.push(new I({enabled:t.enabled,label:t.label,point:t.point,normal:t.normal})):e.push(new I({enabled:!1,label:\"invalid\",point:t.point,normal:t.normal}));return e}getVerticalExaggeration(){const e=1,i=this.getVolumeStyle(null);return s(i)?e:i.verticalExaggeration}getVerticalOffset(){const e=1,i=this.getVolumeStyle(null);return s(i)?e:i.verticalOffset}_isPlaneValid(e,i,r){if(!e.point)return!1;if(!Array.isArray(e.point)||3!==e.point.length)return!1;if(!e.normal)return!1;if(!Array.isArray(e.normal)||3!==e.normal.length)return!1;for(let s=0;s<3;++s){const t=e.point[s];if(t<0||t>=r[i[s]].size)return!1}const t=u(e.normal[0],e.normal[1],e.normal[2]);y(t,t);const o=1e-6;return!(Math.abs(t[0])+Math.abs(t[1])+Math.abs(t[2])<o)&&(e.normal[0]=t[0],e.normal[1]=t[1],e.normal[2]=t[2],!0)}};e([a(j)],J.prototype,\"popupEnabled\",void 0),e([a({type:[\"Voxel\"]})],J.prototype,\"operationalLayerType\",void 0),e([a(w)],J.prototype,\"legendEnabled\",void 0),e([a({json:{write:!0}})],J.prototype,\"title\",void 0),e([a(x)],J.prototype,\"url\",null),e([a({type:i.ofType(D),json:{origins:{\"web-scene\":{name:\"layerDefinition.sections\",write:!0}}}})],J.prototype,\"sections\",void 0),e([a({type:p,json:{origins:{\"web-scene\":{name:\"layerDefinition.style.currentVariableId\",write:{enabled:!0,isRequired:!0}},service:{name:\"style.currentVariableId\"}}}})],J.prototype,\"currentVariableId\",void 0),e([a({type:i.ofType(E),json:{origins:{\"web-scene\":{name:\"layerDefinition.style.volumeStyles\",write:!0},service:{name:\"style.volumeStyles\"}}}})],J.prototype,\"volumeStyles\",void 0),e([a({type:[\"volume\",\"surfaces\"],json:{origins:{\"web-scene\":{name:\"layerDefinition.style.renderMode\",write:!0},service:{name:\"style.renderMode\"}}}})],J.prototype,\"renderMode\",void 0),e([a({type:i.ofType(O),json:{origins:{\"web-scene\":{name:\"layerDefinition.style.variableStyles\",write:!0},service:{name:\"style.variableStyles\"}}}})],J.prototype,\"variableStyles\",void 0),e([a({type:Boolean,json:{origins:{\"web-scene\":{name:\"layerDefinition.style.enableSlices\",write:!0},service:{name:\"style.enableSlices\"}}}})],J.prototype,\"enableSlices\",void 0),e([a({type:Boolean,json:{origins:{\"web-scene\":{name:\"layerDefinition.style.enableSections\",write:!0},service:{name:\"style.enableSections\"}}}})],J.prototype,\"enableSections\",void 0),e([a({type:Boolean,json:{origins:{\"web-scene\":{name:\"layerDefinition.style.enableDynamicSections\",write:!0},service:{name:\"style.enableDynamicSections\"}}}})],J.prototype,\"enableDynamicSections\",void 0),e([a({type:Boolean,json:{origins:{\"web-scene\":{name:\"layerDefinition.style.enableIsosurfaces\",write:!0},service:{name:\"style.enableIsosurfaces\"}}}})],J.prototype,\"enableIsosurfaces\",void 0),e([a({type:N,json:{origins:{\"web-scene\":{name:\"layerDefinition.style.shading\",write:!0},service:{name:\"style.shading\"}}}})],J.prototype,\"shading\",void 0),e([a({type:[\"show\",\"hide\"]})],J.prototype,\"listMode\",void 0),e([a({type:Number,range:{min:0,max:1},nonNullable:!0,json:{read:!1,write:!1,origins:{\"web-scene\":{read:!1,write:!1},\"portal-item\":{read:!1,write:!1}}}})],J.prototype,\"opacity\",void 0),e([a({type:i.ofType(L)})],J.prototype,\"variables\",void 0),e([a({type:i.ofType(M)})],J.prototype,\"volumes\",void 0),e([a({type:P})],J.prototype,\"index\",void 0),e([a({type:Number,json:{name:\"layerDefinition.minScale\",read:!1,write:!1,origins:{service:{read:!1,write:!1}}}})],J.prototype,\"minScale\",void 0),e([a({type:Number,json:{name:\"layerDefinition.maxScale\",read:!1,write:!1,origins:{service:{read:!1,write:!1}}}})],J.prototype,\"maxScale\",void 0),e([a({json:{read:!1},readOnly:!0})],J.prototype,\"type\",void 0),e([a({readOnly:!0,json:{name:\"serviceVersion\"}})],J.prototype,\"version\",void 0),e([m(\"service\",\"version\")],J.prototype,\"readVersion\",null),J=e([c(\"esri.layers.VoxelLayer\")],J);const R=J;export{R as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isMultiOriginJSONMixin as r}from\"../multiOriginJSONSupportUtils.js\";function i(i){i&&i.writtenProperties&&i.writtenProperties.forEach((({target:i,propName:t,newOrigin:e})=>{r(i)&&e&&i.originOf(t)!==e&&i.updateOrigin(t,e)}))}export{i as updateOrigins};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import t from\"../../core/Error.js\";import{get as r,isSome as a,isNone as o}from\"../../core/maybe.js\";import{join as s,getPathExtension as n}from\"../../core/urlUtils.js\";async function c(e,t={},a){await e.load(a);const o=s(e.itemUrl,\"resources\"),{start:n=1,num:c=10,sortOrder:u=\"asc\",sortField:i=\"created\"}=t,l={query:{start:n,num:c,sortOrder:u,sortField:i,token:e.apiKey},signal:r(a,\"signal\")},p=await e.portal._request(o,l);return{total:p.total,nextStart:p.nextStart,resources:p.resources.map((({created:t,size:r,resource:a})=>({created:new Date(t),size:r,resource:e.resourceFromPath(a)})))}}async function u(e,o,n,c){if(!e.hasPath())throw new t(`portal-item-resource-${o}:invalid-path`,\"Resource does not have a valid path\");const u=e.portalItem;await u.load(c);const i=s(u.userItemUrl,\"add\"===o?\"addResources\":\"updateResources\"),[l,d]=p(e.path),m=await h(n),f=new FormData;return l&&\".\"!==l&&f.append(\"resourcesPrefix\",l),f.append(\"fileName\",d),f.append(\"file\",m,d),f.append(\"f\",\"json\"),a(c)&&c.access&&f.append(\"access\",c.access),await u.portal._request(i,{method:\"post\",body:f,signal:r(c,\"signal\")}),e}async function i(e,a,o){if(!a.hasPath())throw new t(\"portal-item-resources-remove:invalid-path\",\"Resource does not have a valid path\");await e.load(o);const n=s(e.userItemUrl,\"removeResources\");await e.portal._request(n,{method:\"post\",query:{resource:a.path},signal:r(o,\"signal\")}),a.portalItem=null}async function l(e,t){await e.load(t);const a=s(e.userItemUrl,\"removeResources\");return e.portal._request(a,{method:\"post\",query:{deleteAll:!0},signal:r(t,\"signal\")})}function p(e){const t=e.lastIndexOf(\"/\");return-1===t?[\".\",e]:[e.slice(0,t),e.slice(t+1)]}function d(e){const[t,r]=m(e),[a,o]=p(t);return[a,o,r]}function m(e){const t=n(e);return o(t)?[e,\"\"]:[e.slice(0,e.length-t.length-1),`.${t}`]}async function h(t){if(t instanceof Blob)return t;return(await e(t.url,{responseType:\"blob\"})).data}function f(e,t){if(!e.hasPath())return null;const[r,,a]=d(e.path);return e.portalItem.resourceFromPath(s(r,t+a))}function w(e,t){if(!e.hasPath())return null;const[r,,a]=d(e.path);return e.portalItem.resourceFromPath(s(r,t+a))}export{u as addOrUpdateResource,h as contentToBlob,c as fetchResources,f as getSiblingOfSameType,w as getSiblingOfSameTypeI,l as removeAllResources,i as removeResource,d as splitPrefixFileNameAndExtension};\n"],"sourceRoot":""}