(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ced22"],{"60a3":function(e,t,n){"use strict";n.r(t),n.d(t,"getContrastingBackgroundTheme",(function(){return q})),n.d(t,"getRenderSymbolParameters",(function(){return D})),n.d(t,"previewSymbol2D",(function(){return Z}));var a=n("9ef0"),l=n("ce50"),o=n("a915"),i=n("cdd0"),c=n("2003"),s=n("4bad");n("b2b2");function u(e){let{r:t,g:n,b:l,a:o}=e;return o<1&&(t=Math.round(o*t+255*(1-o)),n=Math.round(o*n+255*(1-o)),l=Math.round(o*l+255*(1-o))),new a["a"]({r:t,g:n,b:l})}function r(e){const{r:t,g:n,b:a}=u(e);return.2126*t+.7152*n+.0722*a}const d="picture-fill",m="picture-marker",h="simple-fill",p="simple-line",f="simple-marker",v="text",b="Aa",g=c["a"].size,y=c["a"].maxSize,w=c["a"].maxOutlineSize,k=c["a"].lineWidth,M=225,j=document.createElement("canvas");function O(e,t){const n=j.getContext("2d"),a=[];return t&&(t.weight&&a.push(t.weight),t.size&&a.push(t.size+"px"),t.family&&a.push(t.family)),n.font=a.join(" "),n.measureText(e).width}const x=7.2/2.54,z=72/2.54;function L(e){if(0===e.length)return 0;if(e.length>2){const t=Object(o["h"])(1),n=parseFloat(e);switch(e.slice(-2)){case"px":return n;case"pt":return n*t;case"in":return 72*n*t;case"pc":return 12*n*t;case"mm":return n*x*t;case"cm":return n*z*t}}return parseFloat(e)}function S(e){const t=null==e?void 0:e.size;return{width:null!=t&&"object"==typeof t&&"width"in t?Object(o["g"])(t.width):null,height:null!=t&&"object"==typeof t&&"height"in t?Object(o["g"])(t.height):null}}async function C(e,t){const n=t.fill,a=e.color;if("pattern"===(null==n?void 0:n.type)&&a&&e.type!==d){const e=await Object(i["d"])(n.src,a.toCss(!0));n.src=e,t.fill=n}}function F(e,t){return e>t?"dark":"light"}function D(e,t){var n,a;const l="number"==typeof(null==t?void 0:t.size)?null==t?void 0:t.size:null,s=null!=l?Object(o["g"])(l):null,u=null!=(null==t?void 0:t.maxSize)?Object(o["g"])(t.maxSize):null,r=null!=(null==t?void 0:t.rotation)?t.rotation:"angle"in e?e.angle:null,M=Object(i["c"])(e);let j=Object(i["e"])(e);"dark"!==q(e,245)||(null==t?void 0:t.ignoreWhiteSymbols)||(j={width:.75,...j,color:"#bdc3c7"});const x={shape:null,fill:M,stroke:j,offset:[0,0]};(null==(n=j)?void 0:n.width)&&(j.width=Math.min(j.width,w));const z=(null==(a=j)?void 0:a.width)||0;let C=null!=(null==t?void 0:t.size)&&(null==(null==t?void 0:t.scale)||(null==t?void 0:t.scale)),F=0,D=0,Z=!1;switch(e.type){case f:{const t=e.style,n=Math.min(null!=s?s:Object(o["g"])(e.size),u||y);switch(F=n,D=n,t){case"circle":x.shape={type:"circle",cx:0,cy:0,r:.5*n},C||(F+=z,D+=z);break;case"cross":x.shape={type:"path",path:[{command:"M",values:[0,.5*D]},{command:"L",values:[F,.5*D]},{command:"M",values:[.5*F,0]},{command:"L",values:[.5*F,D]}]};break;case"diamond":x.shape={type:"path",path:[{command:"M",values:[0,.5*D]},{command:"L",values:[.5*F,0]},{command:"L",values:[F,.5*D]},{command:"L",values:[.5*F,D]},{command:"Z",values:[]}]},C||(F+=z,D+=z);break;case"square":x.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[F,0]},{command:"L",values:[F,D]},{command:"L",values:[0,D]},{command:"Z",values:[]}]},C||(F+=z,D+=z),r&&(Z=!0);break;case"triangle":x.shape={type:"path",path:[{command:"M",values:[.5*F,0]},{command:"L",values:[F,D]},{command:"L",values:[0,D]},{command:"Z",values:[]}]},C||(F+=z,D+=z),r&&(Z=!0);break;case"x":x.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[F,D]},{command:"M",values:[F,0]},{command:"L",values:[0,D]}]},r&&(Z=!0);break;case"path":x.shape={type:"path",path:e.path||""},C||(F+=z,D+=z),r&&(Z=!0),C=!0}break}case p:{var E;const{width:e,height:n}=S(t),a=null!=n?n:Math.min(null!=s?s:z,u||w),l=null!=e?e:k;j.width=a,F=l,D=a;const o=(null==x||null==(E=x.stroke)?void 0:E.cap)||"butt",i="round"===o;C=!0,x.stroke.cap="butt"===o?"square":o,x.shape={type:"path",path:[{command:"M",values:[i?a/2:0,D/2]},{command:"L",values:[i?F-a/2:F,D/2]}]};break}case d:case h:{const e="object"==typeof(null==t?void 0:t.symbolConfig)&&(null==t?void 0:t.symbolConfig.isSquareFill),{width:n,height:a}=S(t);F=e&&null!=n?n:null!=s?s:g,D=e&&null!=a?a:F,C||(F+=z,D+=z),C=!0,x.shape=e?{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[F,0]},{command:"L",values:[F,D]},{command:"L",values:[0,D]},{command:"L",values:[0,0]},{command:"Z",values:[]}]}:c["m"].fill[0];break}case m:{let t=Object(o["g"])(e.width),n=Object(o["g"])(e.height);const a=null!=s?s:Math.max(t,n),l=t/n;t=l<=1?Math.ceil(a*l):a,n=l<=1?a:Math.ceil(a/l),F=Math.min(t,u||y),D=Math.min(n,u||y),x.shape={type:"image",x:-Math.round(F/2),y:-Math.round(D/2),width:F,height:D,src:e.url||""},r&&(Z=!0);break}case v:{const t=e,n=t.text||b,a=t.font,l=Math.min(null!=s?s:Object(o["g"])(a.size),u||y),i=O(n,{weight:a.weight,size:l,family:a.family}),c=/[\uE600-\uE6FF]/.test(n);F=c?l:i,D=l;let r=.25*L((a?l:0).toString());c&&(r+=5),x.shape={type:"text",text:n,x:t.xoffset||0,y:t.yoffset||r,align:"middle",alignBaseline:t.verticalAlignment,decoration:a&&a.decoration,rotated:t.rotated,kerning:t.kerning},x.font=a&&{size:l,style:a.style,decoration:a.decoration,weight:a.weight,family:a.family};break}}return{shapeDescriptor:x,size:[F,D],renderOptions:{node:null==t?void 0:t.node,scale:C,opacity:null==t?void 0:t.opacity,rotation:r,useRotationSize:Z,effectView:null==t?void 0:t.effectView}}}async function Z(e,t){const{shapeDescriptor:n,size:a,renderOptions:o}=D(e,t);if(!n.shape)throw new l["a"]("symbolPreview: renderPreviewHTML2D","symbol not supported.");await C(e,n);const i=[[n]];if("object"==typeof(null==t?void 0:t.symbolConfig)&&null!=t&&t.symbolConfig.applyColorModulation){const e=.6*a[0];i.unshift([{...n,offset:[-e,0],fill:Object(c["b"])(n.fill,-.3)}]),i.push([{...n,offset:[e,0],fill:Object(c["b"])(n.fill,.3)}]),a[0]+=2*e,o.scale=!1}return Object(s["a"])(i,a,o)}function q(e,t=M){const n=Object(i["c"])(e),l=Object(i["e"])(e),o=!n||"type"in n?null:new a["a"](n),c=null!=l&&l.color?new a["a"](null==l?void 0:l.color):null,s=o?F(r(o),t):null,u=c?F(r(c),t):null;return u?s?s===u?s:t>=M?"light":"dark":u:s}}}]);
//# sourceMappingURL=chunk-2d0ced22.df8345be.js.map